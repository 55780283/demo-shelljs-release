(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["coursewares"],{"02f4":function(t,e,a){var n=a("4588"),o=a("be13");t.exports=function(t){return function(e,a){var r,s,i=String(o(e)),l=n(a),c=i.length;return l<0||l>=c?t?"":void 0:(r=i.charCodeAt(l),r<55296||r>56319||l+1===c||(s=i.charCodeAt(l+1))<56320||s>57343?t?i.charAt(l):r:t?i.slice(l,l+2):s-56320+(r-55296<<10)+65536)}}},"0833":function(t,e,a){},"0a49":function(t,e,a){var n=a("9b43"),o=a("626a"),r=a("4bf8"),s=a("9def"),i=a("cd1c");t.exports=function(t,e){var a=1==t,l=2==t,c=3==t,d=4==t,u=6==t,p=5==t||u,h=e||i;return function(e,i,m){for(var g,v,_=r(e),f=o(_),b=n(i,m,3),w=s(f.length),k=0,y=a?h(e,w):l?h(e,0):void 0;w>k;k++)if((p||k in f)&&(g=f[k],v=b(g,k,_),t))if(a)y[k]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:y.push(g)}else if(d)return!1;return u?-1:c||d?d:y}}},"0bfb":function(t,e,a){"use strict";var n=a("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"10a4":function(t,e,a){},1169:function(t,e,a){var n=a("2d95");t.exports=Array.isArray||function(t){return"Array"==n(t)}},"11e9":function(t,e,a){var n=a("52a7"),o=a("4630"),r=a("6821"),s=a("6a99"),i=a("69a8"),l=a("c69a"),c=Object.getOwnPropertyDescriptor;e.f=a("9e1e")?c:function(t,e){if(t=r(t),e=s(e,!0),l)try{return c(t,e)}catch(a){}if(i(t,e))return o(!n.f.call(t,e),t[e])}},1201:function(t,e,a){"use strict";var n=a("b35b"),o=a.n(n);o.a},"12b2":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACQ0lEQVRogWP8////f4ZhAJiGgycYRj0yCMGoRwYbGPXIYAOjHhlsYNQjgw0MG4+wYIiQCf79/88Qe24Zw8G39whbysjEECdrwtCk4Y4hRy6gWow8//mJKE+AwJ///xhWP7uIIT4oPPJvgHsDo5l9sIFRjww2MOqRwQZGPTLYwKhHBhsY9chgA6MeGWxg1CODDQwbj5A80ZN+cQ3D3te3GX78+4MhRwpgZWJmiJMxxqrDUECaIUBCB0McHyDZI5r7uhg+//mJIU5NABqceOBaTZKJJCetWjUXDDFqgwQ5U5JNJNkjUTJGDKFS+hji1AJ2wkoMtWqutPcICLRqejKo8YhiiFMKlLiEGabrBTMwMzLSxyNczKwMM/VDwDS1AC8LO8N8w3AGflYOskwku/hV5RZh6NDyxhAnyxGMjAwz9EMYlLmFMeSINgNDhAQQJKnLEC1jRIkRYFCn5spgL6yEIU4KoLhCBI3favGKY4gTCyKlDRlS5M0pdQblHmFnYmGYpR8CTuOkAjMBWYY2TU+KPcFArSaKApcQQ7+OP4Y4PiDDyc8wyyAUXMNTA1CtreUhps6QpWCFIY4NgEq7eQbhDCJs3FhkyQNUbTSWqzoxWArJY4ijg0m6gRTlK2yAqh4BVWTTdIMYxNh5MORgoEzFERx71AZUb8aLsvMwzDUIY2DDkvb9JbQZcpVsMMSpAWjSHzHkl2bo0fZFEdPjk2To1fFjIL3xQRygWccKVFmCkhGoSa7PLwVufnAwUW3KEhUwMDAAAPWGWP5Gf8xDAAAAAElFTkSuQmCC"},"14ed":function(t,e,a){"use strict";var n=a("94ff"),o=a.n(n);o.a},1544:function(t,e,a){"use strict";var n=a("d743"),o=a.n(n);o.a},1798:function(t,e,a){"use strict";var n=a("54cd"),o=a.n(n);o.a},"1a94":function(t,e,a){"use strict";var n=a("8906"),o=a.n(n);o.a},"1c4c":function(t,e,a){"use strict";var n=a("9b43"),o=a("5ca1"),r=a("4bf8"),s=a("1fa8"),i=a("33a4"),l=a("9def"),c=a("f1ae"),d=a("27ee");o(o.S+o.F*!a("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,a,o,u,p=r(t),h="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,v=void 0!==g,_=0,f=d(p);if(v&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==f||h==Array&&i(f))for(e=l(p.length),a=new h(e);e>_;_++)c(a,_,v?g(p[_],_):p[_]);else for(u=f.call(p),a=new h;!(o=u.next()).done;_++)c(a,_,v?s(u,g,[o.value,_],!0):o.value);return a.length=_,a}})},"1fa8":function(t,e,a){var n=a("cb7c");t.exports=function(t,e,a,o){try{return o?e(n(a)[0],a[1]):e(a)}catch(s){var r=t["return"];throw void 0!==r&&n(r.call(t)),s}}},"206b":function(t,e,a){"use strict";var n=a("3201"),o=a.n(n);o.a},"20d6":function(t,e,a){"use strict";var n=a("5ca1"),o=a("0a49")(6),r="findIndex",s=!0;r in[]&&Array(1)[r](function(){s=!1}),n(n.P+n.F*s,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(r)},"21c7":function(t,e,a){"use strict";var n=a("d30a"),o=a.n(n);o.a},"23c6":function(t,e,a){var n=a("2d95"),o=a("2b4c")("toStringTag"),r="Arguments"==n(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(a){}};t.exports=function(t){var e,a,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(a=s(e=Object(t),o))?a:r?n(e):"Object"==(i=n(e))&&"function"==typeof e.callee?"Arguments":i}},2420:function(t,e,a){},2653:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACEklEQVRoge3aT2vCMBzG8cc5RKQV9w5UPM27J/cmfJ3iC1CYghcFd3GHqVc9ePBkXf2LjnQLc8a22v4SM+kXRiBhWz6Grq4YOxwOB9xBD/eAQATRsAiiWxFEtyKIbkUQ3YogQZvP51J+7qMwI7GPwQDdbheGYaBSqeAhFiP7ZcpOZDAcOgjWYrFAtVrFnvA/CCUQhuh0On/mbNsmxUiHnEPwKDFSIV4IHhVGGuQSBI8CIwVyDYIXFkMOCYLgMUy9XhfmL4kUEgbBe8pkhLlL8oWs1mvUajVMJhNh7TgKRD6fR6lUEuZJIO12G3PLwmuzifF4LKyDEPFSLiMW8G7vfyKrlTPu93s0Wy0BowMCl0DYBcg7xeiCgN+bRvY0lZ8Ij2MKhQJGo5HwPddEhYDfiTDEuUfDDKMTAn6Q5XIpzFFEjbgJRAYCfhCbGCILAZUnIhMBVRDZCKiAqEDAF3J0MwxSLpdTgoAv5ORmeG2WZWG73Urc/m+eEDvkicxmM9QbDWw2G2GNOlfIbrdzvsKmCuMKCXsax3HMluCFccsVEvb6OI1h3vt9YZ4qdwjhibDi8Tiei0VhnirXt/FBnmawzaZNE4ZpOqPJxnTaGdnzXpl/hl0huWwWb70ePo9Ohm0klUo5mzIN43v82SQb2dqt8vwsCluaTqdIJBLOJpPJpJKbW5A8If8p14s9gtyoCKJVAL4A+dMwQDfcIGEAAAAASUVORK5CYII="},"273c":function(t,e,a){"use strict";var n=a("ceb5"),o=a.n(n);o.a},"27ee":function(t,e,a){var n=a("23c6"),o=a("2b4c")("iterator"),r=a("84f2");t.exports=a("8378").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||r[n(t)]}},"2a07":function(t,e,a){},"2c4f":function(t,e,a){"use strict";var n=a("2420"),o=a.n(n);o.a},"2dbb":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAB8ElEQVRoge2Zy07CQBSGTwshkCAQKEpYkBTkIiEkIGKLCm19bF3wFMqGldhHYAc1p4kLPQ0yF3VC5ts0+SdM8nXmzKUYURRFcAKYpyABWkRBtIhqaBHV0CKqoUVU42RE0iThBM+eT8/PEIbhjx2YhgHdXg9up1PSxou0Edlut0dJIPsogvV6TXIlRP77NqCLXTW0iGpoEdXQIqqhRVRDi6iGFlENLaIaJyPC/EfPcrmEt80GdrsdaWPBNE3odbuJv7CqVWjaNskPwfzx4T0MhSWQ/X4PL6+vJEfM1YpZhHlq3UwmJJNN7+qKuUdmkU6nA5etFsllUa/XuV4WV7E7jgOlUonkohQKBfAWCzAM429E0uk0+J4XP2WRyWTgMQjiJw/cy2+xWATXdUnOA44AjgT2yYvQPtJqNuOaEQVrAmtDBOENEb/flstlkh9Lu92Gfr8v/DKERVKpFHiexzW3L87PwXUckvMg5YhSODuD+7s7kh8in8+D7/vxDq+MCNJoNGAwGJA8CVztAt+HbDab0MqH1EPj9XgMtVqN5N+ZPzwI1VUSUkVwGV3M55DL5UjbJ+PRKB492Ug/xqNEEATxIvAd27ZhOBySXAa/ch+pWhbMZrMvWaVSYV4QWPi1ixVuljiNcFWyLCs+fiSNkhQA4APdZVAWHpbzzQAAAABJRU5ErkJggg=="},3072:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACKElEQVRoge2aP2vCQBiHf9ZOLYLdxKlx0ba7Lq2fWPwAFqrgoqtdqoiLjuJggrEak/KGHljPRGPeSw/JA+HIvZcLj3feP5LxPM/DFXBzDRJIRTQkFdGNVEQ3UhHdSEV0IxU5xXK5PFGCl1vuCl3PQ7PZhGVZqNVqeKpUpDLai5BEo9HAarXy7/v9PjKZDCrlslSWG7audSgh6PV6+BoOpfJaigRJCJKQiS1ySkKgWiaWyLkSApUyF4tElRCokrlYpNVqRZYQqJC5WOQhn5fyosAtc7FItVpFqVSS8qNwjsxsNvMn2PX3txRjEaGJ7u31VanMdDrFR7uNpWmi2+1K8X1ijVoqZUii3enAdV3/fr1eS8/tE3seUSFzKEGcGlhY1lpChphMJlL8XEhmsVhgPB7/kcBvi9DpLr3rGGxrLa6WGY1GkgRBEmHdi3U/wiUThG3bAREFGyuVMomKQKHMKmkRKJJJvEUE3DL/JgJmmX8VwZ6MYRhSLAp2yKSY2LnWdruFaZpSfhTspOaRIDabDVrv75jP5wElziNsmaJchEuCcBzHv46hVGTrOGwSgqBWUSryORiwSiDkf6JU5PnlBdlsVsqPQ9DIpfzLB6qezoFpxKKDbT81TVi/6W63k54Jo16vo3RkGGc/xD6E5pBcLudfxWJRilOfJzkh66eW5acU2/+d7+/uYDw+SnUgiRaJg9iDkBCNfoVCIXBjlX5UoxupiG5chwiAHyWfawbkLIMfAAAAAElFTkSuQmCC"},"31cc":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"课件列表"}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.addCourseware}},[t._v("新增")])],1),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticClass:"btn_margin",attrs:{type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1),a("RadioGroup",{staticClass:"btn_margin",attrs:{type:"button"},on:{"on-change":t.radio2Change},model:{value:t.radio2,callback:function(e){t.radio2=e},expression:"radio2"}},[a("Radio",{attrs:{label:""}},[t._v("全部")]),a("Radio",{attrs:{label:0}},[t._v("草稿")]),a("Radio",{attrs:{label:1}},[t._v("待审核")]),a("Radio",{attrs:{label:2}},[t._v("待修改")]),a("Radio",{attrs:{label:3}},[t._v("待发布")]),a("Radio",{attrs:{label:4}},[t._v("已发布")])],1)]},proxy:!0}])},[[a("Input",{staticClass:"searcharea_item",staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"搜索 ID"},model:{value:t.searchData.id,callback:function(e){t.$set(t.searchData,"id",e)},expression:"searchData.id"}}),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索 TopicName"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}}),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索课件名称"},model:{value:t.searchData.name_cn,callback:function(e){t.$set(t.searchData,"name_cn",e)},expression:"searchData.name_cn"}}),a("Select",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索录入员"},model:{value:t.searchData.author_user,callback:function(e){t.$set(t.searchData,"author_user",e)},expression:"searchData.author_user"}},t._l(t.managerList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name_cn+"("+e.name+")"))])}),1),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索备注"},model:{value:t.searchData.note,callback:function(e){t.$set(t.searchData,"note",e)},expression:"searchData.note"}}),a("Select",{staticClass:"searcharea_item",staticStyle:{width:"60px"},attrs:{clearable:"",placeholder:"教材"},model:{value:t.searchData.text_book_id,callback:function(e){t.$set(t.searchData,"text_book_id",e)},expression:"searchData.text_book_id"}},t._l(t.textbookList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索对应教材进度(1-1-1)"},model:{value:t.searchData.text_book_progress,callback:function(e){t.$set(t.searchData,"text_book_progress",e)},expression:"searchData.text_book_progress"}}),a("Button",{staticClass:"searcharea_item",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:t.toSearch}})]],2),a("page-content",[a("Table",{staticClass:"table",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange,"on-sort-change":t.sortChange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}}),a("Modal",{attrs:{title:t.prv_title},model:{value:t.prv_modal,callback:function(e){t.prv_modal=e},expression:"prv_modal"}},[t.courseware_status>=1?a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"450px",height:"150px",margin:"0 auto"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{width:"100px",height:"100px","margin-bottom":"10px"},attrs:{id:"preview_code"}}),a("a",{staticStyle:{"font-size":"14px",color:"#1bb982"},attrs:{href:t.preview_url,target:"_blank"}},[t._v("预习（旧版）")])]),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{width:"100px",height:"100px","margin-bottom":"10px"},attrs:{id:"review_code"}}),a("a",{staticStyle:{"font-size":"14px",color:"#1bb982"},attrs:{href:t.review_url,target:"_blank"}},[t._v("复习（旧版）")])]),a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{width:"100px",height:"100px","margin-bottom":"10px"},attrs:{id:"preview_code_new"}}),a("a",{staticStyle:{"font-size":"14px",color:"#1bb982"},attrs:{href:t.preview_url_new,target:"_blank"}},[t._v("预习（新版）")])])]):t._e(),a("a",{staticStyle:{display:"block",width:"350px",margin:"0 auto","font-size":"14px",color:"#1bb982",background:"#eee","text-align":"center","border-radius":"3px"},attrs:{href:t.preview_courseware_url,target:"_blank"}},[t._v("课件预览")])])],1)],1)},o=[],r=(a("6762"),a("2fdb"),a("456d"),a("ac6a"),a("7f7f"),a("a358")),s=a("d044"),i=a.n(s),l={data:function(){var t=this;return{list:[],radio1:0,radio2:"",table_loading:!1,prv_modal:!1,prv_title:"",preview_url:"",preview_url_new:"",review_url:"",preview_courseware_url:"",courseware_status:"",managerList:[],failNote:"",textbookList:[],searchData:{page:1,perpage:"",is_archive:0,status:"",id:"",name:"",name_cn:"",note:"",text_book_id:"",text_book_progress:"",release_text_book_id:"",release_text_book_progress:""},pageData:{total:0,perPage:1,currentPage:1},columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"ID",key:"id",width:80,align:"center",sortable:"custom"},{title:"TopicName",key:"name",width:140,align:"center",sortable:"custom"},{title:"课件名称",key:"name_cn",width:140,align:"center",sortable:"custom"},{title:"状态",width:80,key:"status",align:"center",sortable:"custom",render:function(t,e){switch(e.row.status){case 0:return t("span","草稿");case 1:return t("span","待审核");case 2:return t("span","待修改");case 3:return t("span","待发布");case 4:return t("span","已发布")}}},{title:"对应教材",key:"text_book_progress",width:140,align:"center",sortable:"custom",render:function(e,a){return e("span",t.$getLearnProgress(a.row.text_book))}},{title:"备注",key:"note",minWidth:160,render:function(e,a){return e("div",{style:{cursor:"pointer",width:"100%"},on:{click:function(){t.editNote(a.row)}}},a.row.note?a.row.note:"-")}},{title:"单词",key:"vocabulary",width:80,align:"center",sortable:"custom"},{title:"单句",key:"sentence",width:80,align:"center",sortable:"custom"},{title:"页数",key:"pages",width:80,align:"center",sortable:"custom"},{title:"纸质作业",key:"homework",width:110,align:"center",sortable:"custom"},{title:"视频",key:"video",width:80,align:"center",sortable:"custom"},{title:"录入员",width:140,align:"center",render:function(e,a){return t.$isNone(a.row.author_user)?e("span","-"):a.row.author_user.name?e("span","".concat(a.row.author_user.name_cn,"(").concat(a.row.author_user.name,")")):e("span","".concat(a.row.author_user.name_cn))}},{title:"录入时间",key:"author_at",width:160,align:"center",sortable:"custom"},{title:"审核人",width:140,align:"center",render:function(e,a){return t.$isNone(a.row.operator_user)?e("span","-"):a.row.operator_user.name?e("span","".concat(a.row.operator_user.name_cn,"(").concat(a.row.operator_user.name,")")):e("span","".concat(a.row.operator_user.name_cn))}},{title:"审核时间",key:"operator_at",width:160,align:"center",sortable:"custom"},{title:"审核不通过原因",key:"fail_note",width:160,align:"center"},{title:"操作",width:240,fixed:"right",render:function(e,a){return 0===t.radio1?1===a.row.status?e("div",[e("router-link",{props:{to:"/coursewareedit/".concat(a.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1}),t.$makeBtn(e,"text","复制",t.copyCourseware,a.row.id),t.$makeBtn(e,"text","预览",t.prv,a.row),t.$makeBtn(e,"text","Pass",t.auditPass,a.row),t.$makeBtn(e,"text","Fail",t.auditFail,a.row)]):e("div",[e("router-link",{props:{to:"/coursewareedit/".concat(a.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1}),t.$makeBtn(e,"text","复制",t.copyCourseware,a.row.id),t.$makeBtn(e,"text","预览",t.prv,a.row)]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectChange:function(){},pageChange:function(t){this.searchData.page=t,this.getList()},radio1Change:function(t){this.searchData.is_archive=t,this.toSearch()},radio2Change:function(t){this.searchData.status=t,this.toSearch()},getList:function(){var t=this;this.table_loading=!0,r["a"].get_courseware_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},changeArchive:function(t){var e=this;r["a"].file_restore_courseware({params:t,cb:function(a){0==a.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},addCourseware:function(){this.$router.push("/coursewareedit/new")},copyCourseware:function(t){var e=this;r["a"].copy_courseware({id:t,cb:function(t){0==t.code&&(e.getList(),e.$Message.success("复制成功！"))}})},toSearch:function(){this.searchData.page=1,this.pageData.currentPage=1,this.getList()},sortChange:function(t){var e=this;Object.keys(this.searchData).forEach(function(t){t.includes("order_by")&&delete e.searchData[t]});var a="order_by_".concat(t.key),n=0;"asc"===t.order&&(n=1),"desc"===t.order&&(n=0),null!==t.order&&(this.searchData[a]=n),this.toSearch()},prv:function(t){this.prv_modal=!0,this.prv_title="预览 ("+t.id+" - "+t.name+")",this.courseware_status=t.status;var e="";e=4===t.status?"view/":"preview/",this.preview_courseware_url="".concat(window.localStorage.getItem("preview_courseware_base_url")).concat(e).concat(t.id,"?utm_source=pr&auth_token=").concat(window.localStorage.getItem("access_token")),this.courseware_status>=1&&this.$nextTick(function(){document.getElementById("preview_code").innerHTML="",document.getElementById("review_code").innerHTML="",document.getElementById("preview_code_new").innerHTML="",this.preview_url="".concat(window.localStorage.getItem("preview_review_base_url"),"?topics_lesson_id=").concat(t.id,"&token=").concat(window.localStorage.getItem("access_token"),"#/previewHome"),this.preview_url_new="".concat(window.localStorage.getItem("preview_base_url_new"),"?topics_lesson_id=").concat(t.id,"&token=").concat(window.localStorage.getItem("access_token"),"#/"),this.review_url="".concat(window.localStorage.getItem("preview_review_base_url"),"?topics_lesson_id=").concat(t.id,"&token=").concat(window.localStorage.getItem("access_token"),"#/"),new i.a("preview_code",{width:100,height:100,text:this.preview_url}),new i.a("review_code",{width:100,height:100,text:this.review_url}),new i.a("preview_code_new",{width:100,height:100,text:this.preview_url_new})})},get_manager_list:function(){var t=this;r["a"].get_admin_simple_list({cb:function(e){0==e.code&&(t.managerList=e.data.list)}})},auditFail:function(t){var e=this;this.failNote="",this.$Modal.confirm({title:"确认",render:function(t){return t("Input",{props:{value:e.failNote,autofocus:!0,type:"textarea",placeholder:"填写审核不通过原因"},on:{input:function(t){e.failNote=t}}})},onOk:function(){var a={};a.ids=[t.id],a.fail_note=e.failNote,r["a"].courseware_fail({params:a,cb:function(t){0==t.code&&(e.$Message.success("操作成功"),e.getList())}})}})},auditPass:function(t){var e=this;this.$Modal.confirm({title:"确认",content:"<p>确认审核通过？</p>",onOk:function(){var a={ids:[]};a.ids.push(t.id),r["a"].courseware_pass({params:a,cb:function(t){0==t.code&&(e.$Message.success("操作成功"),e.getList())}})}})},editNote:function(t){var e=this;this.$editNote({api:"courseware/note/".concat(t.id),note:t.note,cb:function(){e.getList()}})},keyEnter:function(t){13==t.which&&this.toSearch()}},created:function(){var t=this;this.get_manager_list(),this.getList(),r["a"].get_simple_teach_book_list({cb:function(e){t.textbookList=e}})},mounted:function(){var t=this;document.addEventListener("keyup",t.keyEnter)},destroyed:function(){var t=this;document.removeEventListener("keyup",t.keyEnter)}},c=l,d=a("2877"),u=Object(d["a"])(c,n,o,!1,null,null,null);e["default"]=u.exports},3201:function(t,e,a){},"33a4":function(t,e,a){var n=a("84f2"),o=a("2b4c")("iterator"),r=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||r[o]===t)}},3569:function(t,e,a){"use strict";var n=a("6935"),o=a.n(n);o.a},3693:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACZElEQVRoge2aPWgUQRTH/3sqioigIJhCYhfEdBZBNJWFYGNaLWwkltqKlZW9H6kFMYXaaGMh2GgsJFw4UAkYiLmLH4mne4nn7bp7tzcyixPOe7eb7O6buyHsr1l4b5a7H29n9s3cWUIIgW1AYTtIIBcxkFzENHIR08hFTCMXMY1cJA7ZhX5y7JgR/LCLtEQbp17fxfjMFO5XZkleF6xtvJQYe3UHq159I3br2DlcOnKCjOWGrSK9JCQ35p/jwXKRjDdSJEpC0Q+ZzCKbSSh0y2QS2aqEQqdMapGkEgpdMqlFLhanE0sodMikFhnZd4jEksAtk1rk5shZTAyNkngStiLzsrqA0zNTsJsOybGI7LAs3B6d0CrzovoRl0uPseTYuPbuGcl3kmnV0ikjJa6UnoSLiuSH3yD3dZL5PaJDpltCsrLJwrKTRFKgZCRPv73PJPOhvoJHX0r/SUhsv4G2EChYFrkPnL0WV2WmP88RCUkgBH7GPF6sbTyXTBTf/d8RGQ37EZ0yVa9PFVHokonrJLTt2XXIVPs1R7rhlhlIRRScMnEvxb4cBymZ84ePk1wSVv8MsCIKJ/BRdmsknoSBzRFFveXhQvEhSutfSS4JA50jXBIIq9qEGzRJHLpFGoHPJqGIah61itxbfMMqgZh5olVk8ugYdhdYGuwNolYu3k/p4uCuvVg4cx3L7hqW3Fp4sF1xauGOryxjjg2v3SL3xRGAdsbgPvtNg3zmy04tlK248rr+77oW5todX29oz368Hb/ac09i9H9R1B5ELru/Wh5OHhjuKQHTRZKQ/2JlGrmIUQD4C3FoZBgDmrN7AAAAAElFTkSuQmCC"},"37b1":function(t,e,a){"use strict";var n=a("c7dc"),o=a.n(n);o.a},3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},"4a59":function(t,e,a){var n=a("9b43"),o=a("1fa8"),r=a("33a4"),s=a("cb7c"),i=a("9def"),l=a("27ee"),c={},d={};e=t.exports=function(t,e,a,u,p){var h,m,g,v,_=p?function(){return t}:l(t),f=n(a,u,e?2:1),b=0;if("function"!=typeof _)throw TypeError(t+" is not iterable!");if(r(_)){for(h=i(t.length);h>b;b++)if(v=e?f(s(m=t[b])[0],m[1]):f(t[b]),v===c||v===d)return v}else for(g=_.call(t);!(m=g.next()).done;)if(v=o(g,f,m.value,e),v===c||v===d)return v};e.BREAK=c,e.RETURN=d},"4b22":function(t,e,a){},"4f7f":function(t,e,a){"use strict";var n=a("c26b"),o=a("b39a"),r="Set";t.exports=a("e0b8")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(o(this,r),t=0===t?0:t,t)}},n)},5034:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"新增/编辑课件"}}),a("page-content",[a("Tabs",{staticStyle:{"margin-top":"20px"}},[a("TabPane",{attrs:{label:"属性"}},[a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("Topic Name")]),a("Input",{staticStyle:{width:"150px"},attrs:{slot:"value"},slot:"value",model:{value:t.data.name,callback:function(e){t.$set(t.data,"name",e)},expression:"data.name"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("课件名称")]),a("Input",{staticStyle:{width:"150px"},attrs:{slot:"value"},slot:"value",model:{value:t.data.name_cn,callback:function(e){t.$set(t.data,"name_cn",e)},expression:"data.name_cn"}})],1),a("picuploader",{attrs:{src:t.data.cover,delable:!0,name:"封面"},on:{del:function(e){return t.picDel(1)},picuploaded:function(e){return t.picUploaded(arguments[0],1)}}}),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Teacher's Guide")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.coach_guide,callback:function(e){t.$set(t.data,"coach_guide",e)},expression:"data.coach_guide"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.note,callback:function(e){t.$set(t.data,"note",e)},expression:"data.note"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("目标")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.goal,callback:function(e){t.$set(t.data,"goal",e)},expression:"data.goal"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("对应教材")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Select",{staticStyle:{width:"120px",float:"left"},attrs:{slot:"value",transfer:!0,clearable:""},on:{"on-change":t.bookChange},slot:"value",model:{value:t.data.text_book_id,callback:function(e){t.$set(t.data,"text_book_id",e)},expression:"data.text_book_id"}},t._l(t.bookOptions,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),a("Cascader",{staticStyle:{width:"220px",float:"left","margin-left":"8px"},attrs:{trigger:"hover",data:t.progressOptions},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("编辑者")]),a("Select",{staticStyle:{width:"150px"},attrs:{slot:"value",disabled:!t.$judgeRole(["1","2"]),transfer:!0},slot:"value",model:{value:t.data.author_user_id,callback:function(e){t.$set(t.data,"author_user_id",e)},expression:"data.author_user_id"}},t._l(t.managerList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name_cn+"("+e.name+")"))])}),1)],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Material（限文件格式 pdf/jpg/zip, 限大小20mb）")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.material_list,function(e,n){return[e.url?a("div",{key:n,staticStyle:{"margin-bottom":"5px",width:"420px"}},[a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value"},slot:"value",model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}}),a("a",{staticStyle:{float:"right"},attrs:{href:e.url,target:"_blank"}},[t._v("file"+t._s(e.url.substring(e.url.lastIndexOf("."),e.url.length)))]),a("Button",{staticStyle:{float:"right","margin-right":"40px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(e){return t.remove_file(n)}}}),n!=t.data.material_list.length-1?a("Button",{staticStyle:{float:"right","margin-right":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.data.material_list,"url")}}}):t._e(),0!=n?a("Button",{staticStyle:{float:"right","margin-right":"3px"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.data.material_list,"url")}}}):t._e()],1):t._e()]}),a("filelistuploader",{on:{fileuploaded:t.file_uploaded}})],2)])],1),a("TabPane",{attrs:{label:"关联"}},[a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("预习配置")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("RadioGroup",{model:{value:t.data.preview_type,callback:function(e){t.$set(t.data,"preview_type",e)},expression:"data.preview_type"}},[a("Radio",{attrs:{label:1}},[t._v("旧版预习")]),a("Radio",{attrs:{label:2}},[t._v("新版预习")]),a("Radio",{attrs:{label:0}},[t._v("没有预习")])],1),2===t.data.preview_type&&""!=t.preSetTip?a("Alert",{staticStyle:{"margin-top":"10px"},attrs:{"show-icon":"",type:"warning"}},[t._v(t._s("缺少："+t.preSetTip))]):t._e()],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体角色语音")]),a("Select",{staticStyle:{width:"200px"},attrs:{slot:"value",clearable:""},slot:"value",model:{value:t.data.ui_voice_id,callback:function(e){t.$set(t.data,"ui_voice_id",e)},expression:"data.ui_voice_id"}},t._l(t.uiVoiceOptions,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.role.name))])}),1)],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("主题导入")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("audiouploader",{attrs:{src:t.data.theme_audio_src,maxSize:3072,name:"描述音频（限mp3文件, 限大小3mb）",delable:!0},on:{del:function(e){return t.audioDel(4)},audiouploaded:function(e){return t.audioUploaded(arguments[0],5)}}}),a("RadioGroup",{model:{value:t.data.theme_type,callback:function(e){t.$set(t.data,"theme_type",e)},expression:"data.theme_type"}},[a("Radio",{attrs:{label:1}},[t._v("上传视频")]),a("Radio",{attrs:{label:2}},[t._v("上传图片")])],1),1===t.data.theme_type?a("videouploader",{attrs:{src:t.data.theme_video_src,maxSize:20480,name:"上传视频（限mp4文件, 限大小20mb）",delable:!0},on:{del:function(e){return t.videoDel(1)},videouploaded:function(e){return t.videoUploaded(arguments[0],1)}}}):t._e(),2===t.data.theme_type?a("picuploader",{attrs:{src:t.data.theme_img_src,delable:!0},on:{del:function(e){return t.picDel(2)},picuploaded:function(e){return t.picUploaded(arguments[0],2)}}}):t._e()],1)]),a("audiouploader",{attrs:{src:t.data.overview_audio,delable:!0,name:"总述音频"},on:{del:function(e){return t.audioDel(1)},audiouploaded:function(e){return t.audioUploaded(arguments[0],1)}}}),a("audiouploader",{attrs:{src:t.data.vocabulary_audio,delable:!0,name:"词汇概述音频"},on:{del:function(e){return t.audioDel(2)},audiouploaded:function(e){return t.audioUploaded(arguments[0],2)}}}),a("audiouploader",{attrs:{src:t.data.knowledge_audio,delable:!0,name:"知识点概述音频"},on:{del:function(e){return t.audioDel(3)},audiouploaded:function(e){return t.audioUploaded(arguments[0],3)}}}),a("audiouploader",{attrs:{src:t.data.summarize_audio,delable:!0,name:"总结音频"},on:{del:function(e){return t.audioDel(t.AudioTypes.SUMMARIZE_AUDIO)},audiouploaded:function(e){return t.audioUploaded(arguments[0],t.AudioTypes.SUMMARIZE_AUDIO)}}}),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("关联单词")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",size:"small"},on:{click:t.add_word}},[t._v("添加")]),a("Table",{staticStyle:{width:"800px","margin-bottom":"10px"},attrs:{size:"small",draggable:!0,stripe:"",border:"",columns:t.wordscolumns,data:t.data.vocabulary_list},on:{"on-drag-drop":function(e,a){t.dragTableRow("word",e,a)}}})],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("关联句子")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",size:"small"},on:{click:t.add_sentence}},[t._v("添加")]),a("Table",{staticStyle:{width:"800px","margin-bottom":"10px"},attrs:{size:"small",draggable:!0,stripe:"",border:"",columns:t.sentencescolumns,data:t.data.sentence_list},on:{"on-drag-drop":function(e,a){t.dragTableRow("sentence",e,a)}}})],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("关联题目")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Button",{staticStyle:{margin:"5px"},attrs:{type:"primary",size:"small"},on:{click:t.add_question}},[t._v("添加")]),a("Table",{staticStyle:{width:"800px","margin-bottom":"10px"},attrs:{size:"small",draggable:!0,stripe:"",border:"",columns:t.questionscolumns,data:t.data.subject_list},on:{"on-drag-drop":function(e,a){t.dragTableRow("subject",e,a)}}})],1)])],1),a("TabPane",{attrs:{label:"纸质作业"}},[a("videouploader",{attrs:{src:t.data.video.url,maxSize:20480,name:"描述音频（限mp4文件, 限大小20mb）",delable:!0},on:{del:function(e){return t.videoDel(2)},videouploaded:function(e){return t.videoUploaded(arguments[0],2)}}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("视频介绍")]),a("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.video.name,callback:function(e){t.$set(t.data.video,"name",e)},expression:"data.video.name"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("纸质作业")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("draggable",{attrs:{group:"paper",animation:350},model:{value:t.data.homework_list,callback:function(e){t.$set(t.data,"homework_list",e)},expression:"data.homework_list"}},t._l(t.data.homework_list,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"},attrs:{padding:8}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("条目"+(n+1)+"/"+t.data.homework_list.length))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delPaperEvent(n)}},slot:"extra"}),a("audiouploader",{attrs:{src:e.url},on:{audiouploaded:function(e){return t.audioUploaded(arguments[0],4,n)}}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("对应介绍")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1)],1)}),1),a("Button",{attrs:{type:"primary"},on:{click:t.addPaperEvent}},[t._v("添加条目")])],1)])],1),a("TabPane",{attrs:{label:"课件录入"}},[a("inputTemplate",{attrs:{data:t.data},on:{previewpage:t.previewCourseware}})],1)],1),a("div",{staticClass:"bottombtn"},[a("Button",{staticStyle:{margin:"10px 3px 0 0"},attrs:{disabled:!1,type:"primary",size:"large"},on:{click:t.save}},[t._v("保存")]),a("Button",{staticStyle:{margin:"10px 3px 0 0"},attrs:{disabled:!t.$isNone(t.data.status)&&0!=t.data.status&&2!=t.data.status,type:"primary",size:"large"},on:{click:t.submit}},[t._v("提交审核")]),t.$judgeRole(["1","2"])&&1==t.data.status?a("Button",{staticStyle:{margin:"10px 3px 0 0"},attrs:{type:"primary",size:"large"},on:{click:t.auditPass}},[t._v("Pass")]):t._e(),t.$judgeRole(["1","2"])&&1==t.data.status?a("Button",{staticStyle:{margin:"10px 3px 0 0"},attrs:{type:"error",size:"large"},on:{click:t.auditFail}},[t._v("Fail")]):t._e(),a("Button",{staticStyle:{margin:"10px 3px 0 0"},attrs:{type:"default",size:"large"},on:{click:function(e){return t.previewCourseware()}}},[t._v("预览")])],1),a("Modal",{attrs:{width:"600px",title:t.add_modal_title},on:{"on-ok":t.change_knowledge},model:{value:t.add_modal,callback:function(e){t.add_modal=e},expression:"add_modal"}},[t.add_modal&&"关联单词"===t.add_modal_title?a("simplewordstable",{staticStyle:{"margin-bottom":"5px"},attrs:{selection:"multiple",searchcondition:[{key:"tag",val:t.textBookProgress}]},on:{selectchange:t.selectchange}}):t._e(),t.add_modal&&"关联句子"===t.add_modal_title?a("simplesentencestable",{staticStyle:{"margin-bottom":"5px"},attrs:{selection:"multiple",searchcondition:[{key:"tag",val:t.textBookProgress}]},on:{selectchange:t.selectchange}}):t._e(),t.add_modal&&"关联题目"===t.add_modal_title?a("simplequestionstable",{staticStyle:{"margin-bottom":"5px"},attrs:{selection:"multiple"},on:{selectchange:t.selectchange}}):t._e()],1)],1)],1)},o=[],r=(a("28a5"),a("55dd"),a("ac6a"),a("6762"),a("2fdb"),a("7f7f"),a("a358")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"out"},[a("div",{staticClass:"left"},[0!==t.data.courseware_list.length?[a("draggable",{attrs:{group:"page",animation:350},model:{value:t.data.courseware_list,callback:function(e){t.$set(t.data,"courseware_list",e)},expression:"data.courseware_list"}},t._l(t.data.courseware_list,function(e,n){return a("div",{key:n,staticClass:"page"},[0===e.type?a("div",{staticClass:"page_item",style:t._f("pageItemBackground")(e),on:{click:function(a){return t.showEditDrawer(e,n)}}},[a("div",{staticClass:"content"},[a("span",[t._v(t._s(e.content.tmpl))]),a("br"),a("span",[t._v(t._s(n+1+"/"+t.data.courseware_list.length))])])]):t._e(),1===e.type?a("div",{staticClass:"page_item",style:t._f("pageItemBackground")(e),on:{click:function(a){return t.showEditDrawer(e,n)}}},[a("div",{staticClass:"content",staticStyle:{color:"#FF9900"}},[a("span",[t._v(t._s(e.name))]),a("br"),a("span",[t._v(t._s(n+1+"/"+t.data.courseware_list.length))])])]):t._e(),e.content.corner_mark&&e.content.corner_mark.bg_color?a("div",{staticClass:"corner_mark",style:"background: "+e.content.corner_mark.bg_color+";"},[a("span",[t._v(t._s(e.content.corner_mark.content.toString().substring(0,8)))])]):t._e(),e.content.corner_mark&&!e.content.corner_mark.bg_color&&e.content.corner_mark.id?a("div",{staticClass:"corner_mark",style:"background: "+t.getMyCornerMark(e.content.corner_mark.id,"bg_color")+";"},[a("span",[t._v(t._s(t.getMyCornerMark(e.content.corner_mark.id,"content").toString().substring(0,8)))])]):t._e(),a("Icon",{staticClass:"closebtn",staticStyle:{color:"#c2ccd0"},attrs:{type:"md-close-circle"},on:{click:function(e){return t.delPage(n)}}})],1)}),0)]:a("span",[t._v("暂无数据")])],2),a("div",{staticClass:"right"},[a("div",{staticClass:"title"},[t._v("课件模板")]),a("Input",{staticStyle:{width:"180px","margin-bottom":"10px"},attrs:{search:"",placeholder:"搜索自定义模板"},on:{"on-search":t.searchMytemplate}}),a("RadioGroup",{staticClass:"templateTypeRadio",attrs:{size:"large"},model:{value:t.templateType,callback:function(e){t.templateType=e},expression:"templateType"}},[a("Radio",{attrs:{label:0}},[t._v("系统模板")]),a("Radio",{attrs:{label:1}},[t._v("自定义模板")])],1),0===t.templateType?a("div",{staticClass:"scrollstyle",staticStyle:{height:"600px","overflow-y":"auto",width:"190px",margin:"0 auto"}},t._l(t.tmplTypeList,function(e){return a("div",{key:e,staticClass:"typebtn",on:{click:function(a){return t.addSystemTemplate(e)}}},[a("Icon",{attrs:{type:"md-add-circle"}}),a("span",[t._v(t._s(e))])],1)}),0):a("div",{staticClass:"scrollstyle",staticStyle:{width:"180px",height:"600px","overflow-y":"auto",margin:"0 auto"}},[t.$isNone(t.myTemplateList)?a("span",[t._v("暂无数据")]):t._l(t.myTemplateList,function(e){return a("div",{key:e.id,staticClass:"page"},[a("div",{staticClass:"page_item",style:t._f("pageItemBackground")(e),on:{click:function(a){return t.add_mytemplate(e)}}},[a("div",{staticClass:"content",staticStyle:{color:"#FF9900"}},[a("span",[t._v(t._s(e.name))]),a("br"),a("span",[t._v(t._s(e.content.note))])])]),e.content.corner_mark&&e.content.corner_mark.bg_color?a("div",{staticClass:"corner_mark",style:"background: "+e.content.corner_mark.bg_color+";"},[a("span",[t._v(t._s(e.content.corner_mark.content.toString().substring(0,8)))])]):t._e(),e.content.corner_mark&&!e.content.corner_mark.bg_color&&e.content.corner_mark.id?a("div",{staticClass:"corner_mark",style:"background: "+t.getMyCornerMark(e.content.corner_mark.id,"bg_color")+";"},[a("span",[t._v(t._s(t.getMyCornerMark(e.content.corner_mark.id,"content").toString().substring(0,8)))])]):t._e()])})],2)],1),a("div",{staticClass:"clear"}),a("Drawer",{attrs:{title:"编辑模板",width:"720",placement:"left",styles:t.drawerStyles},model:{value:t.editDrawer,callback:function(e){t.editDrawer=e},expression:"editDrawer"}},[1===t.editType?a("Alert",{staticStyle:{width:"500px","margin-top":"5px"},attrs:{type:"warning","show-icon":""}},[t._v("灰色区域字段不可修改")]):t._e(),"FlashCard"===t.templateData.content.tmpl?a("FlashCard",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"FlashQuiz"===t.templateData.content.tmpl?a("FlashQuiz",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"FlipCard"===t.templateData.content.tmpl?a("FlipCard",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"LeaderBoard"===t.templateData.content.tmpl?a("LeaderBoard",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"RolePlay"===t.templateData.content.tmpl?a("RolePlay",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"SinglePicture"===t.templateData.content.tmpl?a("SinglePicture",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"SingleVideo"===t.templateData.content.tmpl?a("SingleVideo",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"ShowCard"===t.templateData.content.tmpl?a("ShowCard",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"PictureText"===t.templateData.content.tmpl?a("PictureText",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"TopicCover"===t.templateData.content.tmpl?a("TopicCover",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),"AbstractText"===t.templateData.content.tmpl?a("AbstractText",{attrs:{data:t.templateData,templateType:t.editType}}):t._e(),a("div",{staticClass:"demo-drawer-footer"},[a("Button",{staticStyle:{"margin-right":"3px"},attrs:{icon:"md-copy"},on:{click:t.copyTemplate}},[t._v("复制")]),a("Button",{staticStyle:{"margin-right":"3px"},on:{click:t.previewPage}},[t._v("预览")]),a("Button",{attrs:{type:"primary"},on:{click:t.updateEdit}},[t._v("确定")])],1)],1)],1)},i=[],l=a("6f93"),c=a("be3c"),d={mixins:[l["a"]],props:{data:{default:""}},data:function(){return{templateType:0,tmplTypeList:c["g"],myTemplateList:[],myTemplateListBaseData:[],drawerStyles:{height:"calc(100% - 55px)",overflow:"auto",paddingBottom:"53px",position:"static"},editDrawer:!1,templateData:{content:{}},editIndex:"",cornerMarkList:[],editType:0}},filters:{pageItemBackground:function(t){var e="background-image: url(",a=t.tmpl?t.tmpl:t.content.tmpl;switch(a){case"SinglePicture":return"".concat(e,"'").concat(t.content.data.src,"')");case"RolePlay":case"TopicCover":case"AbstractText":case"LeaderBoard":case"PictureText":return"".concat(e,"'").concat(t.content.data.bg.src,"')");case"SingleVideo":return"".concat(e,"'").concat(t.content.data.cover,"')");case"FlashCard":case"FlipCard":return"".concat(e,"'").concat(t.content.data.ids[0]?t.content.data.ids[0].src:"","')");case"ShowCard":return"".concat(e,"'").concat(t.content.data.cards[0]?t.content.data.cards[0].src:"","')");default:}}},methods:{addSystemTemplate:function(t){var e={type:0,template_id:0};switch(t){case"RolePlay":e.content=this.$deepCopy(this.roleplayData.content),e.content.tmpl=t;break;case"SinglePicture":e.content=this.$deepCopy(this.singlepictureData.content),e.content.tmpl=t;break;case"SingleVideo":e.content=this.$deepCopy(this.singlevideoData.content),e.content.tmpl=t;break;case"LeaderBoard":e.content=this.$deepCopy(this.leaderboardData.content),e.content.tmpl=t;break;case"FlashQuiz":e.content=this.$deepCopy(this.flashquizData.content),e.content.tmpl=t;break;case"FlashCard":e.content=this.$deepCopy(this.flashcardData.content),e.content.tmpl=t;break;case"FlipCard":e.content=this.$deepCopy(this.flipcardData.content),e.content.tmpl=t;break;case"ShowCard":e.content=this.$deepCopy(this.showcardData.content),e.content.tmpl=t;break;case"PictureText":e.content=this.$deepCopy(this.picturetextData.content),e.content.tmpl=t;break;case"TopicCover":e.content=this.$deepCopy(this.topiccoverData.content),e.content.tmpl=t;break;case"AbstractText":e.content=this.$deepCopy(this.abstracttextData.content),e.content.tmpl=t;break}this.data.courseware_list.push(e),this.showEditDrawer(this.data.courseware_list[this.data.courseware_list.length-1],this.data.courseware_list.length-1)},add_mytemplate:function(t){var e={type:1};e.template_id=t.id,e.name=t.name,e.content=t.content,e.content.tmpl=t.tmpl,this.data.courseware_list.push(e)},delPage:function(t){this.data.courseware_list.splice(t,1)},get_mytemplate_list:function(){var t=this;r["a"].get_mytemplate_simple_list({cb:function(e){0==e.code&&(t.myTemplateListBaseData=e.data.list.sort(t.$compare("id")).reverse(),t.myTemplateList=t.$deepCopy(t.myTemplateListBaseData))}})},searchMytemplate:function(t){this.templateType=1,this.myTemplateList=[];for(var e=0;e<this.myTemplateListBaseData.length;e++)JSON.stringify(this.myTemplateListBaseData[e]["name"]).indexOf(t)>=0&&this.myTemplateList.push(this.myTemplateListBaseData[e])},showEditDrawer:function(t,e){if(this.editType=t.type,this.editIndex=e,this.templateData=t,!this.templateData.content.corner_mark){var a={id:0,content:"",bg_color:""};this.$set(this.templateData.content,"corner_mark",a)}if(!this.templateData.content.data.bg){var n={color:"",src:""};this.$set(this.templateData.content.data,"bg",n)}this.editDrawer=!0},updateEdit:function(){this.editDrawer=!1},editMyTemplate:function(t){var e=this.$router.resolve({path:"/templateedit/".concat(t.template_id)});window.open(e.href,"_blank")},copyTemplate:function(){var t={};t.content=this.$deepCopy(this.templateData.content),t.template_id=this.templateData.template_id,t.type=this.templateData.type,t.name=this.templateData.name,this.data.courseware_list.push(t),this.editDrawer=!1},previewPage:function(){this.updateEdit(),this.$emit("previewpage",this.editIndex)},getCornerMarkList:function(){var t=this;r["a"].get_cornermark_simple_list({cb:function(e){0==e.code&&(t.cornerMarkList=e.data)}})},getMyCornerMark:function(t,e){var a="";return this.cornerMarkList.forEach(function(n){n.id===t&&(a=n[e])}),a}},created:function(){this.get_mytemplate_list(),this.getCornerMarkList()}},u=d,p=(a("37b1"),a("2877")),h=Object(p["a"])(u,s,i,!1,null,"63dee5a7",null),m=h.exports,g={components:{inputTemplate:m},data:function(){var t=this;return{AudioTypes:{SUMMARIZE_AUDIO:"SUMMARIZE_AUDIO"},add_modal:!1,add_modal_title:"",new_lesson_id:0,temp_knowledge:[],managerList:[],textBookData:[],bookOptions:[],progress:[],data:{name:"",name_cn:"",cover:"",background:"",author_user:{id:"",name:"",name_cn:"",role:{id:"",name:""}},text_book_id:"",text_book_progress:"",preview_type:1,sentence_list:[],vocabulary_list:[],subject_list:[],courseware_list:[],material_list:[],homework_list:[],video:{id:"",name:"",url:""},note:"",coach_guide:"",goal:"",is_archive:0,ui_voice_id:"",theme_type:1,theme_img_src:"",theme_video_src:"",theme_audio_src:"",overview_audio:"",summarize_audio:"",vocabulary_audio:"",knowledge_audio:""},uiVoiceOptions:[],useTypeOptions:[{label:"皆可",value:0},{label:"仅预习",value:1},{label:"仅复习",value:2}],wordscolumns:[{title:"ID",width:80,key:"id"},{title:"单词",key:"text",minWidth:100},{title:"中文",key:"text_cn",tooltip:!0,minWidth:120},{title:"词汇音频",width:100,align:"center",render:function(t,e){var a="";return Array.isArray(e.row.audio)&&e.row.audio.length>0&&(a=e.row.audio[0].url),t("audioPlayer",{attrs:{url:a}})}},{title:"描述音频",width:100,align:"center",render:function(t,e){var a="";return e.row.describe_audio&&(a=e.row.describe_audio.url),t("audioPlayer",{attrs:{url:a}})}},{title:"等级",width:80,key:"level"},{title:"标签",width:100,render:function(t,e){for(var a="",n=0;n<e.row.tag.length;++n)a+=","+e.row.tag[n].name;return","===a.substr(0,1)&&(a=a.substr(1)),t("span",a)}},{title:"词性",width:100,key:"class"},{title:"分类",width:120,key:"use_type",render:function(e,a){return e("Select",{style:{"z-index":100},props:{value:a.row.use_type,transfer:!0},on:{input:function(e){t.data.vocabulary_list[a.index].use_type=e}}},t.useTypeOptions.map(function(t){return e("Option",{props:{value:t.value,label:t.label}})}))}},{title:"操作",width:130,fixed:"right",render:function(e,a){return e("div",[e("router-link",{props:{to:"/wordedit/".concat(a.row.id)},class:"editbtnclass"},"查看"),t.$makeBtn(e,"text","删除",t.delete_knowledge,{id:a.row.id,type:"vocabulary"})])}}],sentencescolumns:[{title:"ID",width:80,key:"id"},{title:"知识点",width:100,render:function(t,e){var a=e.row.knowledge_info.map(function(t){return t.name}).join(",");return t("span",a)}},{title:"知识点中文",width:100,render:function(t,e){var a=e.row.knowledge_info.map(function(t){return t.name_cn}).join(",");return t("span",a)}},{title:"句子",key:"text",tooltip:!0,minWidth:120},{title:"中文",key:"text_cn",tooltip:!0,minWidth:120},{title:"句子音频",width:100,align:"center",render:function(t,e){var a="";return Array.isArray(e.row.audio)&&e.row.audio.length>0&&(a=e.row.audio[0].url),t("audioPlayer",{attrs:{url:a}})}},{title:"描述音频",width:100,align:"center",render:function(t,e){var a="";return e.row.describe_audio&&(a=e.row.describe_audio.url),t("audioPlayer",{attrs:{url:a}})}},{title:"等级",width:80,key:"level"},{title:"标签",width:100,render:function(t,e){for(var a="",n=0;n<e.row.tag.length;++n)a+=","+e.row.tag[n].name;return","==a.substr(0,1)&&(a=a.substr(1)),t("span",a)}},{title:"分类",width:120,key:"use_type",render:function(e,a){return e("Select",{props:{value:a.row.use_type,transfer:!0},on:{input:function(e){t.data.sentence_list[a.index].use_type=e}}},t.useTypeOptions.map(function(t){return e("Option",{props:{value:t.value,label:t.label}})}))}},{title:"操作",width:130,fixed:"right",render:function(e,a){return e("div",[e("router-link",{props:{to:"/sentenceedit/".concat(a.row.id)},class:"editbtnclass"},"查看"),t.$makeBtn(e,"text","删除",t.delete_knowledge,{id:a.row.id,type:"sentence"})])}}],questionscolumns:[{title:"ID",width:80,key:"id"},{title:"题型",key:"type",width:100,render:function(t,e){return t("span",c["f"][e.row.type-1])}},{title:"文本/缩略图",key:"type",width:180,render:function(t,e){return[1,3,4].includes(e.row.type)?t("span",e.row.subject.question.text):2===e.row.type?t("img",{style:{width:"100px",height:"60px","margin-top":"5px"},attrs:{src:e.row.subject.question.src}}):t("span","-")}},{title:"选项数",width:100,key:"options_count"},{title:"备注",key:"note",minWidth:100},{title:"操作",width:130,render:function(e,a){return e("div",[e("router-link",{props:{to:"/questionedit/".concat(a.row.id)},class:"editbtnclass"},"查看"),t.$makeBtn(e,"text","删除",t.delete_knowledge,{id:a.row.id,type:"question"})])}}]}},computed:{textBookProgress:function(){var t=this,e="",a=this.progress;return this.textBookData.forEach(function(n){n.id===t.data.text_book_id&&n.hierarchy.forEach(function(t,n){e+=t.short_name+a[n]})}),e},progressOptions:function(){return this.$getTextBookOptions(this.data.text_book_id,this.textBookData)},preSetTip:function(){var t=this,e=[];return this.data.ui_voice_id||e.push("角色语音"),this.data.overview_audio||e.push("总述音频"),this.data.summarize_audio||e.push("总结音频"),this.data.vocabulary_audio||e.push("词汇概述音频"),this.data.knowledge_audio||e.push("知识点音频"),0===this.data.vocabulary_list.length&&e.push("关联单词"),0===this.data.sentence_list.length&&e.push("关联单句"),(0===this.data.sentence_list.length||this.data.sentence_list.every(function(e){return t.$isNone(e.knowledge_info)}))&&e.push("单句关联知识点"),e.join(", ")}},watch:{"data.homework_list":function(){var t=this;this.data.homework_list.forEach(function(e,a){t.data.homework_list[a].weight=t.data.homework_list.length-a})}},methods:{picUploaded:function(t,e){switch(e){case 1:this.data.cover=t;break;case 2:this.data.theme_img_src=t;break}},picDel:function(t){switch(t){case 1:this.data.cover="";break;case 2:this.data.theme_img_src="";break}},file_uploaded:function(t){var e={};e.url=t,e.name="",this.data.material_list.push(e)},remove_file:function(t){this.data.material_list.splice(t,1)},down_item:function(t,e,a){for(var n=0;n<e.length;n++)if(t[a]===e[n][a])return void this.exchange_place(e,n,n+1)},up_item:function(t,e,a){for(var n=0;n<e.length;n++)if(t[a]===e[n][a])return void this.exchange_place(e,n,n-1)},exchange_place:function(t,e,a){return t[e]=t.splice(a,1,t[e])[0],t},save_it:function(t,e){for(var a=this.$route.params.id,n=this.$deepCopy(this.data),o=0;o<n.material_list.length;++o)n.material_list[o].weight=n.material_list.length-o;for(var s=0;s<n.courseware_list.length;++s)n.courseware_list[s].weight=n.courseware_list.length-s;for(var i=0;i<n.sentence_list.length;++i)n.sentence_list[i].weight=n.sentence_list.length-i;for(var l=0;l<n.vocabulary_list.length;++l)n.vocabulary_list[l].weight=n.vocabulary_list.length-l;for(var c=0;c<n.subject_list.length;++c)n.subject_list[c].weight=n.subject_list.length-c;n.text_book_progress=this.progress.join("-"),""===n.video.url&&(n.video={}),"new"===this.$route.params.id?r["a"].add_courseware({params:n,cb:function(e){0==e.code&&t(e)}}):r["a"].edit_courseware({id:a,params:n,cb:function(t){0==t.code&&e(t)}})},save:function(){var t=this;this.$isNone(this.data.name)?this.$Message.warning("缺少必填参数！"):this.$isNone(this.progress)||!this.$isNone(this.data.text_book_id)?this.save_it(function(e){t.$Message.success("保存成功"),t.$router.push("/coursewareedit/".concat(e.data.id))},function(){t.$Message.success("修改成功")}):this.$Message.warning("请选择相应教材！")},submit:function(){var t=this;this.$isNone(this.data.name)?this.$Message.warning("缺少必填参数！"):this.$Modal.confirm({title:"确认",content:"<p>确认提交审核？</p>",onOk:function(){t.save_it(function(e){var a={ids:[]};a.ids.push(e.data.id),r["a"].submit_courseware({params:a,cb:function(e){0==e.code&&(t.$Message.success("提交成功"),t.$router.push("/coursewares"))}})},function(){var e={ids:[]};e.ids.push(t.$route.params.id),r["a"].submit_courseware({params:e,cb:function(e){0==e.code&&(t.$Message.success("提交成功"),t.$router.push("/coursewares"))}})})}})},add_word:function(){this.add_modal_title="关联单词",this.add_modal=!0},add_sentence:function(){this.add_modal_title="关联句子",this.add_modal=!0},add_question:function(){this.add_modal_title="关联题目",this.add_modal=!0},selectchange:function(t){this.temp_knowledge=t},change_knowledge:function(){var t=[];if(this.temp_knowledge.sort(this.$compare("id")),"关联单词"===this.add_modal_title){for(var e=0;e<this.data.vocabulary_list.length;++e)t.push(this.data.vocabulary_list[e].id);for(var a=0;a<this.temp_knowledge.length;a++)this.$inArray(this.temp_knowledge[a].id,t)||(this.temp_knowledge[a].use_type=0,this.data.vocabulary_list.push(this.temp_knowledge[a]))}else if("关联句子"===this.add_modal_title){for(var n=0;n<this.data.sentence_list.length;++n)t.push(this.data.sentence_list[n].id);for(var o=0;o<this.temp_knowledge.length;o++)this.$inArray(this.temp_knowledge[o].id,t)||(this.temp_knowledge[o].use_type=0,this.data.sentence_list.push(this.temp_knowledge[o]))}else{for(var r=0;r<this.data.subject_list.length;++r)t.push(this.data.subject_list[r].id);for(var s=0;s<this.temp_knowledge.length;s++)this.$inArray(this.temp_knowledge[s].id,t)||this.data.subject_list.push(this.temp_knowledge[s])}},delete_knowledge:function(t){if("vocabulary"===t.type)for(var e=0;e<this.data.vocabulary_list.length;e++)this.data.vocabulary_list[e].id===t.id&&this.data.vocabulary_list.splice(e,1);else if("sentence"===t.type)for(var a=0;a<this.data.sentence_list.length;a++)this.data.sentence_list[a].id===t.id&&this.data.sentence_list.splice(a,1);else for(var n=0;n<this.data.subject_list.length;n++)this.data.subject_list[n].id===t.id&&this.data.subject_list.splice(n,1)},get_detail_data:function(){var t=this;r["a"].get_courseware_detail({id:this.$route.params.id,cb:function(e){if(0===e.code){t.data=e.data,t.data.vocabulary_list.sort(t.$compare("weight")).reverse(),t.data.sentence_list.sort(t.$compare("weight")).reverse(),t.data.subject_list.sort(t.$compare("weight")).reverse(),t.$isNone(e.data.video)&&(t.data.video={id:"",name:"",url:""});var a=t.data.text_book_progress.split("-");a.forEach(function(t,e){a[e]=parseInt(t)}),t.progress=a}}})},get_manager_list:function(){var t=this;r["a"].get_admin_simple_list({cb:function(e){0==e.code&&(t.managerList=e.data.list.filter(function(t){return 1===t.status}))}})},auditFail:function(){var t=this;this.$Modal.confirm({title:"确认",content:"<p>确认审核不通过？</p>",onOk:function(){var e={ids:[]};e.ids.push(t.$route.params.id),r["a"].courseware_fail({params:e,cb:function(e){0==e.code&&(t.$Message.success("操作成功"),t.$router.push("/coursewares"))}})}})},auditPass:function(){var t=this;this.$Modal.confirm({title:"确认",content:"<p>确认审核通过？</p>",onOk:function(){var e={ids:[]};e.ids.push(t.$route.params.id),r["a"].courseware_pass({params:e,cb:function(e){0==e.code&&(t.$Message.success("操作成功"),t.$router.push("/coursewares"))}})}})},previewCourseware:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a="";if(a=4===this.data.status?"view/":"preview/",0===this.data.status||2===this.data.status){if(this.$isNone(this.data.name))return void this.$Message.warning("缺少必填参数！");this.save_it(function(n){t.$router.push("/coursewareedit/".concat(n.data.id)),window.open("".concat(window.localStorage.getItem("preview_courseware_base_url")).concat(a).concat(n.data.id,"?utm_source=pr&page=").concat(e,"&auth_token=").concat(window.localStorage.getItem("access_token")))},function(){window.open("".concat(window.localStorage.getItem("preview_courseware_base_url")).concat(a).concat(t.$route.params.id,"?utm_source=pr&page=").concat(e,"&auth_token=").concat(window.localStorage.getItem("access_token")))})}else window.open("".concat(window.localStorage.getItem("preview_courseware_base_url")).concat(a).concat(this.$route.params.id,"?utm_source=pr&page=").concat(e,"&auth_token=").concat(window.localStorage.getItem("access_token")))},bgChange:function(t){this.data.background=t},addPaperEvent:function(){var t={name:"",url:""};this.data.homework_list.push(t)},delPaperEvent:function(t){this.data.homework_list.splice(t,1)},audioUploaded:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case 1:this.data.overview_audio=t;break;case 2:this.data.vocabulary_audio=t;break;case 3:this.data.knowledge_audio=t;break;case 4:this.data.homework_list[a].url=t;break;case 5:this.data.theme_audio_src=t;break;case this.AudioTypes.SUMMARIZE_AUDIO:this.data.summarize_audio=t;break}},audioDel:function(t){switch(t){case 1:this.data.overview_audio="";break;case 2:this.data.vocabulary_audio="";break;case 3:this.data.knowledge_audio="";break;case 4:this.data.theme_audio_src="";break;case this.AudioTypes.SUMMARIZE_AUDIO:this.data.summarize_audio="";break}},videoUploaded:function(t,e){switch(e){case 1:this.data.theme_video_src=t;break;case 2:this.data.video.url=t;break}},videoDel:function(t){switch(t){case 1:this.data.theme_video_src="";break;case 2:this.data.video.url="";break}},bookChange:function(){this.progress=[]},dragTableRow:function(t,e,a){var n;if("word"===t?n=this.$deepCopy(this.data.vocabulary_list):"sentence"===t?n=this.$deepCopy(this.data.sentence_list):"subject"===t&&(n=this.$deepCopy(this.data.subject_list)),e<a)n.splice(a+1,0,n[e]),n.splice(e,1);else{var o=n[e];n.splice(e,1),n.splice(a,0,o)}"word"===t?this.data.vocabulary_list=n:"sentence"===t?this.data.sentence_list=n:"subject"===t&&(this.data.subject_list=n)},getUIVoiceOptions:function(){var t=this;r["a"].get_uivoice_simple_list({cb:function(e){0===e.code&&(t.uiVoiceOptions=e.data)}})}},mounted:function(){var t=this;this.$Spin.show(),this.get_manager_list(),this.getUIVoiceOptions(),r["a"].get_text_book_data({cb:function(e){if(0==e.code){t.textBookData=e.data;var a=[];t.textBookData.forEach(function(t){var e={};e.id=t.id,e.name=t.name,a.push(e)}),t.bookOptions=a,t.$Spin.hide()}}}),"new"!==this.$route.params.id&&this.get_detail_data()}},v=g,_=(a("800c"),Object(p["a"])(v,n,o,!1,null,"5a0c83bf",null));e["default"]=_.exports},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"53f9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"新增/编辑自定义模板"}}),a("page-content",[a("Alert",{staticStyle:{width:"500px","margin-top":"5px"},attrs:{type:"warning","show-icon":""}},[t._v("灰色区域字段在课件录入时不可修改")]),a("div",{staticClass:"template"},[a("div",{staticClass:"left"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("模板名称")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.templateData.name,callback:function(e){t.$set(t.templateData,"name",e)},expression:"templateData.name"}})],1),"FlashCard"===t.templateData.tmpl?a("FlashCard",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"FlashQuiz"===t.templateData.tmpl?a("FlashQuiz",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"FlipCard"===t.templateData.tmpl?a("FlipCard",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"LeaderBoard"===t.templateData.tmpl?a("LeaderBoard",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"RolePlay"===t.templateData.tmpl?a("RolePlay",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"SinglePicture"===t.templateData.tmpl?a("SinglePicture",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"SingleVideo"===t.templateData.tmpl?a("SingleVideo",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"ShowCard"===t.templateData.tmpl?a("ShowCard",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"PictureText"===t.templateData.tmpl?a("PictureText",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"TopicCover"===t.templateData.tmpl?a("TopicCover",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e(),"AbstractText"===t.templateData.tmpl?a("AbstractText",{attrs:{data:t.templateData,whereUse:"templateedit"}}):t._e()],1),a("div",{staticClass:"right scrollstyle"},t._l(t.tmplTypeList,function(e){return a("div",{key:e,class:[{typeSelected:t.templateData.tmpl===e},{typebtnhover:t.templateData.tmpl!==e},"typebtn"],style:{cursor:t.cursorValue},on:{click:function(a){return t.typeChanged(e)}}},[a("span",[t._v(t._s(e))])])}),0),a("div",{staticClass:"clear"}),a("i-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"primary",size:"large",disabled:t.savebtn},on:{click:t.save}},[t._v("保存")])],1)],1)],1)},o=[],r=a("a358"),s=a("6f93"),i=a("be3c"),l={mixins:[s["a"]],data:function(){return{savebtn:!1,tmplTypeList:i["g"],templateData:""}},computed:{cursorValue:function(){return"new"===this.$route.params.id?"pointer":"not-allowed"}},methods:{typeChanged:function(t){if("new"===this.$route.params.id)switch(t){case"FlashCard":this.templateData=this.flashcardData;break;case"FlashQuiz":this.templateData=this.flashquizData;break;case"FlipCard":this.templateData=this.flipcardData;break;case"LeaderBoard":this.templateData=this.leaderboardData;break;case"RolePlay":this.templateData=this.roleplayData;break;case"SinglePicture":this.templateData=this.singlepictureData;break;case"SingleVideo":this.templateData=this.singlevideoData;break;case"ShowCard":this.templateData=this.showcardData;break;case"PictureText":this.templateData=this.picturetextData;break;case"TopicCover":this.templateData=this.topiccoverData;break;case"AbstractText":this.templateData=this.abstracttextData;break}},save:function(){var t=this;"new"===this.$route.params.id?r["a"].add_mytemplate({params:this.templateData,cb:function(e){0==e.code&&(t.savebtn=!0,t.$Message.success("添加成功"),t.$router.go(-1))}}):r["a"].update_mytemplate({id:this.$route.params.id,params:this.templateData,cb:function(e){0==e.code&&t.$Message.success("修改成功")}})}},created:function(){var t=this;"new"!==this.$route.params.id?r["a"].get_mytemplate_detail({id:this.$route.params.id,cb:function(e){if(0==e.code){if(t.templateData=e.data,!t.templateData.content.corner_mark){var a={id:0,content:"",bg_color:""};t.$set(t.templateData.content,"corner_mark",a)}if(!t.templateData.content.data.bg){var n={color:"",src:""};t.$set(t.templateData.content.data,"bg",n)}}}}):this.templateData=this.singlepictureData}},c=l,d=(a("3569"),a("2877")),u=Object(d["a"])(c,n,o,!1,null,"374b00c5",null);e["default"]=u.exports},"54cd":function(t,e,a){},"552e":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"自定义模板背景"}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("新增")])],1),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticClass:"btn_margin",attrs:{size:"large",type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),a("page-content",[a("Table",{staticClass:"table",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}})],1),a("Modal",{attrs:{width:"600px",title:t.updatemodaltitle},on:{"on-ok":t.updateBackground},model:{value:t.addeditmodal,callback:function(e){t.addeditmodal=e},expression:"addeditmodal"}},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景名称")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.name,callback:function(e){t.$set(t.detailData,"name",e)},expression:"detailData.name"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("模板类型")]),a("Select",{staticStyle:{width:"200px"},attrs:{slot:"value"},slot:"value",model:{value:t.detailData.type,callback:function(e){t.$set(t.detailData,"type",e)},expression:"detailData.type"}},t._l(t.templateList,function(e){return a("Option",{key:e.val,attrs:{value:e.val}},[t._v(t._s(e.name))])}),1)],1),a("picuploader",{attrs:{src:t.detailData.src},on:{picuploaded:t.mybg_uploaded}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.detailData.note,callback:function(e){t.$set(t.detailData,"note",e)},expression:"detailData.note"}})],1)],1),a("Modal",{attrs:{title:"预览背景",width:"1000"},model:{value:t.previewmodal,callback:function(e){t.previewmodal=e},expression:"previewmodal"}},[a("div",{staticClass:"previewpic"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.preview_url}})]),a("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},o=[],r=(a("7f7f"),a("a358")),s={data:function(){var t=this;return{radio1:0,templateList:[{name:"FlipCard",val:1},{name:"ShowCard",val:2}],editId:"",updatemodaltitle:"",list:[],addeditmodal:!1,previewmodal:!1,table_loading:!1,preview_url:"",searchData:{page:1,is_archive:0},pageData:{total:0,perPage:1,currentPage:1},detailData:{name:"",type:"",src:"",note:""},columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"ID",key:"id",width:80,align:"center"},{title:"背景名称",key:"name",width:120,align:"center"},{title:"模板类型",key:"type",width:120,align:"center",render:function(t,e){var a=1===e.row.type?"FlipCard":"ShowCard";return t("span",a)}},{title:"录入员",width:140,align:"center",render:function(e,a){return t.$isNone(a.row.operator)?e("span","-"):a.row.operator.name?e("span","".concat(a.row.operator.name_cn,"(").concat(a.row.operator.name,")")):e("span","".concat(a.row.operator.name_cn))}},{title:"录入时间",width:160,key:"created_at",align:"center"},{title:"备注",minWidth:160,key:"note",align:"center"},{title:"操作",width:180,fixed:"right",render:function(e,a){return 0===t.radio1?e("div",[t.$makeBtn(e,"text","编辑",t.showEditModal,a.row),t.$makeBtn(e,"text","预览",t.showPreviewModal,a.row.src),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectChange:function(){},getList:function(){var t=this;this.table_loading=!0,r["a"].get_template_background_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},showAddModal:function(){this.updatemodaltitle="新增背景",this.$resetObj(this.detailData),this.detailData.type=1,this.addeditmodal=!0},showEditModal:function(t){this.updatemodaltitle="编辑背景",this.detailData.name=t.name,this.detailData.src=t.src,this.detailData.note=t.note,this.editId=t.id,this.addeditmodal=!0},mybg_uploaded:function(t){this.detailData.src=t},updateBackground:function(){var t=this;"新增背景"===this.updatemodaltitle?r["a"].add_template_background({params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("添加成功！"))}}):r["a"].update_template_background({id:this.editId,params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("修改成功！"))}})},radio1Change:function(t){this.searchData.is_archive=t,this.pageChange(1)},pageChange:function(t){this.searchData.page=t,this.getList()},changeArchive:function(t){var e=this;r["a"].file_restore_template_background({params:t,cb:function(a){0==a.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},showPreviewModal:function(t){this.preview_url=t,this.previewmodal=!0}},created:function(){this.getList()}},i=s,l=(a("1544"),a("2877")),c=Object(l["a"])(i,n,o,!1,null,"467dac57",null);e["default"]=c.exports},"554b":function(t,e,a){"use strict";var n=a("a40a"),o=a.n(n);o.a},"56e2":function(t,e,a){"use strict";var n=a("fe00"),o=a.n(n);o.a},"57c7":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"自定义角标"}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("新增")])],1),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticClass:"btn_margin",attrs:{size:"large",type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),a("page-content",[a("Table",{staticClass:"table",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}}),a("Modal",{attrs:{width:"600px",title:t.updatemodaltitle},model:{value:t.addeditmodal,callback:function(e){t.addeditmodal=e},expression:"addeditmodal"}},[a("pair",[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("角标标题")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.title,callback:function(e){t.$set(t.detailData,"title",e)},expression:"detailData.title"}})],1),a("pair",[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("角标内容")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.content,callback:function(e){t.$set(t.detailData,"content",e)},expression:"detailData.content"}})],1),a("pair",[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.bg_color,callback:function(e){t.$set(t.detailData,"bg_color",e)},expression:"detailData.bg_color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.detailData.note,callback:function(e){t.$set(t.detailData,"note",e)},expression:"detailData.note"}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"text",size:"large"},on:{click:function(e){t.addeditmodal=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:t.updateCornerMark}},[t._v("确定")])],1)],1)],1)],1)},o=[],r=(a("7f7f"),a("a358")),s={data:function(){var t=this;return{list:[],radio1:0,table_loading:!1,updatemodaltitle:"",addeditmodal:!1,editId:"",detailData:{title:"",content:"",bg_color:"",note:""},searchData:{page:1,perpage:"",is_archive:0},pageData:{total:0,perPage:1,currentPage:1},columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"ID",key:"id",width:80,align:"center"},{title:"角标标题",key:"title",width:140,align:"center"},{title:"角标文本",key:"bg_color",width:140,align:"center",render:function(t,e){return e.row.bg_color?t("span",{style:"display: inline-block; height: 25px; line-height: 25px; padding: 0 5px; border-radius: 10px; float: left; background: ".concat(e.row.bg_color,"; color: #fff")},e.row.content):t("span","-")}},{title:"录入员",width:140,align:"center",render:function(e,a){return t.$isNone(a.row.operator)?e("span","-"):a.row.operator.name?e("span","".concat(a.row.operator.name_cn,"(").concat(a.row.operator.name,")")):e("span","".concat(a.row.operator.name_cn))}},{title:"录入时间",key:"created_at",width:160,align:"center"},{title:"备注",align:"center",minWidth:160,render:function(t,e){return e.row?t("span",e.row.note):t("span","-")}},{title:"操作",width:150,fixed:"right",render:function(e,a){return 0===t.radio1?e("div",[t.$makeBtn(e,"text","编辑",t.showEditModal,a.row),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectChange:function(){},pageChange:function(t){this.searchData.page=t,this.getList()},radio1Change:function(t){this.searchData.is_archive=t,this.pageChange(1)},getList:function(){var t=this;this.table_loading=!0,r["a"].get_cornermark_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},changeArchive:function(t){var e=this;r["a"].file_restore_mycornermark({params:t,cb:function(a){0==a.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},showAddModal:function(){this.updatemodaltitle="新增角标",this.$resetObj(this.detailData),this.addeditmodal=!0},showEditModal:function(t){this.updatemodaltitle="编辑角标",this.detailData.title=t.title,this.detailData.content=t.content,this.detailData.bg_color=t.bg_color,this.detailData.note=t.note,this.editId=t.id,this.addeditmodal=!0},updateCornerMark:function(){var t=this;this.detailData.title&&this.detailData.content&&this.detailData.bg_color?"新增角标"===this.updatemodaltitle?r["a"].add_cornermark({params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("添加成功！"),t.addeditmodal=!1)}}):r["a"].edit_cornermark({id:this.editId,params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("修改成功！"),t.addeditmodal=!1)}}):this.$Message.warning("请将必填项填写完整！")}},created:function(){this.getList()}},i=s,l=a("2877"),c=Object(l["a"])(i,n,o,!1,null,null,null);e["default"]=c.exports},"58fa":function(t,e,a){"use strict";var n=a("0833"),o=a.n(n);o.a},"5cc5":function(t,e,a){var n=a("2b4c")("iterator"),o=!1;try{var r=[7][n]();r["return"]=function(){o=!0},Array.from(r,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!o)return!1;var a=!1;try{var r=[7],i=r[n]();i.next=function(){return{done:a=!0}},r[n]=function(){return i},t(r)}catch(s){}return a}},"5dbc":function(t,e,a){var n=a("d3f4"),o=a("8b97").set;t.exports=function(t,e,a){var r,s=e.constructor;return s!==a&&"function"==typeof s&&(r=s.prototype)!==a.prototype&&n(r)&&o&&o(t,r),t}},"5df3":function(t,e,a){"use strict";var n=a("02f4")(!0);a("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,a=this._i;return a>=e.length?{value:void 0,done:!0}:(t=n(e,a),this._i+=t.length,{value:t,done:!1})})},"5e28":function(t,e,a){"use strict";var n=a("cbde"),o=a.n(n);o.a},"64b8":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACB0lEQVRoge2Zy0sCURSHf6MiLkRBe4ALwYUWIkJWYPQcq/+2NqlhthGUAlcFkiBNm2oQaqFpuvAV14WYt6kcRM8M91vpOTOMH2fOfSkNBoMBTIDFDBIQIgQRItQQItQQItQQItSwUfg9uVwOr6qK7a0thEIhLv8fSFTk+eUFnU4HN7e3KBQK6Ha73DV/QUKk1+uNPj8qClLpNOr1Onfdb5DskVqthmQqBeXpictpQbbZ2euVz+eHr9t4xbQgP2pVKhWkLy/x0WhwuXF07RDZLa1WC7PaXJ6dn3OxSex2O/Z2d+H3+7kc9Ipkr6+hqioXnweRSASbsRgkSfr2NF2v1qIkGKVSCVfZLNrt9re4IWf2arWKi2QSb+/vo5hhlyisIplMZjREk1ii6IUNy2yI/mw2zbFovLu/N4eIx+MxvojX60VClo3dI4FAYDhJWq1W44rENjYQjUZH33WJWCQJ/QWdfdtsNhzs73NLFV0ia+vrUBSFi+uFrXT7/f6fdzudzmE/sOaehMTfCsViEQ/lMhcfZ3VlBbIsw+FwcDkYZUIMBoPYicdhsWgPsqRF2AqXHUiEw2EuNwlZEbb/ODo8hM/n43I/QVLE5XLhOJGA2+3mclqQE2EVYJVgFZkG7e6ZI0vLy8O5ifXC6cnJ1BKgMvzOAnGITQ0hQg0hQg0hQg0hQg1ziAD4AjKroId70O+YAAAAAElFTkSuQmCC"},"67ab":function(t,e,a){var n=a("ca5a")("meta"),o=a("d3f4"),r=a("69a8"),s=a("86cc").f,i=0,l=Object.isExtensible||function(){return!0},c=!a("79e5")(function(){return l(Object.preventExtensions({}))}),d=function(t){s(t,n,{value:{i:"O"+ ++i,w:{}}})},u=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,n)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[n].i},p=function(t,e){if(!r(t,n)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[n].w},h=function(t){return c&&m.NEED&&l(t)&&!r(t,n)&&d(t),t},m=t.exports={KEY:n,NEED:!1,fastKey:u,getWeak:p,onFreeze:h}},6935:function(t,e,a){},"6ac1":function(t,e,a){"use strict";var n=a("2a07"),o=a.n(n);o.a},"6b54":function(t,e,a){"use strict";a("3846");var n=a("cb7c"),o=a("0bfb"),r=a("9e1e"),s="toString",i=/./[s],l=function(t){a("2aba")(RegExp.prototype,s,t,!0)};a("79e5")(function(){return"/a/b"!=i.call({source:"a",flags:"b"})})?l(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!r&&t instanceof RegExp?o.call(t):void 0)}):i.name!=s&&l(function(){return i.call(this)})},"6dd2":function(t,e,a){},"6f93":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Card")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.ids,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("卡片"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delCard(n)}},slot:"extra"}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片名")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("picuploader",{attrs:{src:e.src,delable:!0},on:{del:function(e){return t.cardPicDelete(n)},picuploaded:function(e){t.cardPicUploaded(e,n)}}}),a("audiouploader",{attrs:{src:e.audio,delable:!0},on:{del:function(e){return t.cardAudioDelete(n)},audiouploaded:function(e){t.cardAudioUploaded(e,n)}}})],1)}),a("i-button",{attrs:{type:"primary"},on:{click:t.addCard}},[t._v("添加卡片")])],2)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},o=[],r={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},addCard:function(){var t={src:"",name:"",audio:""};this.data.content.data.ids.push(t)},delCard:function(t){this.data.content.data.ids.splice(t,1)},cardPicUploaded:function(t,e){this.data.content.data.ids[e].src=t},cardPicDelete:function(t){this.data.content.data.ids[t].src=""},cardAudioUploaded:function(t,e){this.data.content.data.ids[e].audio=t},cardAudioDelete:function(t){this.data.content.data.ids[t].audio=""}},created:function(){}},s=r,i=(a("56e2"),a("2877")),l=Object(i["a"])(s,n,o,!1,null,"0cbccb96",null),c=l.exports,d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目序号")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.data.ids,callback:function(e){t.$set(t.data.content.data,"ids",e)},expression:"data.content.data.ids"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},u=[],p={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t}},created:function(){}},h=p,m=(a("1798"),Object(i["a"])(h,d,u,!1,null,"090d4b55",null)),g=m.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("翻转状态")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.flip,callback:function(e){t.$set(t.data.content.data,"flip",e)},expression:"data.content.data.flip"}},[a("Radio",{attrs:{label:0}},[t._v("背面")]),a("Radio",{attrs:{label:1}},[t._v("正面")])],1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本状态")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.show,callback:function(e){t.$set(t.data.content.data,"show",e)},expression:"data.content.data.show"}},[a("Radio",{attrs:{label:0}},[t._v("默认关闭")]),a("Radio",{attrs:{label:1}},[t._v("默认展示")])],1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片形状")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.shape,callback:function(e){t.$set(t.data.content.data,"shape",e)},expression:"data.content.data.shape"}},[a("Radio",{attrs:{label:0}},[t._v("正方形")]),a("Radio",{attrs:{label:1}},[t._v("长方形-竖")])],1)],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.bgPicDelete,picuploaded:t.bgPicUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("选择背景图片")]),a("Select",{staticStyle:{width:"200px"},attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.id,callback:function(e){t.$set(t.data.content.data.bg,"id",e)},expression:"data.content.data.bg.id"}},t._l(t.templateBackground,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Card")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.ids,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("卡片"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delCard(n)}},slot:"extra"}),a("picuploader",{attrs:{src:e.src,delable:!0},on:{del:function(e){return t.cardPicDelete(n)},picuploaded:function(e){t.cardPicUploaded(e,n)}}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片文本")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",placeholder:"支持 markdown"},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"30px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("\n                  *\n                  "),a("span",{staticStyle:{color:"red"}},[t._v("红色字体")]),t._v("*\n                ")]),a("p",[t._v("\n                  **\n                  "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("加粗字体")]),t._v("**\n                ")]),a("p",[t._v("\n                  #\n                  "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("一级标题")])]),a("p",[t._v("\n                  ##\n                  "),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v("二级标题")])]),a("p",[t._v("\n                  ###\n                  "),a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("三级标题")])])])],1)],1)]),a("audiouploader",{attrs:{src:e.audio,delable:!0},on:{del:function(e){return t.cardAudioDelete(n)},audiouploaded:function(e){t.cardAudioUploaded(e,n)}}})],1)}),a("i-button",{attrs:{type:"primary"},on:{click:function(e){return t.addCard()}}},[t._v("添加卡片")]),a("piclistuploader",{staticStyle:{float:"left","margin-right":"3px"},attrs:{mul:!0},on:{picuploaded:t.image_uploaded}})],2)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},_=[],f=a("a358"),b={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{templateBackground:[],selectedBackground:""}},methods:{bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},addCard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={};e.src=t,e.name="",e.audio="",this.data.content.data.ids.push(e)},delCard:function(t){this.data.content.data.ids.splice(t,1)},cardPicUploaded:function(t,e){this.data.content.data.ids[e].src=t},cardPicDelete:function(t){this.data.content.data.ids[t].src=""},cardAudioUploaded:function(t,e){this.data.content.data.ids[e].audio=t},cardAudioDelete:function(t){this.data.content.data.ids[t].audio=""},bgPicUploaded:function(t){this.selectedBackground="",this.$nextTick(function(){this.data.content.data.bg.src=t})},bgPicDelete:function(){this.selectedBackground="",this.data.content.data.bg.src=""},getTemplateBackground:function(){var t=this;f["a"].get_template_background_simple_list({type:1,cb:function(e){0===e.code&&(t.templateBackground=e.data.list)}})},image_uploaded:function(t){this.addCard(t)}},created:function(){this.getTemplateBackground()}},w=b,k=(a("1201"),Object(i["a"])(w,v,_,!1,null,"402758f0",null)),y=k.exports,x=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.picDelete,picuploaded:t.picuploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1),t._v("\n  "+t._s(t.whereUse)+t._s(t.templateType)+"\n")],1)},C=[],D={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{picuploaded:function(t){this.data.content.data.bg.src=t},picDelete:function(){this.data.content.data.bg.src=""},bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t}}},A=D,S=(a("554b"),Object(i["a"])(A,x,C,!1,null,"aba1fae0",null)),T=S.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.bgPicDelete,picuploaded:t.bgPicUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角色管理")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.character,function(e,n){return a("Card",{key:n,staticStyle:{width:"400px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("角色"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delRole(n)}},slot:"extra"}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角色名")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"item.name"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:e.bgcolor,callback:function(a){t.$set(e,"bgcolor",a)},expression:"item.bgcolor"}})],1)],1)}),a("i-button",{attrs:{type:"primary"},on:{click:t.addRole}},[t._v("添加角色")])],2)]),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("对话管理")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.chats,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("对话"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delChat(n)}},slot:"extra"}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角色")]),a("Select",{staticStyle:{width:"150px"},attrs:{slot:"value"},on:{"on-change":t.roleChange},slot:"value",model:{value:e.role,callback:function(a){t.$set(e,"role",a)},expression:"item.role"}},t._l(t.data.content.data.character,function(e,n){return a("Option",{key:n,attrs:{value:n}},[t._v(t._s(e.name?e.name:"角色"+(n+1)))])}),1)],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("内容")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",placeholder:"支持 markdown"},model:{value:e.dialog,callback:function(a){t.$set(e,"dialog",a)},expression:"item.dialog"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"30px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("\n                  *\n                  "),a("span",{staticStyle:{color:"red"}},[t._v("红色字体")]),t._v("*\n                ")]),a("p",[t._v("\n                  **\n                  "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("加粗字体")]),t._v("**\n                ")]),a("p",[t._v("\n                  #\n                  "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("一级标题")])]),a("p",[t._v("\n                  ##\n                  "),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v("二级标题")])]),a("p",[t._v("\n                  ###\n                  "),a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("三级标题")])])])],1)],1)])],1)}),a("i-button",{attrs:{type:"primary"},on:{click:t.addChat}},[t._v("添加对话")])],2)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},P=[],E={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{bgPicUploaded:function(t){this.data.content.data.bg.src=t},bgPicDelete:function(t){this.data.content.data.bg.src=""},bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},addRole:function(){var t={name:"",bgcolor:""};this.data.content.data.character.push(t)},delRole:function(t){this.data.content.data.character.splice(t,1)},addChat:function(){if(0!==this.data.content.data.character.length){var t={role:"",dialog:"",audio:""};this.data.content.data.chats.push(t)}else this.$Message.warning("请先添加角色！")},delChat:function(t){this.data.content.data.chats.splice(t,1)},roleChange:function(t){}}},M=E,B=(a("2c4f"),Object(i["a"])(M,I,P,!1,null,"46b56432",null)),R=B.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.picDelete,picuploaded:t.picUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},$=[],L={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{picUploaded:function(t){this.data.content.data.src=t},picDelete:function(){this.data.content.data.src=""},bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t}},created:function(){}},N=L,O=(a("206b"),Object(i["a"])(N,U,$,!1,null,"15a0d8b4",null)),Q=O.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("videouploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.src},on:{videouploaded:t.videoUploaded}}),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.cover,delable:!0,name:"上传视频封面（限分辨率1600x1200, 限大小800kb）"},on:{del:t.coverPicDelete,picuploaded:t.coverPicUploaded}}),a("fileuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.captions,delable:!0,name:"上传视频字幕（限vtt文件, 限大小100kb）"},on:{del:t.captionsDelete,fileuploaded:t.captionsUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},F=[],j={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{coverPicUploaded:function(t){this.data.content.data.cover=t},coverPicDelete:function(){this.data.content.data.cover=""},videoUploaded:function(t){this.data.content.data.src=t},captionsUploaded:function(t){this.data.content.data.captions=t},captionsDelete:function(){this.data.content.data.captions=""},bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t}}},z=j,V=(a("1a94"),Object(i["a"])(z,G,F,!1,null,"0aa768e4",null)),Y=V.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.bgPicDelete,picuploaded:t.bgPicUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("选择背景图片")]),a("Select",{staticStyle:{width:"200px"},attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.id,callback:function(e){t.$set(t.data.content.data.bg,"id",e)},expression:"data.content.data.bg.id"}},t._l(t.templateBackground,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Card")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("i-button",{staticStyle:{margin:"0 3px 0 0"},attrs:{type:"primary"},on:{click:function(e){return t.addCard()}}},[t._v("添加卡片")]),a("i-button",{staticStyle:{margin:"0 3px 0 0"},attrs:{type:"primary"},on:{click:t.showRelateWordModal}},[t._v("关联单词")]),a("i-button",{staticStyle:{margin:"0 3px 0 0"},attrs:{type:"primary"},on:{click:t.showRelateSentenceModal}},[t._v("关联句子")]),a("piclistuploader",{staticStyle:{float:"left","margin-right":"3px"},attrs:{mul:!0},on:{picuploaded:t.image_uploaded}}),a("div",{staticStyle:{height:"10px"}}),a("draggable",{attrs:{group:"showcard",animation:350},model:{value:t.data.content.data.cards,callback:function(e){t.$set(t.data.content.data,"cards",e)},expression:"data.content.data.cards"}},t._l(t.data.content.data.cards,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("卡片"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delCard(n)}},slot:"extra"}),a("picuploader",{attrs:{src:e.src,delable:!0,name:"上传图片（限分辨率1600x1200, 限大小800kb）"},on:{del:function(e){return t.cardPicDelete(n)},picuploaded:function(e){t.cardPicUploaded(e,n)}}}),a("audiouploader",{attrs:{src:e.audio,delable:!0},on:{del:function(e){return t.cardAudioDelete(n)},audiouploaded:function(e){t.cardAudioUploaded(e,n)}}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片文本")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",class:{textCenter:t.isCenter(e.text)},attrs:{type:"textarea",placeholder:"支持 markdown"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"30px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("\n                    *\n                    "),a("span",{staticStyle:{color:"red"}},[t._v("红色字体")]),t._v("*\n                  ")]),a("p",[t._v("\n                    **\n                    "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("加粗字体")]),t._v("**\n                  ")]),a("p",[t._v("\n                    #\n                    "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("一级标题")])]),a("p",[t._v("\n                    ##\n                    "),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v("二级标题")])]),a("p",[t._v("\n                    ###\n                    "),a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("三级标题")])])])],1)],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("边框颜色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:e.border_color,callback:function(a){t.$set(e,"border_color",a)},expression:"item.border_color"}})],1)],1)}),1)],1)]),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片显示顺序")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.random,callback:function(e){t.$set(t.data.content.data,"random",e)},expression:"data.content.data.random"}},[a("Radio",{attrs:{label:0}},[t._v("不随机")]),a("Radio",{attrs:{label:1}},[t._v("随机")])],1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("卡片文本隐藏")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.show_type,callback:function(e){t.$set(t.data.content.data,"show_type",e)},expression:"data.content.data.show_type"}},[a("Radio",{attrs:{label:0}},[t._v("隐藏")]),a("Radio",{attrs:{label:1}},[t._v("显示")])],1)],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("每页显示数量")]),a("InputNumber",{attrs:{slot:"value",max:3,min:1},slot:"value",model:{value:t.data.content.data.perpage,callback:function(e){t.$set(t.data.content.data,"perpage",e)},expression:"data.content.data.perpage"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("页数")]),a("InputNumber",{attrs:{slot:"value",max:t.pagesMax,min:1},slot:"value",model:{value:t.data.content.data.pages,callback:function(e){t.$set(t.data.content.data,"pages",e)},expression:"data.content.data.pages"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("序号")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.serial,callback:function(e){t.$set(t.data.content.data,"serial",e)},expression:"data.content.data.serial"}},[a("Radio",{attrs:{label:0}},[t._v("无")]),a("Radio",{attrs:{label:1}},[t._v("数字序号")]),a("Radio",{attrs:{label:2}},[t._v("字母序号")])],1)],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1),a("Modal",{attrs:{width:"600px",title:"关联单词"},on:{"on-ok":t.relateKnowledges},model:{value:t.relate_word_modal,callback:function(e){t.relate_word_modal=e},expression:"relate_word_modal"}},[t.relate_word_modal?a("simplewordstable",{staticStyle:{"margin-bottom":"5px"},attrs:{selection:"multiple",searchcondition:[{key:"has_image",val:1}]},on:{onselect:t.knowledgeSelect,onselectcancel:t.knowledgeSelectCancel}}):t._e()],1),a("Modal",{attrs:{width:"600px",title:"关联句子"},on:{"on-ok":t.relateKnowledges},model:{value:t.relate_sentence_modal,callback:function(e){t.relate_sentence_modal=e},expression:"relate_sentence_modal"}},[t.relate_sentence_modal?a("simplesentencestable",{staticStyle:{"margin-bottom":"5px"},attrs:{selection:"multiple",searchcondition:[{key:"has_image",val:1}]},on:{onselect:t.knowledgeSelect,onselectcancel:t.knowledgeSelectCancel}}):t._e()],1),a("Modal",{attrs:{width:"600px",title:"选择图片"},on:{"on-ok":t.chooseImage},model:{value:t.knowledge_pic_modal,callback:function(e){t.knowledge_pic_modal=e},expression:"knowledge_pic_modal"}},[a("RadioGroup",{model:{value:t.selected_img,callback:function(e){t.selected_img=e},expression:"selected_img"}},t._l(t.image_list,function(t,e){return a("Radio",{key:e,attrs:{label:t.label}},[a("img",{staticStyle:{width:"160px",height:"120px"},attrs:{src:t.value}})])}),1)],1)],1)},H=[],J=(a("6b54"),a("28a5"),a("ac6a"),{props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},computed:{pagesMax:function(){return Math.ceil(this.data.content.data.cards.length/this.data.content.data.perpage)}},data:function(){return{relate_word_modal:!1,relate_sentence_modal:!1,knowledge_pic_modal:!1,image_list:[],knowledge_text:"",selected_img:"",temp_knowledge_list:[],templateBackground:[],selectedBackground:""}},methods:{bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},bgPicUploaded:function(t){this.selectedBackground="",this.$nextTick(function(){this.data.content.data.bg.src=t})},bgPicDelete:function(){this.selectedBackground="",this.data.content.data.bg.src=""},addCard:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e={text:"",border_color:""};e.src=t,e.audio="",this.data.content.data.cards.push(e)},delCard:function(t){this.data.content.data.cards.splice(t,1)},cardPicUploaded:function(t,e){this.data.content.data.cards[e].src=t},cardPicDelete:function(t){this.data.content.data.cards[t].src=""},cardAudioUploaded:function(t,e){this.data.content.data.cards[e].audio=t},cardAudioDelete:function(t){this.data.content.data.cards[t].audio=""},showRelateWordModal:function(){this.temp_knowledge_list=[],this.relate_word_modal=!0},showRelateSentenceModal:function(){this.temp_knowledge_list=[],this.relate_sentence_modal=!0},addTempKnowledge:function(t,e){var a={};a.text=t,a.border_color="",a.src=e,this.temp_knowledge_list.push(a)},knowledgeSelect:function(t,e){var a=this;e.image.length>=1&&(e.image.length>1?(this.knowledge_text=e.text,this.selected_img=e.image[0].url,this.image_list=[],e.image.forEach(function(t){var e={};e.label=t.url,e.value=t.url,a.image_list.push(e)}),this.knowledge_pic_modal=!0):this.addTempKnowledge(e.text,e.image[0].url))},chooseImage:function(){this.addTempKnowledge(this.knowledge_text,this.selected_img)},knowledgeSelectCancel:function(t,e){var a=this;this.temp_knowledge_list.forEach(function(t,n){e.text===t.text&&a.temp_knowledge_list.splice(n,1)})},relateKnowledges:function(){this.data.content.data.cards=this.data.content.data.cards.concat(this.temp_knowledge_list)},getTemplateBackground:function(){var t=this;f["a"].get_template_background_simple_list({type:2,cb:function(e){0===e.code&&(t.templateBackground=e.data.list)}})},image_uploaded:function(t){this.addCard(t)},isCenter:function(t){return!(t&&t.toString().trim().split(/[\.\?!,]/).length>2)}},created:function(){this.getTemplateBackground()}}),W=J,X=(a("58fa"),Object(i["a"])(W,K,H,!1,null,"4dff2aa1",null)),q=X.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.picDelete,picuploaded:t.picuploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.bg.color,callback:function(e){t.$set(t.data.content.data.bg,"color",e)},expression:"data.content.data.bg.color"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本框")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.cards,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("文本框"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delTextBox(n)}},slot:"extra"}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本内容")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticStyle:{width:"300px"},attrs:{type:"textarea",maxlength:255,rows:5,placeholder:"文本内容 限制255字符(支持markdown)"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"100px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("\n                  *\n                  "),a("span",{staticStyle:{color:"red"}},[t._v("红色字体")]),t._v("*\n                ")]),a("p",[t._v("\n                  **\n                  "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("加粗字体")]),t._v("**\n                ")]),a("p",[t._v("\n                  #\n                  "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("一级标题")])]),a("p",[t._v("\n                  ##\n                  "),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v("二级标题")])]),a("p",[t._v("\n                  ###\n                  "),a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("三级标题")])])])],1)],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("显示方式")]),a("RadioGroup",{attrs:{slot:"value"},slot:"value",model:{value:e.show_type,callback:function(a){t.$set(e,"show_type",a)},expression:"item.show_type"}},[a("Radio",{attrs:{label:1}},[t._v("默认显示")]),a("Radio",{attrs:{label:0}},[t._v("默认隐藏")])],1)],1)],1)}),a("i-button",{attrs:{type:"primary"},on:{click:t.addTextBox}},[t._v("添加卡片")])],2)]),a("audiouploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.audio,delable:!0},on:{del:function(e){return t.audioDelete()},audiouploaded:t.audioUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本显示位置")]),a("div",{staticStyle:{width:"155px",height:"155px","border-radius":"5px"},attrs:{slot:"value"},slot:"value"},t._l(t.textPositionOptions,function(e,n){return a("div",{key:n,staticClass:"textpositiondiv",on:{click:function(a){return t.selectPosition(e.value)}}},[e.value?[t.data.content.data.text_position===e.value?a("img",{staticStyle:{width:"100%"},attrs:{src:""+e.img_selected}}):a("img",{staticStyle:{width:"100%"},attrs:{src:""+e.img}})]:t._e()],2)}),0)]),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("边框颜色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:t.data.content.data.border_color,callback:function(e){t.$set(t.data.content.data,"border_color",e)},expression:"data.content.data.border_color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},tt=[],et={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{textPositionOptions:[{label:"",value:"",img:"",img_selected:""},{label:"",value:"",img:"",img_selected:""},{label:"顶部右侧",value:6,img:a("8a36"),img_selected:a("bbc7")},{label:"中部左侧",value:4,img:a("f4b1"),img_selected:a("e495")},{label:"",value:"",img:"",img_selected:""},{label:"中部右侧",value:5,img:a("64b8"),img_selected:a("f842")},{label:"底部左侧",value:1,img:a("2653"),img_selected:a("a6a7")},{label:"底部中间",value:3,img:a("2dbb"),img_selected:a("12b2")},{label:"底部右侧",value:2,img:a("3072"),img_selected:a("3693")}]}},methods:{picuploaded:function(t){this.data.content.data.bg.src=t},picDelete:function(){this.data.content.data.bg.src=""},bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},addTextBox:function(){var t={text:"",show_type:1};this.data.content.data.cards.push(t)},delTextBox:function(t){this.data.content.data.cards.splice(t,1)},audioUploaded:function(t){this.$set(this.data.content.data,"audio",t)},audioDelete:function(){this.data.content.data.audio=""},selectPosition:function(t){t&&(this.data.content.data.text_position=t)}}},at=et,nt=(a("5e28"),Object(i["a"])(at,Z,tt,!1,null,"5c3cd674",null)),ot=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.picDelete,picuploaded:t.picUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("小标题")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",placeholder:"默认显示对应Unit",type:"textarea"},slot:"value",model:{value:t.data.content.data.subtitle,callback:function(e){t.$set(t.data.content.data,"subtitle",e)},expression:"data.content.data.subtitle"}})],1),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("大标题")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",placeholder:"默认显示对应TopicName",type:"textarea"},slot:"value",model:{value:t.data.content.data.title,callback:function(e){t.$set(t.data.content.data,"title",e)},expression:"data.content.data.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},st=[],it={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{picUploaded:function(t){this.data.content.data.bg.src=t},picDelete:function(){this.data.content.data.bg.src=""},bgChange:function(t){this.data.content.background=t}}},lt=it,ct=(a("8292"),Object(i["a"])(lt,rt,st,!1,null,"5a12355b",null)),dt=ct.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tem"},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Guide")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.title,callback:function(e){t.$set(t.data.content,"title",e)},expression:"data.content.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("角标")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",maxlength:40,placeholder:"限制40字符"},model:{value:t.data.content.corner_mark.content,callback:function(e){t.$set(t.data.content.corner_mark,"content",e)},expression:"data.content.corner_mark.content"}}),a("br"),a("ColorPicker",{staticStyle:{"margin-top":"10px"},model:{value:t.data.content.corner_mark.bg_color,callback:function(e){t.$set(t.data.content.corner_mark,"bg_color",e)},expression:"data.content.corner_mark.bg_color"}})],1)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("自定义角标")]),a("cornerMarkselect",{attrs:{slot:"value",cornerMark:t.data.content.corner_mark.id},on:{cornerMarkChange:t.cornerMarkChange},slot:"value"})],1),a("picuploader",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType},attrs:{src:t.data.content.data.bg.src,delable:!0,name:"背景图片（限分辨率1600x1200, 限大小800kb）"},on:{del:t.picDelete,picuploaded:t.picUploaded}}),a("pair",{class:{uneditable:"templateedit"===t.whereUse||"coursewareedit"===t.whereUse&&1===t.templateType}},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("Card")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.data.content.data.cards,function(e,n){return a("Card",{key:n,staticStyle:{width:"600px","margin-bottom":"10px"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("卡片"+(n+1)))]),a("Icon",{staticClass:"extra",attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delCard(n)}},slot:"extra"}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("标题")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"item.title"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("标题颜色")]),a("ColorPicker",{attrs:{slot:"value"},slot:"value",model:{value:e.color,callback:function(a){t.$set(e,"color",a)},expression:"item.color"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本内容")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticClass:"textareawidth",attrs:{type:"textarea",placeholder:"支持 markdown"},model:{value:e.content,callback:function(a){t.$set(e,"content",a)},expression:"item.content"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"30px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("\n                  *\n                  "),a("span",{staticStyle:{color:"red"}},[t._v("红色字体")]),t._v("*\n                ")]),a("p",[t._v("\n                  **\n                  "),a("span",{staticStyle:{"font-weight":"bold"}},[t._v("加粗字体")]),t._v("**\n                ")]),a("p",[t._v("\n                  #\n                  "),a("span",{staticStyle:{"font-size":"18px","font-weight":"bold"}},[t._v("一级标题")])]),a("p",[t._v("\n                  ##\n                  "),a("span",{staticStyle:{"font-size":"16px","font-weight":"bold"}},[t._v("二级标题")])]),a("p",[t._v("\n                  ###\n                  "),a("span",{staticStyle:{"font-size":"14px","font-weight":"bold"}},[t._v("三级标题")])])])],1)],1)])],1)}),a("i-button",{attrs:{type:"primary"},on:{click:t.addCard}},[t._v("添加卡片")])],2)]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("整体页面背景")]),a("bgselect",{attrs:{slot:"value",bg:t.data.content.background},on:{bgchange:t.bgChange},slot:"value"})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticClass:"textareawidth",attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.content.note,callback:function(e){t.$set(t.data.content,"note",e)},expression:"data.content.note"}})],1)],1)},pt=[],ht={props:{data:{default:function(){return{}}},whereUse:{default:"coursewareedit"},templateType:{default:0}},data:function(){return{}},methods:{bgChange:function(t){this.data.content.background=t},cornerMarkChange:function(t){this.data.content.corner_mark.id=t},picUploaded:function(t){this.data.content.data.bg.src=t},picDelete:function(){this.data.content.data.bg.src=""},addCard:function(){if(this.data.content.data.cards.length>=3)this.$Message.warning("最多添加三个卡片");else{var t={title:"",color:"",content:""};this.data.content.data.cards.push(t)}},delCard:function(t){this.data.content.data.cards.length<=1?this.$Message.warning("最少添加一个卡片"):this.data.content.data.cards.splice(t,1)}},created:function(){}},mt=ht,gt=(a("f914"),Object(i["a"])(mt,ut,pt,!1,null,"e271ed78",null)),vt=gt.exports,_t={components:{FlashCard:c,FlashQuiz:g,FlipCard:y,LeaderBoard:T,RolePlay:R,SinglePicture:Q,SingleVideo:Y,ShowCard:q,PictureText:ot,TopicCover:dt,AbstractText:vt},data:function(){return{flashcardData:{tmpl:"FlashCard",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:"",src:""},ids:[]},note:""}},flashquizData:{tmpl:"FlashQuiz",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:"",src:""},ids:""},note:""}},flipcardData:{tmpl:"FlipCard",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{flip:"",show:"",shape:"",bg:{id:"",src:"",color:""},ids:[]},note:""}},leaderboardData:{tmpl:"LeaderBoard",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:"",src:""}},note:""}},roleplayData:{tmpl:"RolePlay",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:"",src:""},character:[],chats:[]},note:""}},singlepictureData:{tmpl:"SinglePicture",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:"",src:""},src:""},note:""}},singlevideoData:{tmpl:"SingleVideo",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{color:""},src:"",cover:"",captions:""}}},showcardData:{tmpl:"ShowCard",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{show_type:1,serial:"",random:"",perpage:3,pages:1,bg:{id:"",color:"",src:""},cards:[]},note:""}},picturetextData:{tmpl:"PictureText",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{border_color:"",bg:{color:"",src:""},audio:"",text_position:6,cards:[]},note:""}},topiccoverData:{tmpl:"TopicCover",name:"",content:{title:"",background:"",corner_mark:{id:0,content:"",bg_color:""},data:{bg:{id:"",color:"",src:""},title:"",subtitle:""},note:""}},abstracttextData:{tmpl:"AbstractText",name:"",content:{title:"",background:"",corner_mark:{id:"",content:"",bg_color:""},data:{bg:{id:"",color:"",src:""},cards:[{title:"Vocabulary",color:"#ffa71a",content:""},{title:"Sentences",color:"#1996ff",content:""}]},note:""}}}}};e["a"]=_t},"7a56":function(t,e,a){"use strict";var n=a("7726"),o=a("86cc"),r=a("9e1e"),s=a("2b4c")("species");t.exports=function(t){var e=n[t];r&&e&&!e[s]&&o.f(e,s,{configurable:!0,get:function(){return this}})}},"800c":function(t,e,a){"use strict";var n=a("10a4"),o=a.n(n);o.a},"823d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"教材列表"}}),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticStyle:{margin:"0 3px 10px 0"},attrs:{type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),a("page-content",[a("Table",{staticClass:"table",attrs:{size:"small",stripe:"",border:"",columns:t.columns,data:t.teachBookList},on:{"on-selection-change":t.selectchange}})],1)],1)},o=[],r=(a("ac6a"),a("a358")),s={data:function(){var t=this;return{radio1:0,teachBookList:[],teachBookListBak:[],columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"名称",key:"name",width:150},{title:"命名",key:"name_cn",width:150},{title:"课件合计",width:120,render:function(t,e){var a=e.row.hierarchy,n="";return a.forEach(function(t){n+=t.end-t.start+1+"/"}),n=n.substr(0,n.length-1),n}},{title:"最近更新",key:"updated_at",width:160},{title:"备注",key:"note",minWidth:160},{title:"操作",width:200,render:function(e,a){return 0===t.radio1?e("div",[e("router-link",{props:{to:"/teachbookedit/".concat(a.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1}),t.$makeBtn(e,"text","配置报告",t.tbreportset,a.row.id)]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectchange:function(){},getList:function(){var t=this;r["a"].get_teach_book_list({cb:function(e){0===e.code&&(t.teachBookListBak=e.data,t.radio1Change(t.radio1))}})},editteachbook:function(t){this.$router.push("/teachbookedit/".concat(t))},tbreportset:function(t){this.$router.push("/tbreportedit/".concat(t))},radio1Change:function(t){this.teachBookList=this.teachBookListBak.filter(function(e){return e.is_archive===t})},changeArchive:function(t){var e=this;r["a"].file_restore_textbook({params:t,cb:function(a){0===a.code&&(e.getList(),0===t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})}},created:function(){this.getList()}},i=s,l=a("2877"),c=Object(l["a"])(i,n,o,!1,null,null,null);e["default"]=c.exports},8292:function(t,e,a){"use strict";var n=a("f367"),o=a.n(n);o.a},8906:function(t,e,a){},"8a36":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACCklEQVRoge3ZPW+CQAAG4FeCH1B1cnBxsIN2qavayQ4y1NV/6c+oi+62TurgXqOUoImhOVpS0wPpyd1BCG9iTu8guScHd3DmHMdxkIIoaUAggyQwqYGoVE2CQuYh27ZhWRZOpxPq9TpyuZxvB2OHkE4eDgeYpvlbmqZbkrbLSfVO1zEej30xwiGkI14n9/v9d0k6/FOez2fqnKB8WhbWmw3um03qCKEQ+3jEZDJh6mxYFJ/RgOib/W2x4Iog0XSdqoNoyGOng1qtRtVHiVYq+Z4tFJJXVRjDIVeMHseIkBQKBW4YVVXdj1+kLIi8MEGjAZkrez6fR6VSoepZEnR/QBaErCWv0ynW6zXVxpKgGQsyIB5itVpRbazRNC3wDKEQngjEBeGNQBwQEQgSXSZEFAIyR0QkArIgvBCtVguKQneLvIOURK8jvBC9Xg9P/T6eBwMKQxB+L1ReIkN4Ih7abfd7o9GgMNceTxAVIgLh5S/m2mVFcvNOo0jEZbbbLebzOV5GI5SKRardy82Q2WyG9+WSqmdJGIIlN19aH7sdVRcXAlEghmGE3oBB4Y1AFAjZzSB7TKwYEQhEnbVYMaIQ4LGO/BcjEgFeK3sYRjQCPJ+1gjAyEOD99OthyuWy+7vb7UpBIMqCGBayYV2tVkOO4pfsz9CkJYMkLRkkackgSUsGSVoySNKSDgiAL7DU98DzhQUmAAAAAElFTkSuQmCC"},"8b97":function(t,e,a){var n=a("d3f4"),o=a("cb7c"),r=function(t,e){if(o(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=a("9b43")(Function.call,a("11e9").f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,a){return r(t,a),e?t.__proto__=a:n(t,a),t}}({},!1):void 0),check:r}},"94ff":function(t,e,a){},a40a:function(t,e,a){},a6a7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACXElEQVRoge3YsU8TURwH8G9rQ9Mq2kKMGAOUiUEGtg6IKyNsRlejo+5MLv4BoswkRBadXBwMLgIxxJQ0YSCBREWNgsUSrT3olePIXXoN6Y/ru/Z+73iQ+y7X/l7bvE9/fXfvGjFN08Q5SPQ8IBBCFEwIUS0hRLWEENUSQlRLCGk3X7QiZOxSA4XMfPuE0cVpjCw8x4F5SMb9JLBt/Oz3HCbX3tafX4t3Yvn2I8QiPN9lIB1pRFjZrpSQ/TDF1hnpkJMQTjgxUiHNEE64MNIgXhBOODBSIK0gnPjFsEPaQTixMPdyc6TuJawQPwgng5eukpqXCCHFqoZbi9N4X9ggY8fDgZi4PoQng2OkzgJ5vPoGX7Ui7udf4V1hnYyDEfFsaAIXIhEy5iVCyI5eto/WInyYf00wKiDgBbJVKdUfN2JUQUC01zo0TQzMP4XR8BJrf3TnxjDmfqyQ97QSLgREHfmjlwkCtc6ohIAI8lv/T2oc4UYIIYVKmdT8RgZCCNk+ttBVRkDYEZ2vIzIRCKojshEQQXYYOhIEAsKO7PvryHjPzUAQkL1GNvd2oRk6qctIU4jfNZL/+xN3cy9ROqiQMe64QvaMKjSjSuqqYlwhW4zXEAdTlvgzc4VwXkNQw7z4vETqXHGF+D1jNSYejeFBJkvqXIm5fY6B1v/NsCabSXahP5Gyj33JNAaSXcgk0uhNpBCVeBp2vR+x7kWyC1P4tf+vXrMm0hPvtCfVZ0/uSu2YQn8ybY+dVlwhDubj7iYux+L2n87dHRcDubi1k6aQsxTXxR5CTikhRKkAOAIYjy88i5INKgAAAABJRU5ErkJggg=="},b35b:function(t,e,a){},b39a:function(t,e,a){var n=a("d3f4");t.exports=function(t,e){if(!n(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},b69d:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"自定义课件背景"}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("新增")])],1),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticStyle:{"margin-bottom":"10px"},attrs:{size:"large",type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),a("page-content",[a("Table",{staticClass:"table",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}})],1),a("Modal",{attrs:{width:"600px",title:t.updatemodaltitle},on:{"on-ok":t.updateBackground},model:{value:t.addeditmodal,callback:function(e){t.addeditmodal=e},expression:"addeditmodal"}},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("背景名称")]),a("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.name,callback:function(e){t.$set(t.detailData,"name",e)},expression:"detailData.name"}})],1),a("picuploader",{attrs:{src:t.detailData.src},on:{picuploaded:t.mybg_uploaded}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.detailData.note,callback:function(e){t.$set(t.detailData,"note",e)},expression:"detailData.note"}})],1)],1),a("Modal",{attrs:{title:"预览背景",width:"1000"},model:{value:t.previewmodal,callback:function(e){t.previewmodal=e},expression:"previewmodal"}},[a("div",{staticClass:"previewpic"},[a("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.preview_url}})]),a("div",{attrs:{slot:"footer"},slot:"footer"})])],1)},o=[],r=(a("7f7f"),a("a358")),s={data:function(){var t=this;return{radio1:0,editId:"",updatemodaltitle:"",list:[],addeditmodal:!1,previewmodal:!1,table_loading:!1,preview_url:"",searchData:{page:1,is_archive:0},pageData:{total:0,perPage:1,currentPage:1},detailData:{name:"",src:"",note:""},columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"ID",key:"id",width:100,align:"center"},{title:"背景名称",key:"name",width:140,align:"center"},{title:"录入员",align:"center",width:140,render:function(e,a){return t.$isNone(a.row.operator)?e("span","-"):a.row.operator.name?e("span","".concat(a.row.operator.name_cn,"(").concat(a.row.operator.name,")")):e("span","".concat(a.row.operator.name_cn))}},{title:"录入时间",key:"created_at",width:160,align:"center"},{title:"备注",key:"note",minWidth:80,align:"center"},{title:"操作",width:180,fixed:"right",render:function(e,a){return 0===t.radio1?e("div",[t.$makeBtn(e,"text","编辑",t.showEditModal,a.row),t.$makeBtn(e,"text","预览",t.showPreviewModal,a.row.src),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectChange:function(){},getList:function(){var t=this;this.table_loading=!0,r["a"].get_background_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},showAddModal:function(){this.updatemodaltitle="新增背景",this.$resetObj(this.detailData),this.addeditmodal=!0},showEditModal:function(t){this.updatemodaltitle="编辑背景",this.detailData.name=t.name,this.detailData.src=t.src,this.detailData.note=t.note,this.editId=t.id,this.addeditmodal=!0},mybg_uploaded:function(t){this.detailData.src=t},updateBackground:function(){var t=this;"新增背景"===this.updatemodaltitle?r["a"].add_background({params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("添加成功！"))}}):r["a"].update_background({id:this.editId,params:this.detailData,cb:function(e){0==e.code&&(t.getList(),t.$Message.success("修改成功！"))}})},radio1Change:function(t){this.searchData.is_archive=t,this.pageChange(1)},pageChange:function(t){this.searchData.page=t,this.getList()},changeArchive:function(t){var e=this;r["a"].file_restore_background({params:t,cb:function(a){0==a.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},showPreviewModal:function(t){this.preview_url=t,this.previewmodal=!0}},created:function(){this.getList()}},i=s,l=(a("14ed"),a("2877")),c=Object(l["a"])(i,n,o,!1,null,"006d576d",null);e["default"]=c.exports},ba41:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"编辑教材"}}),a("page-content",[a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("英文标题")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",placeholder:"请输入..."},slot:"value",model:{value:t.info.name,callback:function(e){t.$set(t.info,"name",e)},expression:"info.name"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("中文标题")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",placeholder:"请输入..."},slot:"value",model:{value:t.info.name_cn,callback:function(e){t.$set(t.info,"name_cn",e)},expression:"info.name_cn"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("简写")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",disabled:"",placeholder:"请输入..."},slot:"value",model:{value:t.info.short_name,callback:function(e){t.$set(t.info,"short_name",e)},expression:"info.short_name"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("简介")]),a("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",type:"textarea",rows:5,placeholder:"请输入..."},slot:"value",model:{value:t.info.introduction,callback:function(e){t.$set(t.info,"introduction",e)},expression:"info.introduction"}})],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("层级")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("div",{staticClass:"rank"},[a("div",{staticClass:"tableheader"},[a("p",{staticClass:"r",staticStyle:{"margin-left":"-20px"}},[t._v("级别")]),a("p",{staticClass:"r"},[t._v("英文名")]),a("p",{staticClass:"r"},[t._v("简写")]),a("p",{staticClass:"r"},[t._v("起始")]),a("p",{staticClass:"r"},[t._v("结束")]),a("div",{staticClass:"clear"})]),t._l(t.hierarchy,function(e){return a("div",{key:e.name,staticClass:"tablerow"},[a("p",{staticClass:"r level",staticStyle:{"margin-left":"-20px"}},[t._v(t._s(e.level))]),a("p",{staticClass:"r name"},[t._v(t._s(e.name))]),a("p",{staticClass:"r short_name"},[t._v(t._s(e.short_name))]),a("div",{staticClass:"r"},[a("Input",{staticStyle:{width:"60px"},attrs:{disabled:""},model:{value:e.start,callback:function(a){t.$set(e,"start",a)},expression:"item.start"}})],1),a("div",{staticClass:"r"},[a("Input",{staticStyle:{width:"60px"},attrs:{disabled:""},model:{value:e.end,callback:function(a){t.$set(e,"end",a)},expression:"item.end"}})],1),a("div",{staticClass:"clear"})])})],2),a("Tree",{attrs:{data:t.treedata,render:t.renderContent}})],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",type:"textarea",rows:5,placeholder:"请输入..."},slot:"value",model:{value:t.info.note,callback:function(e){t.$set(t.info,"note",e)},expression:"info.note"}})],1),a("i-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"large",disabled:t.savebtn},on:{click:t.save}},[t._v("提交")]),a("Modal",{attrs:{width:"600px",title:"选择课件"},on:{"on-ok":t.chooseTopicLesson},model:{value:t.topicLessonModal,callback:function(e){t.topicLessonModal=e},expression:"topicLessonModal"}},[t.topicLessonModal?a("coursewareselecttable",{attrs:{commentProgress:t.commentProgress},on:{selectchange:t.selectchange}}):t._e()],1)],1)],1)},o=[],r=(a("7f7f"),a("ac6a"),a("a358")),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"out"},[a("div",{staticClass:"searcharea"},[a("Input",{staticClass:"searcharea_item",staticStyle:{width:"100px"},attrs:{clearable:"",placeholder:"搜索ID"},model:{value:t.searchData.id,callback:function(e){t.$set(t.searchData,"id",e)},expression:"searchData.id"}}),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索中文标题"},model:{value:t.searchData.name_cn,callback:function(e){t.$set(t.searchData,"name_cn",e)},expression:"searchData.name_cn"}}),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索英文标题"},model:{value:t.searchData.name,callback:function(e){t.$set(t.searchData,"name",e)},expression:"searchData.name"}}),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索备注"},model:{value:t.searchData.note,callback:function(e){t.$set(t.searchData,"note",e)},expression:"searchData.note"}}),a("Select",{staticClass:"searcharea_item",staticStyle:{width:"60px"},attrs:{clearable:"",placeholder:"教材"},model:{value:t.searchData.text_book_id,callback:function(e){t.$set(t.searchData,"text_book_id",e)},expression:"searchData.text_book_id"}},t._l(t.textbookList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),a("Input",{staticClass:"searcharea_item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"搜索对应教材进度(1-1-1)"},model:{value:t.searchData.text_book_progress,callback:function(e){t.$set(t.searchData,"text_book_progress",e)},expression:"searchData.text_book_progress"}}),a("Button",{staticClass:"searcharea_item",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:t.toSearch}})],1),a("Table",{attrs:{height:"500",size:"small",loading:t.table_loading,"highlight-row":"",border:"",columns:t.topic_lesson_columns,data:t.list},on:{"on-current-change":t.selectchange}}),a("mypage",{staticStyle:{"margin-top":"15px"},attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}})],1)},i=[],l=(a("55dd"),a("28a5"),{props:{commentProgress:{default:""}},data:function(){var t=this;return{list:[],table_loading:!1,textbookList:[],searchData:{page:1,id:"",name:"",name_cn:"",note:"",text_book_id:"",text_book_progress:""},pageData:{total:0,perPage:1,currentPage:1},keyOptions:[{label:"TopicName",value:"name"},{label:"中文名",value:"name_cn"},{label:"对应教材",value:"text_book_progress"},{label:"ID",value:"id"},{label:"备注",value:"note"}],topic_lesson_columns:[{title:"ID",align:"center",key:"id",fixed:"left",width:80},{title:"TopicName",key:"name",width:120},{title:"中文名称",key:"name_cn",width:120},{title:"对应教材",width:120,render:function(e,a){return e("span",t.getLearnProgress(a.row.text_book))}},{title:"备注",key:"note",width:160}]}},methods:{getLearnProgress:function(t){if(this.$isNone(t))return"-";for(var e="",a=t.progress.split("-"),n=this.$deepCopy(t.hierarchy),o=n.sort(this.$compare("level")),r=0;r<o.length;++r)e+=o[r]["short_name"].substring(0,1).toUpperCase()+o[r]["short_name"].substring(1)+""+a[r];return"["+t.short_name+"] "+e},selectchange:function(t,e){this.$emit("selectchange",t)},getList:function(){var t=this;this.table_loading=!0,r["a"].get_courseware_simple_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},pageChange:function(t){this.searchData.page=t,this.getList()},toSearch:function(){this.searchData.page=1,this.pageData.currentPage=1,this.getList()}},created:function(){var t=this;this.searchData.text_book_id=parseInt(this.commentProgress.text_book_id),this.searchData.text_book_progress=this.commentProgress.progress,this.getList(),r["a"].get_simple_teach_book_list({cb:function(e){t.textbookList=e}})}}),c=l,d=(a("6ac1"),a("2877")),u=Object(d["a"])(c,s,i,!1,null,"ed66f9ae",null),p=u.exports,h={components:{coursewareselecttable:p},data:function(){return{data:"",treedata:[],htlPath:[],htlData:[],topicLessonSelected:{},savebtn:!1,topicLessonModal:!1,commentProgress:{},needOpenNodes:"",buttonProps:{type:"default",size:"small"},info:{name:"",name_cn:"",short_name:"",note:"",introduction:""},hierarchy:[{id:1,level:1,name:"level",short_name:"l",start:1,end:3},{id:2,level:2,name:"section",short_name:"s",start:1,end:""},{id:3,level:3,name:"part",short_name:"p",start:1,end:""}],hierarchy_topic_lesson:[]}},methods:{getTree:function(){for(var t=this,e=[],a=this.hierarchy[0].start,n=this.hierarchy[0].end,o=function(a){var n=!0;if(t.hierarchy_topic_lesson.forEach(function(t){a==t.hierarchy_number&&(e.push(t),n=!1)}),n){var o={};o.name=t.hierarchy[0].name,o.short_name=t.hierarchy[0].short_name,o.level=t.hierarchy[0].level,o.hierarchy_number=a,o.next_hierarchy=[],e.push(o)}},r=a;r<=n;r++)o(r);this.hierarchy_topic_lesson=e,this.treedata=this.getTreeRecursion(this.hierarchy_topic_lesson,[])},getTreeRecursion:function(t,e){var a=this;if(this.$isNone(t))return[];var n=[];return t.forEach(function(t,o){var r={};t.name==a.hierarchy[0].name?r.title=t.name+o:r.title=t.name+(o+1);var s=a.$deepCopy(e);s.push(o),r.path=a.$deepCopy(s),a.$inArray(r.path.join("-"),a.needOpenNodes)?r.expand=!0:r.expand=!1,t.name==a.hierarchy[0].name&&(r.render=a.firstrender),t.name==a.hierarchy[a.hierarchy.length-1].name&&(r.render=a.lastrender,r.topic_lesson_name="请选择课件",a.$isNone(t.topic_lesson)||(r.topic_lesson_name=t.topic_lesson.name)),r.children=a.getTreeRecursion(t.next_hierarchy,r.path),n.push(r)}),n},showTopicLessonModal:function(t){var e=[];this.hierarchy.forEach(function(a,n){0===n?e.push("".concat(a.short_name.toUpperCase()).concat(t.path[n])):e.push("".concat(a.short_name.toUpperCase()).concat(t.path[n]+1))}),this.commentProgress.text_book_id=this.$route.params.id;var a=this.$deepCopy(t.path);a.forEach(function(t,e){0!==e&&(a[e]=a[e]+1)}),this.commentProgress.progress=a.join("-"),this.htlPath=t.path,this.topicLessonModal=!0},selectchange:function(t){this.topicLessonSelected=t},chooseTopicLesson:function(){this.needOpenNodes=this.getNeedopenNodes(this.htlPath);var t=this.htlPath[this.htlPath.length-1];this.htlPath.splice(this.htlPath.length-1,1);var e=this.hierarchy_topic_lesson;this.htlPath.forEach(function(t){e=e[t].next_hierarchy});var a={id:this.topicLessonSelected.id,name:this.topicLessonSelected.name};e[t].topic_lesson=a,this.getTree()},append:function(t){var e=this;this.needOpenNodes=this.getNeedopenNodes(t.path);var a=this.hierarchy_topic_lesson,n=0;t.path.forEach(function(t){e.$isNone(a[t].next_hierarchy)&&(a[t].next_hierarchy=[]),n=a[t].level,a=a[t].next_hierarchy}),a.push({name:this.hierarchy[n].name,short_name:this.hierarchy[n].short_name,level:this.hierarchy[n].level,next_hierarchy:[]}),this.getTree()},remove:function(t){this.needOpenNodes=this.getNeedopenNodes(t.path);var e=t.path[t.path.length-1];t.path.splice(t.path.length-1,1);var a=this.hierarchy_topic_lesson;t.path.forEach(function(t){a=a[t].next_hierarchy}),a.splice(e,1),this.getTree()},gethtlRecursion:function(t,e){var a=this;this.$isNone(t)||t.forEach(function(t,n){var o=a.$deepCopy(e);if(t.name==a.hierarchy[0].name?o.push(n):o.push(n+1),!a.$isNone(t.topic_lesson)){var r={hierarchy_level:o.join("-"),topic_lesson_id:t.topic_lesson.id};a.htlData.push(r)}a.gethtlRecursion(t.next_hierarchy,o)})},getNeedopenNodes:function(t){for(var e=[],a="",n=0;n<t.length;n++)a+="-".concat(t[n]),e.push(a);return e.forEach(function(t,a){e[a]=t.substr(1)}),e},save:function(){var t=this;this.htlData=[],this.gethtlRecursion(this.hierarchy_topic_lesson,[]),this.info.hierarchy_topic_lesson=this.htlData,r["a"].update_teach_book(this.$route.params.id,this.info,function(e){0===e.code&&t.$Message.success("保存成功")})},firstrender:function(t,e){var a=this,n=(e.root,e.node,e.data);return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-folder-outline"},style:{marginRight:"8px"}}),t("span",n.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-add",type:"primary"}),style:{width:"52px"},on:{click:function(){a.append(n)}}})]),t("div",{style:{clear:"both"}})])},renderContent:function(t,e){var a=this,n=(e.root,e.node,e.data);return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",n.title)]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-add"}),style:{marginRight:"8px"},on:{click:function(){a.append(n)}}}),t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-remove"}),on:{click:function(){a.remove(n)}}})]),t("div",{style:{clear:"both"}})])},lastrender:function(t,e){var a=this,n=(e.root,e.node,e.data);return t("span",{style:{display:"inline-block",width:"100%"}},[t("span",[t("Icon",{props:{type:"ios-paper-outline"},style:{marginRight:"8px"}}),t("span",n.title),t("span","-----".concat(n.topic_lesson_name))]),t("span",{style:{display:"inline-block",float:"right",marginRight:"32px"}},[t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-copy-outline"}),style:{marginRight:"8px"},on:{click:function(){a.showTopicLessonModal(n)}}}),t("Button",{props:Object.assign({},this.buttonProps,{icon:"ios-remove"}),on:{click:function(){a.remove(n)}}})]),t("div",{style:{clear:"both"}})])}},created:function(){var t=this;r["a"].get_teach_book_detail(this.$route.params.id,function(e){0==e.code&&(t.info.name=e.data.name,t.info.name_cn=e.data.name_cn,t.info.short_name=e.data.short_name,t.info.note=e.data.note,t.info.introduction=e.data.introduction,t.hierarchy=e.data.hierarchy,t.hierarchy_topic_lesson=e.data.hierarchy_topic_lesson),t.getTree()})}},m=h,g=(a("bcca"),Object(d["a"])(m,n,o,!1,null,"59df4494",null));e["default"]=g.exports},ba80:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"自定义模板"}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.addTemplate}},[t._v("新增")])],1),a("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[a("RadioGroup",{staticClass:"btn_margin",attrs:{size:"large",type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[a("Radio",{attrs:{label:0}},[t._v("未归档")]),a("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),a("page-content",[a("Table",{staticClass:"table",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}})],1)],1)},o=[],r=(a("7f7f"),a("a358")),s={data:function(){var t=this;return{list:[],radio1:0,table_loading:!1,searchData:{page:1,perpage:"",is_archive:0},pageData:{total:0,perPage:1,currentPage:1},columns:[{type:"selection",width:60,align:"center",fixed:"left"},{title:"ID",key:"id",width:80,align:"center"},{title:"模板名称",key:"name",width:140,align:"center"},{title:"题型",key:"tmpl",width:140,align:"center"},{title:"录入员",width:140,align:"center",render:function(e,a){return t.$isNone(a.row.operator)?e("span","-"):a.row.operator.name?e("span","".concat(a.row.operator.name_cn,"(").concat(a.row.operator.name,")")):e("span","".concat(a.row.operator.name_cn))}},{title:"录入时间",key:"created_at",width:160,align:"center"},{title:"备注",align:"center",minWidth:160,render:function(t,e){return e.row.content?t("span",e.row.content.note):t("span","-")}},{title:"操作",width:150,fixed:"right",render:function(e,a){return 0===t.radio1?e("div",[e("router-link",{props:{to:"/templateedit/".concat(a.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[a.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[a.row.id],is_archive:0})])}}]}},methods:{selectChange:function(){},pageChange:function(t){this.searchData.page=t,this.getList()},radio1Change:function(t){this.searchData.is_archive=t,this.pageChange(1)},getList:function(){var t=this;this.table_loading=!0,r["a"].get_mytemplate_list({params:this.searchData,cb:function(e){0==e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},changeArchive:function(t){var e=this;r["a"].file_restore_mytemplate({params:t,cb:function(a){0==a.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},addTemplate:function(){this.$router.push("/templateedit/new")}},created:function(){this.getList()}},i=s,l=a("2877"),c=Object(l["a"])(i,n,o,!1,null,null,null);e["default"]=c.exports},bbc7:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACVUlEQVRoge3Zz0vbYBgH8G+aNrXtnFpXfzEt7jCc7CArImPoUUQvXnZSBt5F/wLZYSB49DoPu21X50kGO+xYdlVQPNh2hypi648tXZ0z8pYFxDdJl+Z5k1DyvaR9kpT3w9s3T5pKmqZpaIKEmgGBAOLDNA0kzFV8lL+ahtOrXziuXuLiuoqXHWmEJMlwgJ5DjqqXyKtl/KicoVBh2/N/27Pavps7F9XelofIji8ZYoRD2EDYoHKVMg7VEgpqGTm1hDyrqSVUb665c8xS/H2BreNdzPY8544QCin9UTH6bd3WYOtFNlnWxlWibOSypAiW7pZWriYcsvjkFUba+ri6k6SUhOHZQiEJWcGnzDwppifqwYywtIajZJi4HEFMjnB1uNUQqTDdJrMBNzt7XFaQjnVwdTsxWx9wC8I69PLOJj4f7XL77MTsigU3IDpis7jD7bObR17NCCUCXq0RagS8WCMiEHB7RkQhWFJRl2ZEJIKlS3nA1fSQQagQc49fICzxw5IlCZ2i1wgVYvXZNNaGZ/B+5DWHSSoJwx9UehxDKBFv+jO115OppxzG7GZRjyOICISe+xirZsjS8JNGkYi7+XpygLf7X7A1toBkJM7t19MwZGVvGx8K37m6ndRD2EnDX639nydczSsEnEA+ZuYsO61VqBFwAmGLMDuxZBsjAgGnVy27GFEIUPSR/8WIRICqs9fDiEaA8l7LDOMGAtR3vzpmINZee/9uaMoVBJw0RKuwD2QPqAfjSYujaBP8Geq3BBC/JYD4LQHEbwkgfksA8VuaAwLgFsuo/6M42bCKAAAAAElFTkSuQmCC"},bcca:function(t,e,a){"use strict";var n=a("6dd2"),o=a.n(n);o.a},c26b:function(t,e,a){"use strict";var n=a("86cc").f,o=a("2aeb"),r=a("dcbc"),s=a("9b43"),i=a("f605"),l=a("4a59"),c=a("01f9"),d=a("d53b"),u=a("7a56"),p=a("9e1e"),h=a("67ab").fastKey,m=a("b39a"),g=p?"_s":"size",v=function(t,e){var a,n=h(e);if("F"!==n)return t._i[n];for(a=t._f;a;a=a.n)if(a.k==e)return a};t.exports={getConstructor:function(t,e,a,c){var d=t(function(t,n){i(t,d,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[g]=0,void 0!=n&&l(n,a,t[c],t)});return r(d.prototype,{clear:function(){for(var t=m(this,e),a=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete a[n.i];t._f=t._l=void 0,t[g]=0},delete:function(t){var a=m(this,e),n=v(a,t);if(n){var o=n.n,r=n.p;delete a._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),a._f==n&&(a._f=o),a._l==n&&(a._l=r),a[g]--}return!!n},forEach:function(t){m(this,e);var a,n=s(t,arguments.length>1?arguments[1]:void 0,3);while(a=a?a.n:this._f){n(a.v,a.k,this);while(a&&a.r)a=a.p}},has:function(t){return!!v(m(this,e),t)}}),p&&n(d.prototype,"size",{get:function(){return m(this,e)[g]}}),d},def:function(t,e,a){var n,o,r=v(t,e);return r?r.v=a:(t._l=r={i:o=h(e,!0),k:e,v:a,p:n=t._l,n:void 0,r:!1},t._f||(t._f=r),n&&(n.n=r),t[g]++,"F"!==o&&(t._i[o]=r)),t},getEntry:v,setStrong:function(t,e,a){c(t,e,function(t,a){this._t=m(t,e),this._k=a,this._l=void 0},function(){var t=this,e=t._k,a=t._l;while(a&&a.r)a=a.p;return t._t&&(t._l=a=a?a.n:t._t._f)?d(0,"keys"==e?a.k:"values"==e?a.v:[a.k,a.v]):(t._t=void 0,d(1))},a?"entries":"values",!a,!0),u(e)}}},c7dc:function(t,e,a){},cb56:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"教材报告配置"}}),a("page-content",[a("Collapse",{staticClass:"cards",attrs:{accordion:""}},t._l(t.tbReportData,function(e,n){return a("Panel",{key:n,attrs:{name:e.name+" "+e.hierarchy_number}},[t._v("\n        "+t._s(e.name+" "+e.hierarchy_number)+"\n        "),a("div",{attrs:{slot:"content"},slot:"content"},[2===t.levelNum?a("Table",{attrs:{columns:t.columns,data:e.next_hierarchy}}):a("Collapse",t._l(e.next_hierarchy,function(e,n){return a("Panel",{key:n,attrs:{name:e.name+" "+e.hierarchy_number}},[t._v("\n              "+t._s(e.name+" "+e.hierarchy_number)+"\n              "),a("div",{attrs:{slot:"content"},slot:"content"},[a("Table",{attrs:{columns:t.columns,data:e.next_hierarchy}})],1)])}),1)],1)])}),1),a("i-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"large"},on:{click:t.save}},[t._v("提交")])],1)],1)},o=[],r=(a("4f7f"),a("5df3"),a("1c4c"),a("ac6a"),a("20d6"),a("6762"),a("2fdb"),a("7f7f"),a("a358")),s={data:function(){var t=this;return{tbReportData:[],openData:[],levelNum:0,saveData:{hierarchy_topic_lesson:[]},columns:[{title:"目录",render:function(t,e){return t("span","".concat(e.row.name," ").concat(e.row.hierarchy_number))}},{title:"课程名",render:function(t,e){return t("a",{attrs:{href:"".concat(window.localStorage.getItem("preview_courseware_base_url"),"view/").concat(e.row.topic_lesson.id,"?utm_source=pr&auth_token=").concat(window.localStorage.getItem("access_token")),target:"_blank"},style:{color:"#1bb982"}},e.row.topic_lesson.name?e.row.topic_lesson.name:"-")}},{title:"试听报告",render:function(e,a){return e("Checkbox",{props:{value:a.row.report.includes(1),size:"large"},on:{"on-change":function(e){t.chooseChange(e,a.row,1)}}},"试听报告")}},{title:"周报告",render:function(e,a){return e("Checkbox",{props:{value:a.row.report.includes(2),size:"large"},on:{"on-change":function(e){t.chooseChange(e,a.row,2)}}},"周报告")}},{title:"月报告",render:function(e,a){return e("Checkbox",{props:{value:a.row.report.includes(3),size:"large"},on:{"on-change":function(e){t.chooseChange(e,a.row,3)}}},"月报告")}},{title:"KET报告",render:function(e,a){return e("Checkbox",{props:{value:a.row.report.includes(4),size:"large"},on:{"on-change":function(e){t.chooseChange(e,a.row,4)}}},"KET报告")}}]}},computed:{textBookId:function(){return this.$route.params.id?this.$route.params.id:""}},methods:{chooseChange:function(t,e,a){var n=e.report;t?n.push(a):n.splice(n.findIndex(function(t){return t===a}),1);var o=this.$deepCopy(e.path),r=o[o.length-1];o.splice(o.length-1,1);var s=this.tbReportData;o.forEach(function(t){s=s[t].next_hierarchy}),s[r].report=Array.from(new Set(n))},getShowData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.$isNone(t)?[]:(t.forEach(function(t,o){var r=e.$deepCopy(a),s=e.$deepCopy(n);r.push(o),s.push(t.hierarchy_number),t.path=r,t.progress=s.join("-"),e.getShowData(t.next_hierarchy,r,s)}),t)},getSaveData:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.$isNone(t)||t.forEach(function(t){var n=e.$deepCopy(a);if(n.push(t.hierarchy_number),!e.$isNone(t.topic_lesson)&&!e.$isNone(t.report)){var o={hierarchy_level:n.join("-"),report:t.report};e.saveData.hierarchy_topic_lesson.push(o)}e.getSaveData(t.next_hierarchy,n)})},save:function(){var t=this;this.saveData.hierarchy_topic_lesson=[],this.getSaveData(this.tbReportData),r["a"].update_teach_book_Report_Set(this.$route.params.id,this.saveData,function(e){0==e.code&&t.$Message.success("保存成功")})}},created:function(){var t=this;r["a"].get_teach_book_Report_Set(this.$route.params.id,function(e){0===e.code&&(t.tbReportData=t.getShowData(e.data.hierarchy_topic_lesson),t.levelNum=e.data.hierarchy.length)})}},i=s,l=(a("273c"),a("2877")),c=Object(l["a"])(i,n,o,!1,null,"5133a4cf",null);e["default"]=c.exports},cbde:function(t,e,a){},cd1c:function(t,e,a){var n=a("e853");t.exports=function(t,e){return new(n(t))(e)}},ceb5:function(t,e,a){},d044:function(t,e,a){var n;(function(e,a){t.exports=a()})(0,function(){function t(t){this.mode=a.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,n=this.data.length;e<n;e++){var o=[],r=this.data.charCodeAt(e);r>65536?(o[0]=240|(1835008&r)>>>18,o[1]=128|(258048&r)>>>12,o[2]=128|(4032&r)>>>6,o[3]=128|63&r):r>2048?(o[0]=224|(61440&r)>>>12,o[1]=128|(4032&r)>>>6,o[2]=128|63&r):r>128?(o[0]=192|(1984&r)>>>6,o[1]=128|63&r):o[0]=r,this.parsedData.push(o)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function e(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}t.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,a=this.parsedData.length;e<a;e++)t.put(this.parsedData[e],8)}},e.prototype={addData:function(e){var a=new t(e);this.dataList.push(a),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,a){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++)this.modules[n][o]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,a),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=e.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,a)},setupPositionProbePattern:function(t,e){for(var a=-1;a<=7;a++)if(!(t+a<=-1||this.moduleCount<=t+a))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(this.modules[t+a][e+n]=0<=a&&a<=6&&(0==n||6==n)||0<=n&&n<=6&&(0==a||6==a)||2<=a&&a<=4&&2<=n&&n<=4)},getBestMaskPattern:function(){for(var t=0,e=0,a=0;a<8;a++){this.makeImpl(!0,a);var n=s.getLostPoint(this);(0==a||t>n)&&(t=n,e=a)}return e},createMovieClip:function(t,e,a){var n=t.createEmptyMovieClip(e,a),o=1;this.make();for(var r=0;r<this.modules.length;r++)for(var s=r*o,i=0;i<this.modules[r].length;i++){var l=i*o,c=this.modules[r][i];c&&(n.beginFill(0,100),n.moveTo(l,s),n.lineTo(l+o,s),n.lineTo(l+o,s+o),n.lineTo(l,s+o),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var a=0;a<t.length;a++){var n=t[e],o=t[a];if(null==this.modules[n][o])for(var r=-2;r<=2;r++)for(var i=-2;i<=2;i++)this.modules[n+r][o+i]=-2==r||2==r||-2==i||2==i||0==r&&0==i}},setupTypeNumber:function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),a=0;a<18;a++){var n=!t&&1==(e>>a&1);this.modules[Math.floor(a/3)][a%3+this.moduleCount-8-3]=n}for(a=0;a<18;a++){n=!t&&1==(e>>a&1);this.modules[a%3+this.moduleCount-8-3][Math.floor(a/3)]=n}},setupTypeInfo:function(t,e){for(var a=this.errorCorrectLevel<<3|e,n=s.getBCHTypeInfo(a),o=0;o<15;o++){var r=!t&&1==(n>>o&1);o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(o=0;o<15;o++){r=!t&&1==(n>>o&1);o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var a=-1,n=this.moduleCount-1,o=7,r=0,i=this.moduleCount-1;i>0;i-=2){6==i&&i--;while(1){for(var l=0;l<2;l++)if(null==this.modules[n][i-l]){var c=!1;r<t.length&&(c=1==(t[r]>>>o&1));var d=s.getMask(e,n,i-l);d&&(c=!c),this.modules[n][i-l]=c,o--,-1==o&&(r++,o=7)}if(n+=a,n<0||this.moduleCount<=n){n-=a,a=-a;break}}}}},e.PAD0=236,e.PAD1=17,e.createData=function(t,a,n){for(var o=d.getRSBlocks(t,a),r=new u,i=0;i<n.length;i++){var l=n[i];r.put(l.mode,4),r.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(r)}var c=0;for(i=0;i<o.length;i++)c+=o[i].dataCount;if(r.getLengthInBits()>8*c)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+8*c+")");r.getLengthInBits()+4<=8*c&&r.put(0,4);while(r.getLengthInBits()%8!=0)r.putBit(!1);while(1){if(r.getLengthInBits()>=8*c)break;if(r.put(e.PAD0,8),r.getLengthInBits()>=8*c)break;r.put(e.PAD1,8)}return e.createBytes(r,o)},e.createBytes=function(t,e){for(var a=0,n=0,o=0,r=new Array(e.length),i=new Array(e.length),l=0;l<e.length;l++){var d=e[l].dataCount,u=e[l].totalCount-d;n=Math.max(n,d),o=Math.max(o,u),r[l]=new Array(d);for(var p=0;p<r[l].length;p++)r[l][p]=255&t.buffer[p+a];a+=d;var h=s.getErrorCorrectPolynomial(u),m=new c(r[l],h.getLength()-1),g=m.mod(h);i[l]=new Array(h.getLength()-1);for(p=0;p<i[l].length;p++){var v=p+g.getLength()-i[l].length;i[l][p]=v>=0?g.get(v):0}}var _=0;for(p=0;p<e.length;p++)_+=e[p].totalCount;var f=new Array(_),b=0;for(p=0;p<n;p++)for(l=0;l<e.length;l++)p<r[l].length&&(f[b++]=r[l][p]);for(p=0;p<o;p++)for(l=0;l<e.length;l++)p<i[l].length&&(f[b++]=i[l][p]);return f};for(var a={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},o={L:1,M:0,Q:3,H:2},r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},s={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){var e=t<<10;while(s.getBCHDigit(e)-s.getBCHDigit(s.G15)>=0)e^=s.G15<<s.getBCHDigit(e)-s.getBCHDigit(s.G15);return(t<<10|e)^s.G15_MASK},getBCHTypeNumber:function(t){var e=t<<12;while(s.getBCHDigit(e)-s.getBCHDigit(s.G18)>=0)e^=s.G18<<s.getBCHDigit(e)-s.getBCHDigit(s.G18);return t<<12|e},getBCHDigit:function(t){var e=0;while(0!=t)e++,t>>>=1;return e},getPatternPosition:function(t){return s.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,a){switch(t){case r.PATTERN000:return(e+a)%2==0;case r.PATTERN001:return e%2==0;case r.PATTERN010:return a%3==0;case r.PATTERN011:return(e+a)%3==0;case r.PATTERN100:return(Math.floor(e/2)+Math.floor(a/3))%2==0;case r.PATTERN101:return e*a%2+e*a%3==0;case r.PATTERN110:return(e*a%2+e*a%3)%2==0;case r.PATTERN111:return(e*a%3+(e+a)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new c([1],0),a=0;a<t;a++)e=e.multiply(new c([1,i.gexp(a)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:return 8;case a.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),a=0,n=0;n<e;n++)for(var o=0;o<e;o++){for(var r=0,s=t.isDark(n,o),i=-1;i<=1;i++)if(!(n+i<0||e<=n+i))for(var l=-1;l<=1;l++)o+l<0||e<=o+l||0==i&&0==l||s==t.isDark(n+i,o+l)&&r++;r>5&&(a+=3+r-5)}for(n=0;n<e-1;n++)for(o=0;o<e-1;o++){var c=0;t.isDark(n,o)&&c++,t.isDark(n+1,o)&&c++,t.isDark(n,o+1)&&c++,t.isDark(n+1,o+1)&&c++,0!=c&&4!=c||(a+=3)}for(n=0;n<e;n++)for(o=0;o<e-6;o++)t.isDark(n,o)&&!t.isDark(n,o+1)&&t.isDark(n,o+2)&&t.isDark(n,o+3)&&t.isDark(n,o+4)&&!t.isDark(n,o+5)&&t.isDark(n,o+6)&&(a+=40);for(o=0;o<e;o++)for(n=0;n<e-6;n++)t.isDark(n,o)&&!t.isDark(n+1,o)&&t.isDark(n+2,o)&&t.isDark(n+3,o)&&t.isDark(n+4,o)&&!t.isDark(n+5,o)&&t.isDark(n+6,o)&&(a+=40);var d=0;for(o=0;o<e;o++)for(n=0;n<e;n++)t.isDark(n,o)&&d++;var u=Math.abs(100*d/e/e-50)/5;return a+=10*u,a}},i={glog:function(t){if(t<1)throw new Error("glog("+t+")");return i.LOG_TABLE[t]},gexp:function(t){while(t<0)t+=255;while(t>=256)t-=255;return i.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},l=0;l<8;l++)i.EXP_TABLE[l]=1<<l;for(l=8;l<256;l++)i.EXP_TABLE[l]=i.EXP_TABLE[l-4]^i.EXP_TABLE[l-5]^i.EXP_TABLE[l-6]^i.EXP_TABLE[l-8];for(l=0;l<255;l++)i.LOG_TABLE[i.EXP_TABLE[l]]=l;function c(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);var a=0;while(a<t.length&&0==t[a])a++;this.num=new Array(t.length-a+e);for(var n=0;n<t.length-a;n++)this.num[n]=t[n+a]}function d(t,e){this.totalCount=t,this.dataCount=e}function u(){this.buffer=[],this.length=0}c.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),a=0;a<this.getLength();a++)for(var n=0;n<t.getLength();n++)e[a+n]^=i.gexp(i.glog(this.get(a))+i.glog(t.get(n)));return new c(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=i.glog(this.get(0))-i.glog(t.get(0)),a=new Array(this.getLength()),n=0;n<this.getLength();n++)a[n]=this.get(n);for(n=0;n<t.getLength();n++)a[n]^=i.gexp(i.glog(t.get(n))+e);return new c(a,0).mod(t)}},d.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],d.getRSBlocks=function(t,e){var a=d.getRsBlockTable(t,e);if(void 0==a)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=a.length/3,o=[],r=0;r<n;r++)for(var s=a[3*r+0],i=a[3*r+1],l=a[3*r+2],c=0;c<s;c++)o.push(new d(i,l));return o},d.getRsBlockTable=function(t,e){switch(e){case o.L:return d.RS_BLOCK_TABLE[4*(t-1)+0];case o.M:return d.RS_BLOCK_TABLE[4*(t-1)+1];case o.Q:return d.RS_BLOCK_TABLE[4*(t-1)+2];case o.H:return d.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},u.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var a=0;a<e;a++)this.putBit(1==(t>>>e-a-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var p=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function h(){return"undefined"!=typeof CanvasRenderingContext2D}function m(){var t=!1,e=navigator.userAgent;if(/android/i.test(e)){t=!0;var a=e.toString().match(/android ([0-9]\.[0-9])/i);a&&a[1]&&(t=parseFloat(a[1]))}return t}var g=function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){var e=this._htOption,a=this._el,n=t.getModuleCount();Math.floor(e.width/n),Math.floor(e.height/n);function o(t,e){var a=document.createElementNS("http://www.w3.org/2000/svg",t);for(var n in e)e.hasOwnProperty(n)&&a.setAttribute(n,e[n]);return a}this.clear();var r=o("svg",{viewBox:"0 0 "+String(n)+" "+String(n),width:"100%",height:"100%",fill:e.colorLight});r.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),a.appendChild(r),r.appendChild(o("rect",{fill:e.colorLight,width:"100%",height:"100%"})),r.appendChild(o("rect",{fill:e.colorDark,width:"1",height:"1",id:"template"}));for(var s=0;s<n;s++)for(var i=0;i<n;i++)if(t.isDark(s,i)){var l=o("use",{x:String(i),y:String(s)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),r.appendChild(l)}},t.prototype.clear=function(){while(this._el.hasChildNodes())this._el.removeChild(this._el.lastChild)},t}(),v="svg"===document.documentElement.tagName.toLowerCase(),_=v?g:h()?function(){function t(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var e=1/window.devicePixelRatio,a=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(t,n,o,r,s,i,l,c,d){if("nodeName"in t&&/img/i.test(t.nodeName))for(var u=arguments.length-1;u>=1;u--)arguments[u]=arguments[u]*e;else"undefined"==typeof c&&(arguments[1]*=e,arguments[2]*=e,arguments[3]*=e,arguments[4]*=e);a.apply(this,arguments)}}function n(t,e){var a=this;if(a._fFail=e,a._fSuccess=t,null===a._bSupportDataURI){var n=document.createElement("img"),o=function(){a._bSupportDataURI=!1,a._fFail&&a._fFail.call(a)},r=function(){a._bSupportDataURI=!0,a._fSuccess&&a._fSuccess.call(a)};return n.onabort=o,n.onerror=o,n.onload=r,void(n.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===a._bSupportDataURI&&a._fSuccess?a._fSuccess.call(a):!1===a._bSupportDataURI&&a._fFail&&a._fFail.call(a)}var o=function(t,e){this._bIsPainted=!1,this._android=m(),this._htOption=e,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=e.width,this._elCanvas.height=e.height,t.appendChild(this._elCanvas),this._el=t,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return o.prototype.draw=function(t){var e=this._elImage,a=this._oContext,n=this._htOption,o=t.getModuleCount(),r=n.width/o,s=n.height/o,i=Math.round(r),l=Math.round(s);e.style.display="none",this.clear();for(var c=0;c<o;c++)for(var d=0;d<o;d++){var u=t.isDark(c,d),p=d*r,h=c*s;a.strokeStyle=u?n.colorDark:n.colorLight,a.lineWidth=1,a.fillStyle=u?n.colorDark:n.colorLight,a.fillRect(p,h,r,s),a.strokeRect(Math.floor(p)+.5,Math.floor(h)+.5,i,l),a.strokeRect(Math.ceil(p)-.5,Math.ceil(h)-.5,i,l)}this._bIsPainted=!0},o.prototype.makeImage=function(){this._bIsPainted&&n.call(this,t)},o.prototype.isPainted=function(){return this._bIsPainted},o.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},o.prototype.round=function(t){return t?Math.floor(1e3*t)/1e3:t},o}():function(){var t=function(t,e){this._el=t,this._htOption=e};return t.prototype.draw=function(t){for(var e=this._htOption,a=this._el,n=t.getModuleCount(),o=Math.floor(e.width/n),r=Math.floor(e.height/n),s=['<table style="border:0;border-collapse:collapse;">'],i=0;i<n;i++){s.push("<tr>");for(var l=0;l<n;l++)s.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+o+"px;height:"+r+"px;background-color:"+(t.isDark(i,l)?e.colorDark:e.colorLight)+';"></td>');s.push("</tr>")}s.push("</table>"),a.innerHTML=s.join("");var c=a.childNodes[0],d=(e.width-c.offsetWidth)/2,u=(e.height-c.offsetHeight)/2;d>0&&u>0&&(c.style.margin=u+"px "+d+"px")},t.prototype.clear=function(){this._el.innerHTML=""},t}();function f(t,e){for(var a=1,n=b(t),r=0,s=p.length;r<=s;r++){var i=0;switch(e){case o.L:i=p[r][0];break;case o.M:i=p[r][1];break;case o.Q:i=p[r][2];break;case o.H:i=p[r][3];break}if(n<=i)break;a++}if(a>p.length)throw new Error("Too long data");return a}function b(t){var e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t?3:0)}return n=function(t,e){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:o.H},"string"===typeof e&&(e={text:e}),e)for(var a in e)this._htOption[a]=e[a];"string"==typeof t&&(t=document.getElementById(t)),this._htOption.useSVG&&(_=g),this._android=m(),this._el=t,this._oQRCode=null,this._oDrawing=new _(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},n.prototype.makeCode=function(t){this._oQRCode=new e(f(t,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(t),this._oQRCode.make(),this._el.title=t,this._oDrawing.draw(this._oQRCode),this.makeImage()},n.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},n.prototype.clear=function(){this._oDrawing.clear()},n.CorrectLevel=o,n})},d30a:function(t,e,a){},d743:function(t,e,a){},dcbc:function(t,e,a){var n=a("2aba");t.exports=function(t,e,a){for(var o in e)n(t,o,e[o],a);return t}},e0b8:function(t,e,a){"use strict";var n=a("7726"),o=a("5ca1"),r=a("2aba"),s=a("dcbc"),i=a("67ab"),l=a("4a59"),c=a("f605"),d=a("d3f4"),u=a("79e5"),p=a("5cc5"),h=a("7f20"),m=a("5dbc");t.exports=function(t,e,a,g,v,_){var f=n[t],b=f,w=v?"set":"add",k=b&&b.prototype,y={},x=function(t){var e=k[t];r(k,t,"delete"==t?function(t){return!(_&&!d(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(_&&!d(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return _&&!d(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,a){return e.call(this,0===t?0:t,a),this})};if("function"==typeof b&&(_||k.forEach&&!u(function(){(new b).entries().next()}))){var C=new b,D=C[w](_?{}:-0,1)!=C,A=u(function(){C.has(1)}),S=p(function(t){new b(t)}),T=!_&&u(function(){var t=new b,e=5;while(e--)t[w](e,e);return!t.has(-0)});S||(b=e(function(e,a){c(e,b,t);var n=m(new f,e,b);return void 0!=a&&l(a,v,n[w],n),n}),b.prototype=k,k.constructor=b),(A||T)&&(x("delete"),x("has"),v&&x("get")),(T||D)&&x(w),_&&k.clear&&delete k.clear}else b=g.getConstructor(e,t,v,w),s(b.prototype,a),i.NEED=!0;return h(b,t),y[t]=b,o(o.G+o.W+o.F*(b!=f),y),_||g.setStrong(b,t,v),b}},e495:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACSklEQVRoge2YX0hTURzHv7veNVFcwYT8AwUrqBj4p8K9hOKLvQRBkFARhAuDHoIgIhBEfdOghwifxJdQ8A8D0ageMoQo6ME2LCtnYrgKnYri/DPdduNcTMofM+9lbOeM83m53PP9Xc4+/A6Hc2bRNE1DBqBkggSkCIdIEd6QIrwhRXhDivCGaZHu4ChODbfhlr+fZOlANTrnWmwLDZ+fo++nX39/FQqQGu5FAqvzegcmwqGdsY14lNSlg32LeH+N4cH4M70jPPJfkUg8isYvL9EVHCUZT+wpMr22iHp/P8ZXZkkmjMiLua+4+3EAK9EIyXYzs75ExsygWCwotNn1p1HIVTemaWgNDKN9+m1SfpxRqhxOdJ25Zvi7fzoSioRxe8yLd4vfSWGqGFmYMjXTjsiH5R/w+HoxFwmTIhHQRdjWeu/TIDbjMSElGOrjqTdom3xNAtFQHn0bEV6CobjsBWRQRJTOslqU2AvFFzlsy4O34gYuFrhIKBL6fSRbUfGk5BLuH68WW4TBDgV3nOfQUVaLnCwrKUwVqsXcXY8cURjskFjn60FwfZl8sBurkqV3NFlcLipFy8nzyRFhzG+uot7Xh/dLMyT7G8+RCjSbmDjZJOxj/oFc9Jy9jivF5STjkYQi2F42D10X0HSixtTROpXsKfKHm0fdeHr6KvJUG8mEEsH2PWHI7YEzx0EyHjC01x3LdWDQXYdKh5Nk6cbwpn3Qmq0vM7bc2J5ffqiY1KSDhNuvaMj/fnlDivCGFOENKcIbUoQ3MkMEwG/36Zzv7IoFPQAAAABJRU5ErkJggg=="},e853:function(t,e,a){var n=a("d3f4"),o=a("1169"),r=a("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),n(e)&&(e=e[r],null===e&&(e=void 0))),void 0===e?Array:e}},ef89:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"out"},[a("h1",{staticClass:"top"},[t._v(t._s(t.$route.meta.cname))]),a("main-box",[a("Tabs",{on:{"tab-click":t.changeTab},model:{value:t.activeTab,callback:function(e){t.activeTab=e},expression:"activeTab"}},t._l(t.teachbookData,function(e,n){return a("TabPane",{key:e.id,attrs:{label:e.name+"["+e.short_name+"]",name:""+(n+1)}},[a("div",{staticClass:"intro"},[t._v(t._s(e.introduction))]),a("div",{staticClass:"eg"},[a("Tag",{attrs:{size:"mini",type:"green"}},[t._v("P")]),a("span",[t._v("新版预习")]),a("div",{staticStyle:{height:"5px"}}),a("Tag",{attrs:{size:"mini",type:"orange"}},[t._v("P")]),a("span",[t._v("老版预习/复习")]),a("div",{staticStyle:{height:"5px"}}),a("Tag",{attrs:{size:"mini",type:"blue"}},[t._v("B")]),a("span",[t._v("纸质作业/视频")])],1),a("div",{staticClass:"clear"}),3===e.hierarchy.length?[a("Collapse",{attrs:{accordion:"",simple:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(e.hierarchy_topic_lesson,function(n,o){return a("Panel",{key:n.hierarchy_number,attrs:{name:""+(o+1)}},[t._v("\n              "+t._s(""+n.name+n.hierarchy_number)+"\n              "),a("div",{attrs:{slot:"content"},slot:"content"},t._l(n.next_hierarchy,function(o){return a("div",{key:o.hierarchy_number,staticClass:"unit"},[a("div",{staticStyle:{width:"5%",color:"#B0B0B0",float:"left"}},[t._v(t._s(o.name+" "+o.hierarchy_number))]),a("div",{staticStyle:{width:"90%",float:"left","margin-left":"30px"}},t._l(o.next_hierarchy,function(r){return a("div",{staticStyle:{width:"135px",height:"30px",float:"left",margin:"0 0 5px 5px",cursor:"pointer"},on:{click:function(a){return t.showPrvModal(r,e.short_name,n.hierarchy_number+"-"+o.hierarchy_number+"-"+r.hierarchy_number)}}},[a("div",{staticStyle:{color:"#1bb982",display:"inline-block",width:"65px"}},[t._v(t._s(r.name+" "+r.hierarchy_number))]),1===r.is_content&&1===r.topic_lesson.preview_type?a("Tag",{attrs:{size:"mini",type:"orange"}},[t._v("P")]):t._e(),1===r.is_content&&2===r.topic_lesson.preview_type?a("Tag",{attrs:{size:"mini",type:"green"}},[t._v("P")]):t._e(),r.topic_lesson.homework>0||r.topic_lesson.video>0?a("Tag",{attrs:{size:"mini",type:"blue"}},[t._v("B")]):t._e()],1)}),0),a("div",{staticClass:"clear"})])}),0)])}),1)]:t._e(),2===e.hierarchy.length?[a("Collapse",{attrs:{accordion:"",simple:""},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(e.hierarchy_topic_lesson,function(n,o){return a("Panel",{key:n.hierarchy_number,attrs:{name:""+(o+1)}},[t._v("\n              "+t._s(""+n.name+n.hierarchy_number)+"\n              "),a("div",{attrs:{slot:"content"},slot:"content"},[t._l(n.next_hierarchy,function(o,r){return a("div",{key:r,staticStyle:{width:"135px",height:"30px",float:"left",margin:"0 0 5px 5px",cursor:"pointer"},on:{click:function(a){return t.showPrvModal(o,e.short_name,n.hierarchy_number+"-"+o.hierarchy_number)}}},[a("div",{staticStyle:{color:"#1bb982",display:"inline-block",width:"65px"}},[t._v(t._s(o.name+" "+o.hierarchy_number))]),1===o.is_content&&1===o.topic_lesson.preview_type?a("Tag",{attrs:{size:"mini",type:"orange"}},[t._v("P")]):t._e(),1===o.is_content&&2===o.topic_lesson.preview_type?a("Tag",{attrs:{size:"mini",type:"green"}},[t._v("P")]):t._e(),o.topic_lesson.homework>0||o.topic_lesson.video>0?a("Tag",{attrs:{size:"mini",type:"blue"}},[t._v("B")]):t._e()],1)}),a("div",{staticClass:"clear"})],2)])}),1)]:t._e()],2)}),1)],1),a("Modal",{attrs:{title:t.prvTitle},model:{value:t.prvModal,callback:function(e){t.prvModal=e},expression:"prvModal"}},[t.showCode?a("div",{staticStyle:{display:"flex","justify-content":"space-around",width:"450px",height:"150px",margin:"0 auto"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{width:"100px",height:"100px","margin-bottom":"10px"},attrs:{id:"preview_code"}}),a("a",{staticStyle:{"font-size":"14px",color:"#1bb982"},attrs:{href:t.preview_url,target:"_blank"}},[t._v("预习")])]),t.showReviewCode?a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{width:"100px",height:"100px","margin-bottom":"10px"},attrs:{id:"review_code"}}),a("a",{staticStyle:{"font-size":"14px",color:"#1bb982"},attrs:{href:t.review_url,target:"_blank"}},[t._v("复习")])]):t._e()]):t._e(),a("a",{staticStyle:{display:"block",width:"350px",margin:"0 auto","font-size":"14px",color:"#1bb982",background:"#eee","text-align":"center","border-radius":"3px"},attrs:{href:t.preview_courseware_url,target:"_blank"}},[t._v("课件预览")])])],1)},o=[],r=(a("7f7f"),a("a358")),s=a("d044"),i=a.n(s),l={data:function(){return{activeTab:"1",activeName:"1",prvModal:!1,showCode:!1,showReviewCode:!1,prvTitle:"",teachbookData:[],preview_url:"",preview_url_new:"",review_url:"",preview_courseware_url:""}},methods:{getTextBookData:function(){var t=this;r["a"].get_text_book_data({cb:function(e){0===e.code&&(t.teachbookData=e.data)}})},changeTab:function(){this.activeName="1"},showPrvModal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.topic_lesson;this.prvModal=!0,this.prvTitle="预览 ("+n.id+" - "+n.name+")";var o="";o=4===n.status?"view/":"preview/",1!==t.is_content||1!==n.preview_type&&2!==n.preview_type||(this.showCode=!0,this.$nextTick(function(){document.getElementById("preview_code").innerHTML="",this.preview_url="".concat(window.localStorage.getItem("member_center_url")).concat(e,"/").concat(a),new i.a("preview_code",{width:100,height:100,text:this.preview_url})})),1===t.is_content&&1===n.preview_type?(this.showCode=!0,this.showReviewCode=!0,this.$nextTick(function(){document.getElementById("review_code").innerHTML="",this.review_url="".concat(window.localStorage.getItem("preview_review_base_url"),"?topics_lesson_id=").concat(n.id,"&token=").concat(window.localStorage.getItem("access_token"),"#/"),new i.a("review_code",{width:100,height:100,text:this.review_url})})):1===t.is_content&&2===n.preview_type?(this.showCode=!0,this.showReviewCode=!1):this.showCode=!1,this.preview_courseware_url="".concat(window.localStorage.getItem("preview_courseware_base_url")).concat(o).concat(n.id,"?utm_source=pr&auth_token=").concat(window.localStorage.getItem("access_token"))}},created:function(){this.getTextBookData()}},c=l,d=(a("21c7"),a("2877")),u=Object(d["a"])(c,n,o,!1,null,"2a5262a6",null);e["default"]=u.exports},f1ae:function(t,e,a){"use strict";var n=a("86cc"),o=a("4630");t.exports=function(t,e,a){e in t?n.f(t,e,o(0,a)):t[e]=a}},f367:function(t,e,a){},f4b1:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACEElEQVRoge2Y30siURTHv44i4oOC1svsk4gP+SC0kEFBa0uupP3Nzmxsar9sE58ke3BD3DZES1BEcblDG1unyRwqz5X7eVDmnKvOZ+Z459zrmkwmEywA2iJIQIkwRIlwQ4lwQ4lwQ4lww+P0fGq1Go5PTvBJ15FKpUj+o5lZZDQaoVQq4aJet45/XV2RMexFut0uDNNEp9N5iI3HYzJuHrxapH55iWKxaN0RjkwVEVf88OjI+k9w5kWR27s7mKaJdrtNctywFWk0GvhxcIDhcEhyT+n1eiTmBJfLBb/fb73PClnqisPTchnVanUu11zXdXxLp0l8Go/uSL/fx/f9fbRarSkfez+azaaj734Q+XNzg3w+b8nIiCUiptZCocDmmeAET6VSQfnsTL4zf4L28/ycBGVEC4VCiyHydXsb4XCYJGRDEw+g7O4uIpGI3CLixe1248vWFj6vrpIBsvBohZhIJCBKzeOx7VzeHc1Be4LnWhSBaBLzhvGqHkrTtDcVj0ajWE8mSXwaz4oIBoMBDMPA7+trkvuf+MoKkg5++K2x3Xzw+XzIZDKIxWIkxxFbEdyXzebGBpJra45a64/kRZF/xONxpHd24PV6SU4qEdyvE3LZLAKBAMlxYKYNumAwiL1czpKSWkQgykuUmSg3MecvLS+TMfPAdvqVDbWJzQ0lwg0lwg0lwg0lwo3FEAHwF+dqnKYDedYNAAAAAElFTkSuQmCC"},f605:function(t,e){t.exports=function(t,e,a,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(a+": incorrect invocation!");return t}},f842:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAACQ0lEQVRogWP8////f4ZhAJiGgycYRj0yCMGoRwYbGPXIYAOjHhlsYNQjgw0MCo+kX1zDoLmvi2HZk3MYcsSCQeGRva9vM3z+85Oh7NpWhsIrmxi+/f2NoYYQGBQe+fHvD5y9+tlFBp+Tcxluf32DoQ4fGJR55NaX1wzeJ+YwrHt+GUMOFxi0mR2UvPIub2Aov7aV4SdSjOECg77UWvrkHIPvyXkMD769w5BDBmT1EP/9/8/w/OcnME0NYHl4MkFTeFnYGfp1/Bk8xNQx5BjI9Uj02aUMB9/ewxCnB8hSsGIoV3ViYGZkRLGNrKQ1UJ4AgWkPjjFEnF3M8PrnFxTxIVmzH3/3kMH9xGyG8x+fwsWGbBPl1c8vDMGnF8KLaBYMFUMI/Pr3F1xEP/n+cXg0GvvuHhweHtHmkxj6HtHjk2SYZxA2tPOIv4Q2Q6+OHwMHE8vQ9UiZiiNDrpINA6xaJMsjLIxMDH/+/8MQpwfgYmZlmKQbiNFUIcsjcbIm4H4DtQCoP/L731+Cpslw8jPMMwhn0OIVx5AbFNMK9Td2Msx9dApDHBmYCcgyzDIIZRBh48aQYxgqFWKktCFDm6YnAysTM4YcDAxqjzAxMjLUqbkypMibY8ihg0HrEVD/Y4Z+CIO9sBKGHDYwKD2ixCXMMN8wnEGZWxhDDhcYdB6xE1ZimK4XzMDPyoEhhw8MCo8YCkgzsDxmYkiQM2WoVXPF6P0RA0ZndQcbGPXIYAOjHhlsYNQjgw2MemSwgVGPDCrAwMAAAMAUoEXMRLr3AAAAAElFTkSuQmCC"},f914:function(t,e,a){"use strict";var n=a("4b22"),o=a.n(n);o.a},fe00:function(t,e,a){}}]);