(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["questions"],{"00a7":function(t,e,i){},1725:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"得分配置"}}),i("page-content",[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目类型得分配置")]),i("table",{staticClass:"settable",attrs:{slot:"value"},slot:"value"},[i("tr",[i("th",{attrs:{width:"180px"}},[t._v("题目类型")]),i("th",[t._v("听音-选图")]),i("th",[t._v("看图-选词")]),i("th",[t._v("看图选词-读答案")]),i("th",[t._v("看图听音-选音")]),i("td",[t._v("标准填空")]),i("th",[t._v("看图听音-复述")]),i("th",[t._v("看图看字听音-跟读")])]),i("tr",[i("td",[t._v("\n            难度系数\n            "),i("br"),t._v("（单位：百分比）\n          ")]),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.listening_select_pic.coefficient,callback:function(e){t.$set(t.set.subject_type.listening_select_pic,"coefficient",e)},expression:"set.subject_type.listening_select_pic.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_select_word.coefficient,callback:function(e){t.$set(t.set.subject_type.pic_select_word,"coefficient",e)},expression:"set.subject_type.pic_select_word.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_select_word_read.coefficient,callback:function(e){t.$set(t.set.subject_type.pic_select_word_read,"coefficient",e)},expression:"set.subject_type.pic_select_word_read.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_listening_select_voice.coefficient,callback:function(e){t.$set(t.set.subject_type.pic_listening_select_voice,"coefficient",e)},expression:"set.subject_type.pic_listening_select_voice.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.fill_word.coefficient,callback:function(e){t.$set(t.set.subject_type.fill_word,"coefficient",e)},expression:"set.subject_type.fill_word.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_listening_retelling.coefficient,callback:function(e){t.$set(t.set.subject_type.pic_listening_retelling,"coefficient",e)},expression:"set.subject_type.pic_listening_retelling.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_word_listening_read.coefficient,callback:function(e){t.$set(t.set.subject_type.pic_word_listening_read,"coefficient",e)},expression:"set.subject_type.pic_word_listening_read.coefficient"}}),t._v("%\n          ")],1)]),i("tr",[i("td",[t._v("\n            得分偏移值\n            "),i("br"),t._v("（单位：分）\n          ")]),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.listening_select_pic.deviant,callback:function(e){t.$set(t.set.subject_type.listening_select_pic,"deviant",e)},expression:"set.subject_type.listening_select_pic.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_select_word.deviant,callback:function(e){t.$set(t.set.subject_type.pic_select_word,"deviant",e)},expression:"set.subject_type.pic_select_word.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_select_word_read.deviant,callback:function(e){t.$set(t.set.subject_type.pic_select_word_read,"deviant",e)},expression:"set.subject_type.pic_select_word_read.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_listening_select_voice.deviant,callback:function(e){t.$set(t.set.subject_type.pic_listening_select_voice,"deviant",e)},expression:"set.subject_type.pic_listening_select_voice.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.fill_word.deviant,callback:function(e){t.$set(t.set.subject_type.fill_word,"deviant",e)},expression:"set.subject_type.fill_word.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_listening_retelling.deviant,callback:function(e){t.$set(t.set.subject_type.pic_listening_retelling,"deviant",e)},expression:"set.subject_type.pic_listening_retelling.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.subject_type.pic_word_listening_read.deviant,callback:function(e){t.$set(t.set.subject_type.pic_word_listening_read,"deviant",e)},expression:"set.subject_type.pic_word_listening_read.deviant"}})],1)])])]),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("等级得分配置")]),i("table",{staticClass:"settable",attrs:{slot:"value"},slot:"value"},[i("tr",[i("th",{attrs:{width:"180px"}},[t._v("等级")]),i("th",[t._v("L0")]),i("th",[t._v("L1")]),i("th",[t._v("L2")]),i("th",[t._v("L3")]),i("th",[t._v("L4")]),i("th",[t._v("L5")]),i("th",[t._v("L6")])]),i("tr",[i("td",[t._v("\n            难度系数\n            "),i("br"),t._v("（单位：百分比）\n          ")]),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l0.coefficient,callback:function(e){t.$set(t.set.level.l0,"coefficient",e)},expression:"set.level.l0.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l1.coefficient,callback:function(e){t.$set(t.set.level.l1,"coefficient",e)},expression:"set.level.l1.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l2.coefficient,callback:function(e){t.$set(t.set.level.l2,"coefficient",e)},expression:"set.level.l2.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l3.coefficient,callback:function(e){t.$set(t.set.level.l3,"coefficient",e)},expression:"set.level.l3.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l4.coefficient,callback:function(e){t.$set(t.set.level.l4,"coefficient",e)},expression:"set.level.l4.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l5.coefficient,callback:function(e){t.$set(t.set.level.l5,"coefficient",e)},expression:"set.level.l5.coefficient"}}),t._v("%\n          ")],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l6.coefficient,callback:function(e){t.$set(t.set.level.l6,"coefficient",e)},expression:"set.level.l6.coefficient"}}),t._v("%\n          ")],1)]),i("tr",[i("td",[t._v("\n            得分偏移值\n            "),i("br"),t._v("（单位：分）\n          ")]),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l0.deviant,callback:function(e){t.$set(t.set.level.l0,"deviant",e)},expression:"set.level.l0.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l1.deviant,callback:function(e){t.$set(t.set.level.l1,"deviant",e)},expression:"set.level.l1.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l2.deviant,callback:function(e){t.$set(t.set.level.l2,"deviant",e)},expression:"set.level.l2.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l3.deviant,callback:function(e){t.$set(t.set.level.l3,"deviant",e)},expression:"set.level.l3.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l4.deviant,callback:function(e){t.$set(t.set.level.l4,"deviant",e)},expression:"set.level.l4.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l5.deviant,callback:function(e){t.$set(t.set.level.l5,"deviant",e)},expression:"set.level.l5.deviant"}})],1),i("td",[i("Input",{staticClass:"inside_input",model:{value:t.set.level.l6.deviant,callback:function(e){t.$set(t.set.level.l6,"deviant",e)},expression:"set.level.l6.deviant"}})],1)])])]),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("基础分")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.set.base_scores,callback:function(e){t.$set(t.set,"base_scores",e)},expression:"set.base_scores"}})],1),i("i-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"large"},on:{click:t.save}},[t._v("提交")])],1)],1)},s=[],n=(i("7f7f"),i("a358")),o={data:function(){return{set:{subject_type:{listening_select_pic:{type:"listening_select_pic",coefficient:0,deviant:1},pic_select_word:{type:"pic_select_word",coefficient:0,deviant:1},pic_select_word_read:{type:"pic_select_word_read",coefficient:0,deviant:1},pic_listening_select_voice:{type:"pic_listening_select_voice",coefficient:0,deviant:1},fill_word:{type:"fill_word",coefficient:0,deviant:1},pic_listening_retelling:{type:"pic_listening_retelling",coefficient:0,deviant:1},pic_word_listening_read:{type:"pic_word_listening_read",coefficient:0,deviant:1}},level:{l0:{level:0,coefficient:0,deviant:1},l1:{level:1,coefficient:0,deviant:1},l2:{level:2,coefficient:0,deviant:1},l3:{level:3,coefficient:0,deviant:1},l4:{level:4,coefficient:0,deviant:1},l5:{level:5,coefficient:0,deviant:1},l6:{level:6,coefficient:0,deviant:1}},base_scores:5}}},methods:{get_new_score_set:function(){var t=this;n["a"].get_set(function(e){if(0==e.code){for(var i="",a=0;a<e.data.length;a++)"score"==e.data[a].name&&(i=e.data[a].config);if(i){var s,n;t.set={subject_type:{},level:{},base_scores:0};for(var o=JSON.parse(i),l=0;l<o.subject_type.length;l++)o.subject_type[l].coefficient=100*o.subject_type[l].coefficient,s=o.subject_type[l].type,t.set.subject_type[s]=o.subject_type[l];for(var c=0;c<o.level.length;c++)o.level[c].coefficient=100*o.level[c].coefficient,n="l"+o.level[c].level,t.set.level[n]=o.level[c];t.set.base_scores=o.base_scores}}})},save:function(){var t=this,e={subject_type:[],level:[]};e.subject_type.push(t.$deepCopy(t.set.subject_type.listening_select_pic)),e.subject_type.push(t.$deepCopy(t.set.subject_type.pic_select_word)),e.subject_type.push(t.$deepCopy(t.set.subject_type.pic_select_word_read)),e.subject_type.push(t.$deepCopy(t.set.subject_type.pic_listening_select_voice)),e.subject_type.push(t.$deepCopy(t.set.subject_type.fill_word)),e.subject_type.push(t.$deepCopy(t.set.subject_type.pic_listening_retelling)),e.subject_type.push(t.$deepCopy(t.set.subject_type.pic_word_listening_read)),e.level.push(t.$deepCopy(t.set.level.l0)),e.level.push(t.$deepCopy(t.set.level.l1)),e.level.push(t.$deepCopy(t.set.level.l2)),e.level.push(t.$deepCopy(t.set.level.l3)),e.level.push(t.$deepCopy(t.set.level.l4)),e.level.push(t.$deepCopy(t.set.level.l5)),e.level.push(t.$deepCopy(t.set.level.l6));for(var i=0;i<e.subject_type.length;i++)e.subject_type[i].coefficient=e.subject_type[i].coefficient/100;for(var a=0;a<e.level.length;a++)e.level[a].coefficient=e.level[a].coefficient/100;e.base_scores=t.set.base_scores;var s=[{name:"score",config:JSON.stringify(e)}];n["a"].update_set(s,function(e){0==e.code&&t.$Message.success("操作成功")})}},mounted:function(){this.get_new_score_set()}},l=o,c=(i("e369"),i("2877")),r=Object(c["a"])(l,a,s,!1,null,"34c6b40f",null);e["default"]=r.exports},"23f7":function(t,e,i){"use strict";var a=i("eb69"),s=i.n(a);s.a},"30ac":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"新增/编辑题目"}}),i("page-content",[i("div",{staticClass:"template"},[i("pair",[i("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("选择题目类型")]),i("RadioGroup",{attrs:{slot:"value",value:t.quesData.type},on:{"on-change":t.typeChanged},slot:"value"},[i("Radio",{attrs:{disabled:!t.isNew,label:4}},[t._v("文本选择题")]),i("Radio",{attrs:{disabled:!t.isNew,label:1}},[t._v("听音-选图")]),i("Radio",{attrs:{disabled:!t.isNew,label:2}},[t._v("看图-选词")]),i("Radio",{attrs:{disabled:!t.isNew,label:3}},[t._v("标准填空")])],1)],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("对应教材")]),i("div",{attrs:{slot:"value"},slot:"value"},[i("Select",{staticStyle:{width:"120px",float:"left"},attrs:{slot:"value",transfer:!0,clearable:""},on:{"on-change":t.bookChange},slot:"value",model:{value:t.quesData.text_book_id,callback:function(e){t.$set(t.quesData,"text_book_id",e)},expression:"quesData.text_book_id"}},t._l(t.bookOptions,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),i("Cascader",{staticStyle:{width:"220px",float:"left","margin-left":"8px"},attrs:{trigger:"hover",data:t.progressOptions},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1)]),1===t.quesData.type?i("ListenChoosePic",{attrs:{data:t.quesData}}):t._e(),2===t.quesData.type?i("PicChooseWord",{attrs:{data:t.quesData}}):t._e(),3===t.quesData.type?i("StandardFillIn",{attrs:{data:t.quesData}}):t._e(),4===t.quesData.type?i("TextChoose",{attrs:{data:t.quesData}}):t._e(),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),i("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",rows:3,type:"textarea"},slot:"value",model:{value:t.quesData.note,callback:function(e){t.$set(t.quesData,"note",e)},expression:"quesData.note"}})],1),i("i-button",{staticStyle:{margin:"10px 10px"},attrs:{type:"primary",size:"large",disabled:t.savebtn},on:{click:t.save}},[t._v("保存")])],1)])],1)},s=[],n=(i("28a5"),i("7f7f"),i("ac6a"),i("a358")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"out"},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目")]),i("Card",{attrs:{slot:"value"},slot:"value"},[i("audiouploader",{attrs:{src:t.data.question.src,name:"音频（限定mp3格式，限制大小300kb，非必须，若不上传则调用tts接口播放对应文本）",delable:!0},on:{del:t.audioDel,audiouploaded:t.audioUploaded}}),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("对应文本")]),i("Input",{staticStyle:{width:"400px"},attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.data.question.text,callback:function(e){t.$set(t.data.question,"text",e)},expression:"data.question.text"}})],1)],1)],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("选项")]),i("Card",{staticStyle:{width:"760px"},attrs:{slot:"value"},slot:"value"},[i("draggable",{attrs:{group:"option",animation:350},model:{value:t.data.option,callback:function(e){t.$set(t.data,"option",e)},expression:"data.option"}},t._l(t.data.option,function(e,a){return i("Card",{key:a,staticStyle:{float:"left",margin:"0 10px 10px 0"}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s("选项"+(a+1)))]),1===e.correct?i("Button",{attrs:{size:"small",type:"success"}},[t._v("正确答案")]):i("Button",{attrs:{size:"small"},on:{click:function(e){return t.setTrue(a)}}},[t._v("标记为正确答案")])],1),i("Icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delOption(a)}},slot:"extra"}),i("picuploader",{attrs:{src:e.src,size:t.picSize,name:"图片（限分辨率1000x1000, 限大小500kb）"},on:{picuploaded:function(e){t.picUploaded(e,a)}}})],1)}),1),i("Button",{attrs:{type:"success"},on:{click:t.addOption}},[t._v("添加选项 +")]),i("div",{staticClass:"clear"})],1)],1)],1)},l=[],c={props:{data:{default:""}},data:function(){return{picSize:{width:"120px",height:"120px"}}},methods:{audioDel:function(){this.data.question.src=""},audioUploaded:function(t){this.data.question.src=t},picUploaded:function(t,e){this.data.option[e].src=t},addOption:function(){var t={src:"",correct:0};this.data.option.push(t)},delOption:function(t){this.data.option.splice(t,1)},setTrue:function(t){this.data.option.forEach(function(t){t.correct=0}),this.data.option[t].correct=1}}},r=c,d=i("2877"),p=Object(d["a"])(r,o,l,!1,null,"6a2cdcb9",null),u=p.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"out"},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目")]),i("Card",{attrs:{slot:"value"},slot:"value"},[i("picuploader",{attrs:{src:t.data.question.src,size:t.picSize,delable:!0,name:"图片（限分辨率1000x1000, 限大小500kb）"},on:{del:t.picDel,picuploaded:t.picUploaded}})],1)],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("选项")]),i("Card",{staticStyle:{width:"700px"},attrs:{slot:"value"},slot:"value"},[i("draggable",{attrs:{group:"option",animation:350},model:{value:t.data.option,callback:function(e){t.$set(t.data,"option",e)},expression:"data.option"}},t._l(t.data.option,function(e,a){return i("Card",{key:a,staticStyle:{float:"left",margin:"0 10px 10px 0"}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s("选项"+(a+1)))]),1===e.correct?i("Button",{attrs:{size:"small",type:"success"}},[t._v("正确答案")]):i("Button",{attrs:{size:"small"},on:{click:function(e){return t.setTrue(a)}}},[t._v("标记为正确答案")])],1),i("Icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delOption(a)}},slot:"extra"}),i("Input",{attrs:{type:"textarea"},model:{value:e.text,callback:function(i){t.$set(e,"text",i)},expression:"item.text"}})],1)}),1),i("Button",{attrs:{type:"success"},on:{click:t.addOption}},[t._v("添加选项 +")]),i("div",{staticClass:"clear"})],1)],1)],1)},v=[],f={props:{data:{default:""}},data:function(){return{picSize:{width:"120px",height:"120px"}}},methods:{picDel:function(){this.data.question.src=""},picUploaded:function(t){this.data.question.src=t},addOption:function(){var t={text:"",correct:0};this.data.option.push(t)},delOption:function(t){this.data.option.splice(t,1)},setTrue:function(t){this.data.option.forEach(function(t){t.correct=0}),this.data.option[t].correct=1}}},h=f,g=Object(d["a"])(h,_,v,!1,null,"f1b8174e",null),m=g.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"out"},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目")]),i("Card",{staticStyle:{width:"700px"},attrs:{slot:"value"},slot:"value"},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("文本")]),i("div",{attrs:{slot:"value"},slot:"value"},[i("Input",{staticStyle:{width:"420px"},attrs:{type:"textarea"},model:{value:t.data.question.text,callback:function(e){t.$set(t.data.question,"text",e)},expression:"data.question.text"}}),i("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[i("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"38px 0 0 5px"},attrs:{type:"md-information-circle"}}),i("div",{attrs:{slot:"content"},slot:"content"},[i("p",[t._v("prin~ci~ple 代表划分音节")]),i("p",[t._v("princi<ple> 代表挖空ple")]),i("p",[t._v("\n                prin*ciple* 代表\n                "),i("span",{staticStyle:{color:"red"}},[t._v("ciple")]),t._v("标红\n              ")])])],1)],1)]),i("picuploader",{attrs:{src:t.data.question.src,size:t.picSize,delable:!0,name:"图片（限分辨率1000x1000, 限大小500kb）"},on:{del:t.picDel,picuploaded:t.picUploaded}})],1)],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("选项")]),i("Card",{staticStyle:{width:"700px"},attrs:{slot:"value"},slot:"value"},[i("draggable",{attrs:{group:"option",animation:350},model:{value:t.data.option,callback:function(e){t.$set(t.data,"option",e)},expression:"data.option"}},t._l(t.data.option,function(e,a){return i("Card",{key:a,staticStyle:{float:"left",margin:"0 10px 10px 0"}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s("干扰项"+(a+1)))]),i("Icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delDistractor(a)}},slot:"extra"}),i("Input",{model:{value:e.text,callback:function(i){t.$set(e,"text",i)},expression:"item.text"}}),i("br")],1)}),1),i("Button",{attrs:{type:"success"},on:{click:t.addDistractor}},[t._v("添加干扰项 +")]),i("div",{staticClass:"clear"})],1)],1)],1)},y=[],w={props:{data:{default:""}},data:function(){return{picSize:{width:"120px",height:"120px"}}},methods:{picDel:function(){this.data.question.src=""},picUploaded:function(t){this.data.question.src=t},addDistractor:function(){var t={text:""};this.data.option.push(t)},delDistractor:function(t){this.data.option.splice(t,1)}}},x=w,k=Object(d["a"])(x,b,y,!1,null,"72816e7e",null),$=k.exports,C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"out"},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("题目")]),i("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",rows:3,type:"textarea"},slot:"value",model:{value:t.data.question.text,callback:function(e){t.$set(t.data.question,"text",e)},expression:"data.question.text"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("选项")]),i("Card",{staticStyle:{width:"700px"},attrs:{slot:"value"},slot:"value"},[i("draggable",{attrs:{group:"option",animation:350},model:{value:t.data.option,callback:function(e){t.$set(t.data,"option",e)},expression:"data.option"}},t._l(t.data.option,function(e,a){return i("Card",{key:a,staticStyle:{float:"left",margin:"0 10px 10px 0"}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s("选项"+(a+1)))]),1===e.correct?i("Button",{attrs:{size:"small",type:"success"}},[t._v("正确答案")]):i("Button",{attrs:{size:"small"},on:{click:function(e){return t.setTrue(a)}}},[t._v("标记为正确答案")])],1),i("Icon",{staticStyle:{cursor:"pointer"},attrs:{slot:"extra",type:"md-close"},on:{click:function(e){return t.delOption(a)}},slot:"extra"}),i("Input",{attrs:{type:"textarea"},model:{value:e.text,callback:function(i){t.$set(e,"text",i)},expression:"item.text"}})],1)}),1),i("Button",{attrs:{type:"success"},on:{click:t.addOption}},[t._v("添加选项 +")]),i("div",{staticClass:"clear"})],1)],1)],1)},D=[],j={props:{data:{default:""}},data:function(){return{picSize:{width:"120px",height:"120px"}}},methods:{addOption:function(){var t={text:"",correct:0};this.data.option.push(t)},delOption:function(t){this.data.option.splice(t,1)},setTrue:function(t){this.data.option.forEach(function(t){t.correct=0}),this.data.option[t].correct=1}}},S=j,q=Object(d["a"])(S,C,D,!1,null,"76fb1623",null),I=q.exports,O={components:{ListenChoosePic:u,PicChooseWord:m,StandardFillIn:$,TextChoose:I},data:function(){return{listenchoosepicData:{type:1,text_book_id:"",text_book_progress:"",question:{src:"",text:""},option:[],note:""},picchoosewordData:{type:2,text_book_id:"",text_book_progress:"",question:{src:""},option:[],note:""},standardfillinData:{type:3,text_book_id:"",text_book_progress:"",question:{src:"",text:""},option:[],note:""},textChooseData:{type:4,text_book_id:"",text_book_progress:"",question:{text:""},option:[],note:""}}}},L=O,B={mixins:[L],data:function(){return{savebtn:!1,quesData:{type:"",text_book_id:"",text_book_progress:"",option:[],note:""},isNew:!1,textBookData:[],bookOptions:[],progress:[]}},computed:{progressOptions:function(){return this.$getTextBookOptions(this.quesData.text_book_id,this.textBookData)}},methods:{typeChanged:function(t){if(this.isNew)switch(t){case 1:this.quesData=this.listenchoosepicData;break;case 2:this.quesData=this.picchoosewordData;break;case 3:this.quesData=this.standardfillinData;break;case 4:this.quesData=this.textChooseData;break}},save:function(){var t=this;this.$isNone(this.progress)||!this.$isNone(this.quesData.text_book_id)?(this.quesData.option.forEach(function(e,i){e.weight=t.quesData.option.length-i}),this.quesData.text_book_progress=this.progress.join("-"),this.isNew?n["a"].add_question({params:this.quesData,cb:function(e){0===e.code&&(t.savebtn=!0,t.$Message.success("添加成功"))}}):n["a"].edit_question({id:this.$route.params.id,params:this.quesData,cb:function(e){0===e.code&&t.$Message.success("修改成功")}})):this.$Message.warning("请选择相应教材！")},bookChange:function(){this.progress=[]}},created:function(){var t=this;this.isNew="new"===this.$route.params.id,n["a"].get_text_book_data({cb:function(e){if(0==e.code){t.textBookData=e.data;var i=[];t.textBookData.forEach(function(t){var e={};e.id=t.id,e.name=t.name,i.push(e)}),t.bookOptions=i}}}),this.isNew?this.quesData=this.textChooseData:n["a"].get_question_detail({id:this.$route.params.id,cb:function(e){if(0===e.code){t.quesData=e.data;var i=t.quesData.text_book_progress.split("-");i.forEach(function(t,e){i[e]=parseInt(t)}),t.progress=i}}})}},E=B,z=(i("f3d4"),Object(d["a"])(E,a,s,!1,null,"c021a366",null));e["default"]=z.exports},"611b":function(t,e,i){"use strict";var a=i("00a7"),s=i.n(a);s.a},"8fe2":function(t,e,i){},a617:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"题目列表"}}),i("page-btns-bar",[i("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.addQuestion}},[t._v("新增")])],1),i("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[i("RadioGroup",{staticClass:"btn_margin",attrs:{type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[i("Radio",{attrs:{label:0}},[t._v("未归档")]),i("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])},[[i("Select",{staticClass:"searcharea_item",staticStyle:{width:"120px"},attrs:{clearable:"",placeholder:"搜索题型"},model:{value:t.searchData.type,callback:function(e){t.$set(t.searchData,"type",e)},expression:"searchData.type"}},t._l(t.quesTypeList,function(e,a){return i("Option",{key:e,attrs:{value:a+1}},[t._v(t._s(e))])}),1),i("Select",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索录入员"},model:{value:t.searchData.author_id,callback:function(e){t.$set(t.searchData,"author_id",e)},expression:"searchData.author_id"}},t._l(t.managerList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name_cn+"("+e.name+")"))])}),1),i("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索备注"},model:{value:t.searchData.note,callback:function(e){t.$set(t.searchData,"note",e)},expression:"searchData.note"}}),i("Select",{staticClass:"searcharea_item",staticStyle:{width:"60px"},attrs:{clearable:"",placeholder:"教材"},model:{value:t.searchData.text_book_id,callback:function(e){t.$set(t.searchData,"text_book_id",e)},expression:"searchData.text_book_id"}},t._l(t.textbookList,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),i("Input",{staticClass:"searcharea_item",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"搜索对应教材进度(1-1-1)"},model:{value:t.searchData.text_book_progress,callback:function(e){t.$set(t.searchData,"text_book_progress",e)},expression:"searchData.text_book_progress"}}),i("Button",{staticClass:"searcharea_item",attrs:{type:"primary",shape:"circle",icon:"ios-search"},on:{click:t.toSearch}})]],2),i("page-content",[i("Table",{attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectChange,"on-sort-change":t.sortChange}}),i("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}})],1)],1)},s=[],n=(i("456d"),i("ac6a"),i("7f7f"),i("6762"),i("2fdb"),i("a358")),o=i("be3c"),l={data:function(){var t=this;return{radio1:0,table_loading:!1,managerList:[],list:[],selected_ids:[],textbookList:[],pageData:{total:0,perPage:1,currentPage:1},searchData:{page:1,perPage:"",is_archive:0,type:"",text_book_id:"",text_book_progress:"",author_id:"",note:""},quesTypeList:o["f"],columns:[{title:"ID",key:"id",width:80,align:"center"},{title:"题型",key:"type",width:100,render:function(t,e){return t("span",o["f"][e.row.type-1])}},{title:"文本/缩略图",key:"type",width:180,render:function(t,e){return[1,3,4].includes(e.row.type)?t("span",e.row.subject.question.text):2===e.row.type?t("img",{style:{width:"100px",height:"60px","margin-top":"5px"},attrs:{src:e.row.subject.question.src}}):t("span","-")}},{title:"对应教材",key:"text_book_progress",width:120,align:"center",render:function(e,i){return e("span",t.$getLearnProgress(i.row.text_book))}},{title:"选项数",width:80,key:"options_count"},{title:"状态",width:80,key:"status",render:function(t,e){return 0===e.row.status?t("span","禁用"):1===e.row.status?t("span","启用"):void 0}},{title:"录入员",width:140,key:"author",render:function(e,i){return t.$isNone(i.row.author)?e("span","-"):i.row.author.name?e("span","".concat(i.row.author.name_cn,"(").concat(i.row.author.name,")")):e("span","".concat(i.row.author.name_cn))}},{title:"录入时间",width:160,key:"created_at"},{title:"备注",key:"note",minWidth:160,render:function(e,i){return e("div",{style:{cursor:"pointer"},on:{click:function(){t.editNote(i.row)}}},i.row.note?i.row.note:"-")}},{title:"操作",width:230,fixed:"right",render:function(e,i){return 0==i.row.is_archive?0==i.row.status?e("div",[e("router-link",{props:{to:"/questionedit/".concat(i.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","复制",t.copyQuestion,i.row.id),t.$makeBtn(e,"text","启用",t.changeStatus,{ids:[i.row.id],status:1}),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[i.row.id],is_archive:1})]):e("div",[e("router-link",{props:{to:"/questionedit/".concat(i.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","复制",t.copyQuestion,i.row.id),t.$makeBtn(e,"text","禁用",t.changeStatus,{ids:[i.row.id],status:0}),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[i.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[i.row.id],is_archive:0})])}}]}},methods:{getList:function(){var t=this;this.table_loading=!0,n["a"].get_question_list({params:this.searchData,cb:function(e){0===e.code&&(t.list=e.data.list,t.pageData.total=e.data.total,t.pageData.perPage=e.data.perPage,t.pageData.currentPage=e.data.currentPage,t.table_loading=!1)}})},toSearch:function(){this.searchData.page=1,this.pageData.currentPage=1,this.getList()},radio1Change:function(t){this.searchData.is_archive=t,this.toSearch()},addQuestion:function(){this.$router.push("/questionedit/new")},editQuestion:function(t){this.$router.push("/questionedit/"+t)},pageChange:function(t){this.searchData.page=t,this.getList()},sortChange:function(t){var e=this;Object.keys(this.searchData).forEach(function(t){t.includes("order_by")&&delete e.searchData[t]});var i="order_by_".concat(t.key),a=0;"asc"===t.order&&(a=1),"desc"===t.order&&(a=0),null!==t.order&&(this.searchData[i]=a),this.toSearch()},selectChange:function(t){var e=this;this.selected_ids=[],t.forEach(function(t){e.selected_ids.push(t.id)})},copyQuestion:function(t){var e=this;n["a"].copy_question({id:t,cb:function(t){0==t.code&&(e.getList(),e.$Message.success("复制成功！"))}})},changeArchive:function(t){var e=this;n["a"].update_question_archive({params:t,cb:function(i){0==i.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},changeStatus:function(t){var e=this;n["a"].update_question_status({params:t,cb:function(t){0==t.code&&(e.getList(),e.$Message.success("操作成功！"))}})},get_manager_list:function(){var t=this;n["a"].get_admin_simple_list({cb:function(e){0==e.code&&(t.managerList=e.data.list)}})},editNote:function(t){var e=this;this.$editNote({api:"subject/note/".concat(t.id),note:t.note,cb:function(){e.getList()}})},keyEnter:function(t){13==t.which&&this.toSearch()}},created:function(){var t=this;this.getList(),this.get_manager_list(),n["a"].get_simple_teach_book_list({cb:function(e){t.textbookList=e}})},mounted:function(){var t=this;document.addEventListener("keyup",t.keyEnter)},destroyed:function(){var t=this;document.removeEventListener("keyup",t.keyEnter)}},c=l,r=i("2877"),d=Object(r["a"])(c,a,s,!1,null,null,null);e["default"]=d.exports},a88b:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"角色语音列表"}}),i("page-btns-bar",[i("Button",{staticClass:"btn_margin",staticStyle:{float:"right"},attrs:{to:"/uiRoles",type:"primary"}},[t._v("角色管理")]),i("Button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.addUiVoice}},[t._v("新增")])],1),i("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[i("RadioGroup",{staticClass:"btn_margin",attrs:{type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[i("Radio",{attrs:{label:0}},[t._v("未归档")]),i("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),i("page-content",[i("Table",{attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list}})],1)],1)},s=[],n=(i("ac6a"),i("7f7f"),i("a358")),o={data:function(){var t=this;return{radio1:0,table_loading:!1,list:[],listbak:[],searchData:{page:1,perPage:"",is_archive:0},columns:[{title:"角色",width:100,render:function(t,e){return t("span",e.row.role.name)}},{title:"词汇相关语音",width:120,render:function(t,e){return e.row.vocabulary.count<e.row.vocabulary.total?t("span",{style:{color:"red"}},"".concat(e.row.vocabulary.count,"/").concat(e.row.vocabulary.total)):t("span","".concat(e.row.vocabulary.count,"/").concat(e.row.vocabulary.total))}},{title:"知识点相关语音",width:130,render:function(t,e){return e.row.knowledge.count<e.row.knowledge.total?t("span",{style:{color:"red"}},"".concat(e.row.knowledge.count,"/").concat(e.row.knowledge.total)):t("span","".concat(e.row.knowledge.count,"/").concat(e.row.knowledge.total))}},{title:"结尾语音",width:100,render:function(t,e){return e.row.ending.count<e.row.ending.total?t("span",{style:{color:"red"}},"".concat(e.row.ending.count,"/").concat(e.row.ending.total)):t("span","".concat(e.row.ending.count,"/").concat(e.row.ending.total))}},{title:"其他语音",width:100,render:function(t,e){return e.row.other.count<e.row.other.total?t("span",{style:{color:"red"}},"".concat(e.row.other.count,"/").concat(e.row.other.total)):t("span","".concat(e.row.other.count,"/").concat(e.row.other.total))}},{title:"编辑者",width:140,key:"author",render:function(e,i){return t.$isNone(i.row.operator)?e("span","-"):i.row.operator.name?e("span","".concat(i.row.operator.name_cn,"(").concat(i.row.operator.name,")")):e("span","".concat(i.row.operator.name_cn))}},{title:"修改时间",width:160,render:function(t,e){return t("span",e.row.updated_at?e.row.updated_at:e.row.created_at)}},{title:"备注",key:"note",minWidth:160,render:function(e,i){return e("div",{style:{cursor:"pointer"},on:{click:function(){t.editNote(i.row)}}},i.row.note?i.row.note:"-")}},{title:"操作",width:180,fixed:"right",render:function(e,i){return 0==i.row.is_archive?e("div",[e("router-link",{props:{to:"/uivoiceedit/".concat(i.row.id)},class:"editbtnclass"},"编辑"),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[i.row.id],is_archive:1}),t.$makeBtn(e,"text","复制",t.copyUiVoice,i.row.id)]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[i.row.id],is_archive:0})])}}]}},methods:{getList:function(){var t=this;this.table_loading=!0,n["a"].get_uivoice_list({params:this.searchData,cb:function(e){0===e.code&&(t.listbak=t.$deepCopy(e.data.list),t.list=[],t.listbak.forEach(function(e){e.is_archive===t.radio1&&t.list.push(e)}),t.table_loading=!1)}})},radio1Change:function(t){var e=this;this.list=[],this.listbak.forEach(function(i){i.is_archive===t&&e.list.push(i)})},changeArchive:function(t){var e=this;n["a"].update_uivoice_archive({params:t,cb:function(i){0===i.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},addUiVoice:function(){this.$router.push("/uivoiceedit/new")},editNote:function(t){var e=this;this.$editNote({api:"uiVoice/note/".concat(t.id),note:t.note,cb:function(){e.getList()}})},copyUiVoice:function(t){var e=this;n["a"].copy_uivoice({id:t,cb:function(t){0===t.code&&(e.getList(),e.$Message.success("复制成功！"))}})}},created:function(){this.getList()}},l=o,c=i("2877"),r=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=r.exports},acda:function(t,e,i){},b127:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"角色列表"}}),i("page-btns-bar",[i("Button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.showAddModal}},[t._v("新增")])],1),i("page-search-container",{scopedSlots:t._u([{key:"filters",fn:function(){return[i("RadioGroup",{staticClass:"btn_margin",attrs:{type:"button"},on:{"on-change":t.radio1Change},model:{value:t.radio1,callback:function(e){t.radio1=e},expression:"radio1"}},[i("Radio",{attrs:{label:0}},[t._v("未归档")]),i("Radio",{attrs:{label:1}},[t._v("已归档")])],1)]},proxy:!0}])}),i("page-content",[i("Table",{attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list}})],1),i("Modal",{attrs:{width:"600px",title:t.updatemodaltitle},model:{value:t.addeditmodal,callback:function(e){t.addeditmodal=e},expression:"addeditmodal"}},[i("pair",[i("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("角色名")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.detailData.name,callback:function(e){t.$set(t.detailData,"name",e)},expression:"detailData.name"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),i("Input",{attrs:{slot:"value",type:"textarea"},slot:"value",model:{value:t.detailData.note,callback:function(e){t.$set(t.detailData,"note",e)},expression:"detailData.note"}})],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("Button",{attrs:{type:"text",size:"large"},on:{click:function(e){t.addeditmodal=!1}}},[t._v("取消")]),i("Button",{attrs:{type:"primary",size:"large"},on:{click:t.updateUiRole}},[t._v("确定")])],1)],1)],1)},s=[],n=(i("ac6a"),i("7f7f"),i("a358")),o={data:function(){var t=this;return{radio1:0,table_loading:!1,list:[],listbak:[],updatemodaltitle:"",addeditmodal:!1,editId:"",detailData:{name:"",note:""},columns:[{title:"角色",width:100,key:"name"},{title:"编辑者",width:140,key:"author",render:function(e,i){return t.$isNone(i.row.operator)?e("span","-"):i.row.operator.name?e("span","".concat(i.row.operator.name_cn,"(").concat(i.row.operator.name,")")):e("span","".concat(i.row.operator.name_cn))}},{title:"修改时间",width:160,render:function(t,e){return t("span",e.row.updated_at?e.row.updated_at:e.row.created_at)}},{title:"备注",key:"note",minWidth:160,render:function(e,i){return e("div",{style:{cursor:"pointer"},on:{click:function(){t.editNote(i.row)}}},i.row.note?i.row.note:"-")}},{title:"操作",width:180,fixed:"right",render:function(e,i){return 0==i.row.is_archive?e("div",[t.$makeBtn(e,"text","编辑",t.showEditModal,i.row),t.$makeBtn(e,"text","归档",t.changeArchive,{ids:[i.row.id],is_archive:1})]):e("div",[t.$makeBtn(e,"text","还原",t.changeArchive,{ids:[i.row.id],is_archive:0})])}}]}},methods:{getList:function(){var t=this;this.table_loading=!0,n["a"].get_uirole_list({params:{},cb:function(e){0===e.code&&(t.listbak=e.data.list,t.list=[],t.listbak.forEach(function(e){e.is_archive===t.radio1&&t.list.push(e)}),t.table_loading=!1)}})},editNote:function(t){var e=this;this.$editNote({api:"uiVoiceRole/note/".concat(t.id),note:t.note,cb:function(){e.getList()}})},changeArchive:function(t){var e=this;n["a"].update_uirole_archive({params:t,cb:function(i){0===i.code&&(e.getList(),0==t.is_archive?e.$Message.success("还原成功！"):e.$Message.success("归档成功！"))}})},radio1Change:function(t){var e=this;this.list=[],this.listbak.forEach(function(i){i.is_archive===t&&e.list.push(i)})},showAddModal:function(){this.updatemodaltitle="新增语音角色",this.$resetObj(this.detailData),this.addeditmodal=!0},showEditModal:function(t){this.updatemodaltitle="编辑语音角色",this.detailData.name=t.name,this.detailData.note=t.note,this.editId=t.id,this.addeditmodal=!0},updateUiRole:function(){var t=this;this.detailData.name?"新增语音角色"===this.updatemodaltitle?n["a"].add_uirole({params:this.detailData,cb:function(e){0===e.code&&(t.getList(),t.$Message.success("添加成功！"),t.addeditmodal=!1)}}):n["a"].edit_uirole({id:this.editId,params:this.detailData,cb:function(e){0===e.code&&(t.getList(),t.$Message.success("修改成功！"),t.addeditmodal=!1)}}):this.$Message.warning("请将必填项填写完整！")}},created:function(){this.getList()}},l=o,c=i("2877"),r=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=r.exports},dc72:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"新增/编辑角色语音"}}),i("page-content",[i("pair",{staticClass:"col"},[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("角色")]),i("Select",{staticStyle:{width:"200px"},attrs:{slot:"value"},slot:"value",model:{value:t.roleId,callback:function(e){t.roleId=e},expression:"roleId"}},t._l(t.uiRoleOptions,function(e){return i("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1)],1),i("pair",{staticClass:"col"},[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),i("Input",{staticStyle:{width:"300px"},attrs:{slot:"value",type:"textarea",rows:3},slot:"value",model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1),t._l(t.voiceData,function(e,a){return i("Card",{key:a,staticClass:"card"},[i("p",{staticStyle:{"font-size":"18px"},attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s(e.title))]),1===e.id||2===e.id?i("span",{domProps:{innerHTML:t._s(t.getRateData(e.hierarchy,3))}}):i("span",{domProps:{innerHTML:t._s(t.getRateData(e.hierarchy))}})]),e.hierarchy.length>0?t._l(e.hierarchy,function(e,a){return i("Card",{key:a,staticClass:"card"},[i("p",{staticStyle:{"font-size":"16px"},attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s(e.title))]),e.has_voice?i("span",{staticStyle:{color:"#1bb982"}},[t._v("["+t._s(e.id)+"]")]):t._e(),0===e.has_voice?i("span",{domProps:{innerHTML:t._s(t.getRateData(e.hierarchy))}}):t._e(),e.position?i("Tooltip",{attrs:{placement:"right-start",theme:"light"}},[i("img",{staticStyle:{width:"200px",height:"320px"},attrs:{slot:"content",src:e.position},slot:"content"}),i("Icon",{attrs:{type:"ios-information-circle"}})],1):t._e()],1),e.example?i("Alert",{staticStyle:{width:"600px",float:"left"},attrs:{"show-icon":""}},[i("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),i("span",{attrs:{slot:"desc"},slot:"desc"},[t._v("示例："+t._s(e.example))])],1):t._e(),e.has_voice?i("audiolistuploader",{staticStyle:{float:"left","margin-left":"10px"},on:{audiouploaded:function(i){return t.audioUploaded(arguments[0],e)}}}):t._e(),i("div",{staticClass:"clear"}),e.voice&&e.voice.length>0?[t._l(e.voice,function(a,s){return i("div",{key:s,staticStyle:{float:"left"}},[i("audio",{attrs:{src:a.url,controls:"controls"}}),i("Button",{staticStyle:{"margin-left":"5px","vertical-align":"bottom"},attrs:{type:"text",size:"small",shape:"circle",icon:"ios-trash-outline"},on:{click:function(i){return t.delVoice(s,e)}}})],1)}),i("div",{staticClass:"clear"})]:t._e(),e.hierarchy&&e.hierarchy.length>0?t._l(e.hierarchy,function(e,a){return i("Card",{key:a,staticClass:"card"},[i("p",{staticStyle:{"font-size":"14px"},attrs:{slot:"title"},slot:"title"},[i("span",[t._v(t._s(e.title))]),e.has_voice?i("span",{staticStyle:{color:"#1bb982"}},[t._v("["+t._s(e.id)+"]")]):t._e(),e.position?i("Tooltip",{attrs:{placement:"right-start",theme:"light"}},[i("img",{staticStyle:{width:"200px",height:"320px"},attrs:{slot:"content",src:e.position},slot:"content"}),i("Icon",{attrs:{type:"ios-information-circle"}})],1):t._e()],1),e.example?i("Alert",{staticStyle:{width:"600px",float:"left"},attrs:{"show-icon":""}},[i("Icon",{attrs:{slot:"icon",type:"ios-bulb-outline"},slot:"icon"}),i("span",{attrs:{slot:"desc"},slot:"desc"},[t._v("示例："+t._s(e.example))])],1):t._e(),e.has_voice?i("audiolistuploader",{staticStyle:{float:"left","margin-left":"10px"},on:{audiouploaded:function(i){return t.audioUploaded(arguments[0],e)}}}):t._e(),i("div",{staticClass:"clear"}),e.voice&&e.voice.length>0?[t._l(e.voice,function(a,s){return i("div",{key:s,staticStyle:{float:"left",margin:"10px 0 0 15px"}},[i("audio",{attrs:{src:a.url,controls:"controls"}}),i("Button",{staticStyle:{"margin-left":"-5px","vertical-align":"bottom"},attrs:{type:"text",size:"small",shape:"circle",icon:"ios-trash-outline"},on:{click:function(i){return t.delVoice(s,e)}}})],1)}),i("div",{staticClass:"clear"})]:t._e()],2)}):t._e()],2)}):t._e()],2)}),i("Button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"large",disabled:t.savebtn},on:{click:t.save}},[t._v("提交")])],2)],1)},s=[],n=(i("ac6a"),i("a358")),o={data:function(){return{voiceData:[],uiRoleOptions:[],roleId:"",note:"",savebtn:!1}},methods:{getData:function(){var t=this;"new"===this.$route.params.id?n["a"].get_uivoice_structure({cb:function(e){0===e.code&&(t.voiceData=e.data)}}):n["a"].get_uivoice_detail({id:this.$route.params.id,cb:function(e){0===e.code&&(t.note=e.data.note,t.roleId=e.data.role.id,t.voiceData=e.data.ui_voice_hierarchy)}})},getUIRoleOptions:function(){var t=this;n["a"].get_uirole_simple_list({cb:function(e){0===e.code&&(t.uiRoleOptions=e.data)}})},audioUploaded:function(t,e){e["voice"].push({id:0,url:t})},delVoice:function(t,e){e["voice"].splice(t,1)},getVoiceData:function(t,e){var i=this;Array.isArray(t)&&0!==t.length&&t.forEach(function(t){if(Array.isArray(t.voice)&&t.voice.length>0){var a={};a.ui_voice_hierarchy_id=t.id,a.voice=t.voice,e.push(a)}i.getVoiceData(t.hierarchy,e)})},save:function(){var t=this,e=[];this.getVoiceData(this.voiceData,e);var i={};i.role_id=this.roleId,i.note=this.note,i.ui_voice_hierarchy_relation=e,"new"===this.$route.params.id?n["a"].add_uivoice({params:i,cb:function(e){0===e.code&&(t.savebtn=!0,t.$Message.success("保存成功"))}}):n["a"].edit_uivoice({id:this.$route.params.id,params:i,cb:function(e){0===e.code&&t.$Message.success("修改成功")}})},getRateData:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,i=0,a=0,s="";return 2===e?t.forEach(function(t){++a,Array.isArray(t.voice)&&t.voice.length>0&&++i}):3===e&&t.forEach(function(t){t.hierarchy.forEach(function(t){++a,Array.isArray(t.voice)&&t.voice.length>0&&++i})}),s=i<a?'<span style="color: red">('.concat(i,"/").concat(a,")</span>"):"<span>(".concat(i,"/").concat(a,")</span>"),s}},created:function(){this.getData(),this.getUIRoleOptions()}},l=o,c=(i("611b"),i("2877")),r=Object(c["a"])(l,a,s,!1,null,"201d07a2",null);e["default"]=r.exports},e369:function(t,e,i){"use strict";var a=i("8fe2"),s=i.n(a);s.a},eb69:function(t,e,i){},f358:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("page-container",[i("page-header",{attrs:{title:"维度题量配置"}}),i("page-content",[i("Table",{staticClass:"table",attrs:{size:"small",stripe:"",border:"",columns:t.columns,data:t.set}}),i("Modal",{attrs:{title:"L"+t.tempset.level+" 维度题量配置"},on:{"on-ok":t.save},model:{value:t.editdimension_modal,callback:function(e){t.editdimension_modal=e},expression:"editdimension_modal"}},[i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("听音-选图")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.listening_select_pic,callback:function(e){t.$set(t.tempset,"listening_select_pic",e)},expression:"tempset.listening_select_pic"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("看图-选词")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.pic_select_word,callback:function(e){t.$set(t.tempset,"pic_select_word",e)},expression:"tempset.pic_select_word"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("看图听音-选音")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.pic_listening_select_voice,callback:function(e){t.$set(t.tempset,"pic_listening_select_voice",e)},expression:"tempset.pic_listening_select_voice"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("标准填空")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.fill_word,callback:function(e){t.$set(t.tempset,"fill_word",e)},expression:"tempset.fill_word"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("看图听音-复述")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.pic_listening_retelling,callback:function(e){t.$set(t.tempset,"pic_listening_retelling",e)},expression:"tempset.pic_listening_retelling"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("看图看字听音-跟读")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.pic_word_listening_read,callback:function(e){t.$set(t.tempset,"pic_word_listening_read",e)},expression:"tempset.pic_word_listening_read"}})],1),i("pair",[i("span",{attrs:{slot:"name"},slot:"name"},[t._v("看图选词-读答案")]),i("Input",{attrs:{slot:"value"},slot:"value",model:{value:t.tempset.pic_select_word_read,callback:function(e){t.$set(t.tempset,"pic_select_word_read",e)},expression:"tempset.pic_select_word_read"}})],1)],1)],1)],1)},s=[],n=(i("7f7f"),i("a358")),o={data:function(){var t=this;return{columns:[{title:"等级/题型",key:"level"},{title:"听音-选图",key:"listening_select_pic"},{title:"看图-选词",key:"pic_select_word"},{title:"看图听音-选音",key:"pic_listening_select_voice"},{title:"标准填空",key:"fill_word"},{title:"看图听音-复述",key:"pic_listening_retelling"},{title:"看图看字听音-跟读",key:"pic_word_listening_read"},{title:"看图选词-读答案",key:"pic_select_word_read"},{title:"操作",render:function(e,i){return e("div",[t.$makeBtn(e,"text","编辑",t.show_editdimension_modal,i.row)])}}],set:[{level:0,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:1,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:2,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:3,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:4,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:5,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},{level:6,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0}],editdimension_modal:!1,tempset:{}}},methods:{get_questions_set:function(){var t=this;n["a"].get_set(function(e){if(0==e.code){for(var i="",a=0;a<e.data.length;a++)"questions"==e.data[a].name&&(i=e.data[a].config);if(i){t.set=[];for(var s=JSON.parse(i),n=0;n<7;n++){for(var o={level:n,listening_select_pic:0,pic_select_word:0,pic_listening_select_voice:0,fill_word:0,pic_listening_retelling:0,pic_word_listening_read:0,pic_select_word_read:0},l=0;l<s.length;l++)if(s[l].level==n){var c=s[l].type;o[c]=s[l].amount}t.set.push(o)}}}})},show_editdimension_modal:function(t){this.tempset=this.$deepCopy(t),this.editdimension_modal=!0},save:function(){for(var t=this,e=[],i=["listening_select_pic","pic_select_word","pic_listening_select_voice","fill_word","pic_listening_retelling","pic_word_listening_read","pic_select_word_read"],a=0;a<t.set.length;a++)if(t.set[a].level==t.tempset.level)for(var s=0;s<i.length;s++)t.set[a][i[s]]=t.tempset[i[s]];for(var o=0;o<t.set.length;o++)for(var l=t.set[o],c=0;c<i.length;c++){var r={};r.level=l.level,r.type=i[c],r.amount=l[i[c]],e.push(r)}var d=[{name:"questions",config:JSON.stringify(e)}];n["a"].update_set(d,function(e){0==e.code&&(t.get_questions_set,t.$Message.success("操作成功"))})}},mounted:function(){this.get_questions_set()}},l=o,c=(i("23f7"),i("2877")),r=Object(c["a"])(l,a,s,!1,null,"60be58af",null);e["default"]=r.exports},f3d4:function(t,e,i){"use strict";var a=i("acda"),s=i.n(a);s.a}}]);