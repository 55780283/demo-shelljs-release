(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["words"],{"01c5":function(t,e,a){"use strict";var i=a("ef0a"),o=a.n(i);o.a},1541:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:t.title}}),a("page-btns-bar",[a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:t.show_add_tag_modal}},[t._v("新增")]),t.show_batch_btn?a("i-button",{staticClass:"btn_margin",attrs:{type:"primary"},on:{click:function(e){return t.delete_tag(t.selected_ids)}}},[t._v("批量删除")]):t._e()],1),a("Table",{staticClass:"tagstable",attrs:{loading:t.table_loading,size:"small",stripe:"",border:"",columns:t.columns,data:t.list},on:{"on-selection-change":t.selectchange}}),a("mypage",{attrs:{pageData:t.pageData},on:{pageChange:t.pageChange}}),a("Modal",{attrs:{title:t.tag_modal_title},on:{"on-ok":t.change_tag},model:{value:t.tag_modal,callback:function(e){t.tag_modal=e},expression:"tag_modal"}},[a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("名称")]),a("Input",{attrs:{slot:"value",placeholder:"请输入..."},slot:"value",model:{value:t.tagDetail.name,callback:function(e){t.$set(t.tagDetail,"name",e)},expression:"tagDetail.name"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("中文释义")]),a("Input",{attrs:{slot:"value",placeholder:"请输入..."},slot:"value",model:{value:t.tagDetail.name_cn,callback:function(e){t.$set(t.tagDetail,"name_cn",e)},expression:"tagDetail.name_cn"}})],1),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{attrs:{slot:"value",type:"textarea",placeholder:"请输入..."},slot:"value",model:{value:t.tagDetail.note,callback:function(e){t.$set(t.tagDetail,"note",e)},expression:"tagDetail.note"}})],1)],1)],1)},o=[],n=(a("6762"),a("2fdb"),a("456d"),a("ac6a"),a("a358")),r={data:function(){var t=this;return{title:"",list:[],table_loading:!1,tag_modal:!1,show_batch_btn:!1,tag_modal_title:"",selected_ids:[],typeMap:{word:1,sentence:2,knowledge:3},pageData:{total:0,perPage:1,currentPage:1},searchData:{page:1},tagDetail:{type:1,name:"",name_cn:"",note:""},columns:[{type:"selection",width:60,align:"center"},{title:"名称",width:140,key:"name"},{title:"中文释义",width:140,key:"name_cn"},{title:"使用总数",width:100,key:"use_count"},{title:"备注",minWidth:160,key:"note"},{title:"操作",width:180,render:function(e,a){return e("div",[t.$makeBtn(e,"text","编辑",t.show_edit_tag_modal,a.row),t.$makeBtn(e,"text","删除",t.delete_tag,[a.row.id])])}}]}},methods:{show_add_tag_modal:function(){var t=this;Object.keys(this.tagDetail).forEach(function(e){t.tagDetail[e]=""}),this.tagDetail.type=this.typeMap[this.$route.params.type],this.tag_modal_title="新增标签",this.tag_modal=!0},show_edit_tag_modal:function(t){this.tagDetail=this.$deepCopy(t),this.tag_modal_title="编辑标签",this.tag_modal=!0},change_tag:function(){var t=this;"新增标签"===this.tag_modal_title?n["a"].add_tag({params:this.tagDetail,cb:function(e){0===e.code&&(t.getList(),t.$Message.success("添加成功"))}}):n["a"].edit_tag({id:this.tagDetail.id,params:this.tagDetail,cb:function(e){0===e.code&&(t.getList(),t.$Message.success("编辑成功"))}})},delete_tag:function(t){var e=this;this.$Modal.confirm({title:"确认",content:"确认删除？",onOk:function(){n["a"].delete_tag({params:t,cb:function(t){0===t.code&&(e.getList(),e.$Message.success("删除成功！"))}})}})},selectchange:function(t){this.selected_ids=[],0==t.length?this.show_batch_btn=!1:this.show_batch_btn=!0;for(var e=0;e<t.length;e++)this.selected_ids.push(t[e].id)},_getListCb:function(t){0===t.code&&(this.list=t.data.list,this.pageData.total=t.data.total,this.pageData.perPage=t.data.perPage,this.pageData.currentPage=t.data.currentPage,this.table_loading=!1)},getList:function(){var t=this;this.table_loading=!0,["word","sentence"].includes(this.$route.params.type)?n["a"].get_tags({type:this.typeMap[this.$route.params.type],params:this.searchData,cb:function(e){t._getListCb(e)}}):n["a"].get_knowledge_info_tags({params:this.searchData,cb:function(e){t._getListCb(e)}})},pageChange:function(t){this.searchData.page=t,this.getList()}},watch:{$route:{handler:function(t){"word"===t.params.type?this.title="词汇标签列表":"sentence"===t.params.type?this.title="单句标签列表":"knowledge"===t.params.type&&(this.title="知识点标签列表"),this.getList()},immediate:!0}},created:function(){}},l=r,s=(a("01c5"),a("2877")),_=Object(s["a"])(l,i,o,!1,null,"52886df9",null);e["default"]=_.exports},"5ce6":function(t,e,a){},"67f3":function(t,e,a){"use strict";var i=a("5ce6"),o=a.n(i);o.a},a05a:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-container",[a("page-header",{attrs:{title:"新增/编辑单词"}}),a("page-content",[a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("等级")]),a("Select",{staticStyle:{width:"150px"},attrs:{slot:"value"},slot:"value",model:{value:t.info.level,callback:function(e){t.$set(t.info,"level",e)},expression:"info.level"}},t._l(t.levelOptions,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("词性")]),a("Select",{staticStyle:{width:"150px"},attrs:{slot:"value",clearable:""},slot:"value",model:{value:t.info.class,callback:function(e){t.$set(t.info,"class",e)},expression:"info.class"}},t._l(t.pfsOptions,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1),a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("英文单词")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticStyle:{width:"240px"},attrs:{type:"textarea",placeholder:"请输入..."},model:{value:t.info.elision,callback:function(e){t.$set(t.info,"elision",e)},expression:"info.elision"}}),a("Tooltip",{attrs:{placement:"bottom-end",theme:"light"}},[a("Icon",{staticStyle:{"font-size":"18px",cursor:"pointer",margin:"38px 0 0 5px"},attrs:{type:"md-information-circle"}}),a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("prin~ci~ple 代表划分音节")]),a("p",[t._v("princi<ple> 代表挖空ple")]),a("p",[t._v("\n              prin*ciple* 代表\n              "),a("span",{staticStyle:{color:"red"}},[t._v("ciple")]),t._v("标红\n            ")])])],1),a("p",{staticStyle:{"margin-left":"8px"}},[t._v(t._s(t.info.text))]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("特征干扰项("+t._s(t.info.other_word.length+t.info.other_partly.length)+")")]),a("i-button",{attrs:{slot:"value",size:"small",type:"default"},on:{click:t.show_other_word_partly_modal},slot:"value"},[t._v("修改")])],1),a("Tabs",{staticStyle:{width:"400px","max-height":"300px","overflow-y":"auto"}},[a("TabPane",{attrs:{label:"整体干扰项("+t.info.other_word.length+")"}},t._l(t.info.other_word,function(e,i){return a("p",{key:i,staticStyle:{"margin-bottom":"3px"}},[t._v(t._s(i+1+". "+e.text))])}),0),a("TabPane",{attrs:{label:"局部干扰项("+t.info.other_partly.length+")"}},t._l(t.info.other_partly,function(e,i){return a("p",{key:i,staticStyle:{"margin-bottom":"3px"}},[t._v(t._s(i+1+". "+e.text))])}),0)],1)],1)]),a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("中文释义")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea",placeholder:"请输入..."},slot:"value",model:{value:t.info.text_cn,callback:function(e){t.$set(t.info,"text_cn",e)},expression:"info.text_cn"}}),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("特征干扰项("+t._s(t.info.other_text_cn.length)+")")]),a("i-button",{attrs:{slot:"value",size:"small",type:"default"},on:{click:t.show_other_text_cn_modal},slot:"value"},[t._v("修改")])],1),t._l(t.info.other_text_cn,function(e,i){return a("span",{key:i,staticStyle:{"margin-left":"10px"}},[t._v(t._s(e.text))])})],2)]),a("audiouploader",{attrs:{src:t.info.describe_audio.url,delable:!0,maxSize:3072,name:"描述音频（限mp3文件, 限大小3MB）"},on:{del:t.describeAudioDel,audiouploaded:t.describeAudioUploaded}}),a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("图片组")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.info.image,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{display:"inline-block"}},[a("div",{staticClass:"img-upload-list"},[a("img",{attrs:{src:e.url}}),a("div",{staticClass:"img-upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return t.remove_image(e,t.info.image)}}})],1)]),a("div",{staticStyle:{width:"100px"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}})],1)]):t._e()}),a("piclistuploader",{staticStyle:{display:"inline-block"},on:{picuploaded:t.image_uploaded}}),a("p",[t._v("\n          注：限定1000*1000的高宽，图片最大不超过500kb\n          "),a("br"),t._v("给每个图片分配标记，目标是为了组题的时候尽可能图片风格一致\n          "),a("br"),t._v("标记示例：卡通=cartoon, 真实的=real, 手绘风格图=sketch\n        ")])],2),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("特征干扰项("+t._s(t.info.other_pic.length)+")")]),a("i-button",{attrs:{slot:"value",size:"small",type:"default"},on:{click:t.show_other_pic_modal},slot:"value"},[t._v("修改")])],1),t._l(t.info.other_pic,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{display:"inline-block"}},[a("div",{staticClass:"img-upload-list"},[a("img",{attrs:{src:e.url}})]),a("div",{staticStyle:{width:"100px"}},[t._v(t._s(e.tag))])]):t._e()})],2),a("pair",{staticClass:"col"},[a("span",{staticClass:"required",attrs:{slot:"name"},slot:"name"},[t._v("音频组")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.info.audio,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{"margin-bottom":"5px",width:"480px"}},[a("audio",{attrs:{src:e.url,controls:"controls"}}),a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_audio(e)}}}),i!=t.info.audio.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.info.audio,"url")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.info.audio,"url")}}}):t._e(),a("Select",{staticStyle:{width:"80px",float:"right"},attrs:{slot:"value"},slot:"value",model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},t._l(t.audioTypeOptions,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e()}),a("audiolistuploader",{on:{audiouploaded:t.audio_uploaded}}),a("p",[t._v("注：限定mp3格式的音频，文件最大不超过300kb，非必须，如果不上传则调用tts接口播放")]),a("pair",[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("特征干扰项("+t._s(t.info.other_audio.length)+")")]),a("i-button",{attrs:{slot:"value",size:"small",type:"default"},on:{click:t.show_other_audio_modal},slot:"value"},[t._v("修改")])],1),t._l(t.info.other_audio,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{"margin-bottom":"5px",width:"380px"}},[a("audio",{attrs:{src:e.url,controls:"controls"}}),a("Select",{staticStyle:{width:"80px",float:"right"},attrs:{slot:"value",disabled:""},slot:"value",model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},t._l(t.audioTypeOptions,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e()})],2)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("关联单词")]),a("div",{attrs:{slot:"value"},slot:"value"},[a("i-button",{staticStyle:{"margin-bottom":"5px"},attrs:{type:"primary"},on:{click:t.add_word}},[t._v("添加")]),a("Table",{staticStyle:{width:"700px","margin-bottom":"10px"},attrs:{stripe:"",border:"",columns:t.alwordscolumns,data:t.info.parent_other}})],1)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("标签")]),a("div",{attrs:{slot:"value"},slot:"value"},[t._l(t.info.tag,function(e,i){return a("div",{key:i,staticStyle:{display:"inline-block","margin-left":"10px"}},[t._v("\n          "+t._s(e.name)+"\n          "),a("Button",{staticStyle:{margin:"0 3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_tag(e,t.info.tag)}}})],1)}),a("Select",{staticStyle:{width:"120px","margin-right":"3px"},attrs:{slot:"value"},slot:"value",model:{value:t.new_tag,callback:function(e){t.new_tag=e},expression:"new_tag"}},t._l(t.tagslist,function(e){return a("Option",{key:e.value,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1),a("Button",{attrs:{type:"primary"},on:{click:t.addtag}},[t._v("+")])],2)]),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("编辑者")]),a("Select",{staticStyle:{width:"150px"},attrs:{slot:"value"},slot:"value",model:{value:t.info.author,callback:function(e){t.$set(t.info,"author",e)},expression:"info.author"}},t._l(t.managerList,function(e){return a("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name_cn+"("+e.name+")"))])}),1)],1),a("pair",{staticClass:"col"},[a("span",{attrs:{slot:"name"},slot:"name"},[t._v("备注")]),a("Input",{staticStyle:{width:"240px"},attrs:{slot:"value",type:"textarea",placeholder:"请输入..."},slot:"value",model:{value:t.info.note,callback:function(e){t.$set(t.info,"note",e)},expression:"info.note"}})],1),a("i-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary",size:"large",disabled:t.savebtn},on:{click:t.save}},[t._v("提交")]),a("Modal",{attrs:{title:"英文单词特征干扰项"},on:{"on-ok":t.change_other_word_partly},model:{value:t.other_word_partly_modal,callback:function(e){t.other_word_partly_modal=e},expression:"other_word_partly_modal"}},[a("Tabs",{attrs:{type:"card"},model:{value:t.otherTabActive,callback:function(e){t.otherTabActive=e},expression:"otherTabActive"}},[a("TabPane",{attrs:{label:"整体干扰项",name:"word"}},[t._l(t.temp_other_word,function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"8px",width:"300px"}},[a("Input",{staticStyle:{width:"200px"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}}),a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_item(e,t.temp_other_word,"text")}}}),i!=t.temp_other_word.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.temp_other_word,"text")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.temp_other_word,"text")}}}):t._e()],1)}),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入..."},model:{value:t.new_other_word,callback:function(e){t.new_other_word=e},expression:"new_other_word"}}),a("Button",{staticStyle:{width:"45px","margin-left":"20px"},attrs:{type:"primary"},on:{click:t.add_other_word}},[t._v("+")])],2),a("TabPane",{attrs:{label:"局部干扰项",name:"partly"}},[t._l(t.temp_other_partly,function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"8px",width:"300px"}},[a("Input",{staticStyle:{width:"200px"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}}),a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_item(e,t.temp_other_partly,"text")}}}),i!=t.temp_other_partly.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.temp_other_partly,"text")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.temp_other_partly,"text")}}}):t._e()],1)}),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入..."},model:{value:t.new_other_partly,callback:function(e){t.new_other_partly=e},expression:"new_other_partly"}}),a("Button",{staticStyle:{width:"45px","margin-left":"20px"},attrs:{type:"primary"},on:{click:t.add_other_partly}},[t._v("+")])],2)],1)],1),a("Modal",{attrs:{title:"中文释义特征干扰项"},on:{"on-ok":t.change_other_text_cn},model:{value:t.other_text_cn_modal,callback:function(e){t.other_text_cn_modal=e},expression:"other_text_cn_modal"}},[t._l(t.temp_other_text_cn,function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"8px",width:"300px"}},[a("Input",{staticStyle:{width:"200px"},model:{value:e.text,callback:function(a){t.$set(e,"text",a)},expression:"item.text"}}),a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_item(e,t.temp_other_text_cn,"text")}}}),i!=t.temp_other_text_cn.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.temp_other_text_cn,"text")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.temp_other_text_cn,"text")}}}):t._e()],1)}),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入..."},model:{value:t.new_other_text_cn,callback:function(e){t.new_other_text_cn=e},expression:"new_other_text_cn"}}),a("Button",{staticStyle:{width:"45px","margin-left":"20px"},attrs:{type:"primary"},on:{click:t.add_other_text_cn}},[t._v("+")])],2),a("Modal",{attrs:{title:"图片特征干扰项"},on:{"on-ok":t.change_other_pic},model:{value:t.other_pic_modal,callback:function(e){t.other_pic_modal=e},expression:"other_pic_modal"}},[t._l(t.temp_other_pic,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{display:"inline-block"}},[a("div",{staticClass:"img-upload-list"},[a("img",{attrs:{src:e.url}}),a("div",{staticClass:"img-upload-list-cover"},[a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(a){return t.remove_item(e,t.temp_other_pic,"url")}}})],1)]),a("div",{staticStyle:{width:"100px"}},[a("Input",{attrs:{placeholder:"请输入..."},model:{value:e.tag,callback:function(a){t.$set(e,"tag",a)},expression:"item.tag"}}),i!=t.temp_other_pic.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-forward"},on:{click:function(a){return t.down_item(e,t.temp_other_pic,"url")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right"},attrs:{size:"small",icon:"ios-arrow-back"},on:{click:function(a){return t.up_item(e,t.temp_other_pic,"url")}}}):t._e()],1)]):t._e()}),a("piclistuploader",{staticStyle:{display:"inline-block"},on:{picuploaded:t.other_pic_uploaded}})],2),a("Modal",{attrs:{title:"音频特征干扰项"},on:{"on-ok":t.change_other_audio},model:{value:t.other_audio_modal,callback:function(e){t.other_audio_modal=e},expression:"other_audio_modal"}},[t._l(t.temp_other_audio,function(e,i){return""!=e.url?a("div",{key:i,staticStyle:{"margin-bottom":"5px",width:"480px"}},[a("audio",{attrs:{src:e.url,controls:"controls"}}),a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-close-circle"},on:{click:function(a){return t.remove_item(e,t.temp_other_audio,"url")}}}),i!=t.temp_other_audio.length-1?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-down"},on:{click:function(a){return t.down_item(e,t.temp_other_audio,"url")}}}):t._e(),0!=i?a("Button",{staticStyle:{float:"right","margin-left":"3px"},attrs:{size:"small",icon:"ios-arrow-up"},on:{click:function(a){return t.up_item(e,t.temp_other_audio,"url")}}}):t._e(),a("Select",{staticStyle:{width:"80px",float:"right"},attrs:{slot:"value"},slot:"value",model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"item.type"}},t._l(t.audioTypeOptions,function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])}),1)],1):t._e()}),a("audiolistuploader",{on:{audiouploaded:t.other_audio_uploaded}})],2),a("Modal",{attrs:{width:"600px",title:"关联单词"},on:{"on-ok":t.change_parent_other},model:{value:t.add_modal,callback:function(e){t.add_modal=e},expression:"add_modal"}},[t.add_modal?a("simplewordstable",{staticStyle:{"margin-bottom":"5px"},attrs:{id:t.$route.params.id,selection:"multiple"},on:{selectchange:t.selectchange}}):t._e()],1)],1)],1)},o=[],n=(a("a481"),a("7f7f"),a("a358")),r=a("be3c"),l={data:function(){var t=this;return{savebtn:!1,other_word_partly_modal:!1,other_text_cn_modal:!1,other_pic_modal:!1,other_audio_modal:!1,add_modal:!1,temp_other_partly:[],temp_other_word:[],new_other_word:"",new_other_partly:"",temp_other_text_cn:[],new_other_text_cn:"",temp_other_pic:[],temp_other_audio:[],temp_parent_other:[],headers:{},delete_ary:[],other_pic_delete_ary:[],audio_delete_ary:[],other_audio_delete_ary:[],otherTabActive:"word",info:{type:1,level:"",class:"",text:"",elision:"",text_cn:"",author:"",note:"",tag:[],image:[],audio:[],other_word:[],other_partly:[],other_sentence:[],other_text_cn:[],other_pic:[],other_audio:[],parent_other:[],describe_audio:{url:""}},managerList:[],levelOptions:r["c"],pfsOptions:r["d"],audioTypeOptions:r["a"],new_tag:0,tagslist:{},alwordscolumns:[{title:"ID",width:80,key:"id"},{title:"单词",key:"text",minWidth:100},{title:"中文",key:"text_cn",tooltip:!0,minWidth:120},{title:"等级",width:80,key:"level"},{title:"标签",width:100,render:function(t,e){var a="";return e.row.tag&&(a=e.row.tag.map(function(t){return t.name}).join(", ")),t("span",a)}},{title:"词性",width:100,key:"class"},{title:"操作",width:80,fixed:"right",render:function(e,a){return e("div",[t.$makeBtn(e,"text","删除",t.delete_parent_other,a.row.id)])}}]}},watch:{"info.elision":function(t){var e=t+"";this.info.text=e.replace(/~|\*|>|</g,"")}},methods:{exchange_place:function(t,e,a){return t[e]=t.splice(a,1,t[e])[0],t},addtag:function(){if(0!=this.new_tag){for(var t=[],e=0;e<this.info.tag.length;e++)t.push(this.info.tag[e].id);this.$inArray(this.new_tag,t)||this.info.tag.push(this.tagslist[this.new_tag])}},show_other_word_partly_modal:function(){this.delete_ary=[],this.other_word_partly_modal=!0,this.temp_other_word=this.$deepCopy(this.info.other_word),this.temp_other_partly=this.$deepCopy(this.info.other_partly)},show_other_text_cn_modal:function(){this.delete_ary=[],this.other_text_cn_modal=!0,this.temp_other_text_cn=this.$deepCopy(this.info.other_text_cn)},show_other_pic_modal:function(){this.delete_ary=[],this.other_pic_modal=!0,this.temp_other_pic=this.$deepCopy(this.info.other_pic)},show_other_audio_modal:function(){this.delete_ary=[],this.other_audio_modal=!0,this.temp_other_audio=this.$deepCopy(this.info.other_audio)},add_other_word:function(){for(var t=[],e=0;e<this.temp_other_word.length;e++)t.push(this.temp_other_word[e].text);if(""!=this.new_other_word&&!this.$inArray(this.new_other_word,t)){var a={};a.text=this.new_other_word,a.weight=0,this.temp_other_word.push(a),this.new_other_word=""}},add_other_partly:function(){for(var t=[],e=0;e<this.temp_other_partly.length;e++)t.push(this.temp_other_partly[e].text);if(""!=this.new_other_partly&&!this.$inArray(this.new_other_partly,t)){var a={};a.text=this.new_other_partly,a.weight=0,this.temp_other_partly.push(a),this.new_other_partly=""}},add_other_text_cn:function(){for(var t=[],e=0;e<this.temp_other_text_cn.length;e++)t.push(this.temp_other_text_cn[e].text);if(""!=this.new_other_text_cn&&!this.$inArray(this.new_other_text_cn,t)){var a={};a.text=this.new_other_text_cn,a.weight=0,this.temp_other_text_cn.push(a),this.new_other_text_cn=""}},other_pic_uploaded:function(t){for(var e=[],a=0;a<this.temp_other_pic.length;a++)e.push(this.temp_other_pic[a].url);if(!this.$inArray(t,e)){var i={tag:"",weight:0};i.url=t,this.temp_other_pic.push(i)}},other_audio_uploaded:function(t){for(var e=[],a=0;a<this.temp_other_audio.length;a++)e.push(this.temp_other_audio[a].url);if(!this.$inArray(t,e)){var i={type:"",weight:0};i.url=t,this.temp_other_audio.push(i)}},remove_item:function(t,e,a){for(var i=this.$deepCopy(t),o=0;o<e.length;o++)i[a]==e[o][a]&&(e[o].hasOwnProperty("id")&&(e[o][a]="",this.delete_ary.push(e[o])),e.splice(o,1),o-=1)},remove_audio:function(t){for(var e=this.$deepCopy(t),a=0;a<this.info.audio.length;a++)e.url==this.info.audio[a].url&&(this.info.audio[a].hasOwnProperty("id")&&(this.info.audio[a].url="",this.audio_delete_ary.push(this.info.audio[a])),this.info.audio.splice(a,1),a-=1)},remove_image:function(t,e){for(var a=this.$deepCopy(t),i=0;i<e.length;i++)a.url==e[i].url&&(e[i].hasOwnProperty("id")?e[i].url="":(e.splice(i,1),i-=1))},remove_tag:function(t,e){for(var a=this.$deepCopy(t),i=0;i<e.length;i++)a.id==e[i].id&&(e.splice(i,1),i-=1)},down_item:function(t,e,a){for(var i=0;i<e.length;i++)if(t[a]==e[i][a])return void this.exchange_place(e,i,i+1)},up_item:function(t,e,a){for(var i=0;i<e.length;i++)if(t[a]==e[i][a])return void this.exchange_place(e,i,i-1)},change_other_word_partly:function(){for(var t=0;t<this.temp_other_word.length;t++)this.temp_other_word[t].weight=this.temp_other_word.length-t;for(var e=0;e<this.temp_other_partly.length;e++)this.temp_other_partly[e].weight=this.temp_other_partly.length-e;this.info.other_word=this.temp_other_word,this.info.other_partly=this.temp_other_partly},change_other_text_cn:function(){for(var t=0;t<this.temp_other_text_cn.length;t++)this.temp_other_text_cn[t].weight=this.temp_other_text_cn.length-t;this.info.other_text_cn=this.temp_other_text_cn},change_other_pic:function(){for(var t=0;t<this.temp_other_pic.length;t++)this.temp_other_pic[t].weight=this.temp_other_pic.length-t;this.info.other_pic=this.temp_other_pic;for(var e=0;e<this.delete_ary.length;e++)this.other_pic_delete_ary.push(this.delete_ary[e])},change_other_audio:function(){for(var t=0;t<this.temp_other_audio.length;t++)this.temp_other_audio[t].weight=this.temp_other_audio.length-t;this.info.other_audio=this.temp_other_audio;for(var e=0;e<this.delete_ary.length;e++)this.other_audio_delete_ary.push(this.delete_ary[e])},add_word:function(){this.add_modal=!0},selectchange:function(t){this.temp_parent_other=t},change_parent_other:function(){for(var t=[],e=0;e<this.info.parent_other.length;e++)t.push(this.info.parent_other[e].id);for(var a=0;a<this.temp_parent_other.length;a++)this.$inArray(this.temp_parent_other[a].id,t)||this.info.parent_other.push(this.temp_parent_other[a])},delete_parent_other:function(t){for(var e=0;e<this.info.parent_other.length;e++)this.info.parent_other[e].id==t&&this.info.parent_other.splice(e,1)},image_uploaded:function(t){var e={};e.url=t,e.tag="",this.info.image.push(e),this.loading1=!1},audio_uploaded:function(t){var e={};e.url=t,e.type="",this.info.audio.push(e)},save:function(){var t=this;if(""!==this.info.level&&""!==this.info.text&&""!==this.info.text_cn&&0!==this.info.image.length&&0!==this.info.audio.length){for(var e=0;e<this.info.audio.length;e++)this.info.audio[e].weight=this.info.audio.length-e;for(var a=0;a<this.info.parent_other.length;a++)this.info.parent_other[a].weight=this.info.parent_other.length-a;for(var i=0;i<this.audio_delete_ary.length;i++)this.info.audio.push(this.audio_delete_ary[i]);for(var o=0;o<this.other_audio_delete_ary.length;o++)this.info.other_audio.push(this.other_audio_delete_ary[o]);for(var r=0;r<this.other_pic_delete_ary.length;r++)this.info.other_pic.push(this.other_pic_delete_ary[r]);"new"===this.$route.params.id?n["a"].add_knowledge(this.info,function(e){0===e.code&&(t.savebtn=!0,t.$Message.success("操作成功"))}):n["a"].update_knowledge(this.info.id,this.info,function(e){0===e.code&&t.$Message.success("操作成功")})}else this.$Message.error({content:"必填参数缺失",duration:3})},get_manager_list:function(){var t=this;n["a"].get_admin_simple_list({cb:function(e){0==e.code&&(t.managerList=e.data.list.filter(function(t){return 1===t.status}))}})},describeAudioUploaded:function(t){this.info.describe_audio.url=t},describeAudioDel:function(){this.info.describe_audio.url=""},keyEnter:function(t){13===t.which&&(this.other_word_partly_modal?"word"===this.otherTabActive?this.add_other_word():this.add_other_partly():this.other_text_cn_modal&&this.add_other_text_cn())}},created:function(){var t=this;this.get_manager_list();var e=this.$route.params.id;n["a"].get_tags_simple_list({type:1,cb:function(e){if(0===e.code){t.tagslist={};for(var a=0;a<e.data.length;a++)t.tagslist[e.data[a].id]=e.data[a]}}}),"new"!==e&&n["a"].get_knowledge(e,function(e){0==e.code&&(t.info=e.data,t.$isNone(t.info.describe_audio)&&t.$set(t.info,"describe_audio",{url:""}))})},mounted:function(){document.addEventListener("keyup",this.keyEnter)},destroyed:function(){document.removeEventListener("keyup",this.keyEnter)}},s=l,_=(a("67f3"),a("2877")),c=Object(_["a"])(s,i,o,!1,null,"14c1e789",null);e["default"]=c.exports},a481:function(t,e,a){a("214f")("replace",2,function(t,e,a){return[function(i,o){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n,o):a.call(String(n),i,o)},a]})},ef0a:function(t,e,a){}}]);